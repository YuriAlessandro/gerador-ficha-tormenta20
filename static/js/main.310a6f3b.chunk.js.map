{"version":3,"sources":["data/atributos.ts","assets/images/tormenta-logo-eye.png","components/Sidebar.tsx","interfaces/Poderes.ts","data/proficiencias.ts","interfaces/Skills.ts","data/powers/combatPowers.ts","data/pericias.ts","data/powers/grantedPowers.ts","data/powers/destinyPowers.ts","data/powers/spellPowers.ts","data/powers/tormentaPowers.ts","data/poderes.ts","interfaces/Divindade.ts","functions/randomUtils.ts","interfaces/Spells.ts","data/magias/generalSpells.ts","data/races/aggelus.ts","data/races/anao.ts","data/races/dahllan.ts","data/races/elfo.ts","data/races/raceSizes/raceSizes.ts","data/races/goblin.ts","data/races/lefou.ts","data/races/minotauro.ts","data/races/qareen.ts","data/races/golem.ts","data/races/hynne.ts","functions/powers.ts","data/races/humano.ts","data/races/kliren.ts","data/races/medusa.ts","data/races/functions/functions.ts","data/races/osteon.ts","data/races/sereia.ts","data/races/silfide.ts","data/races/sulfure.ts","data/races/trog.ts","data/racas.ts","data/classes/arcanista.ts","data/classes/barbaro.ts","data/classes/bardo.ts","data/classes/bucaneiro.ts","data/classes/cacador.ts","data/classes/cavaleiro.ts","data/divindades/aharadak.ts","data/divindades/allihanna.ts","data/divindades/arsenal.ts","data/divindades/azgher.ts","data/divindades/hyninn.ts","data/divindades/kallyadranoch.ts","data/divindades/khalmyr.ts","data/divindades/lena.ts","data/divindades/lin-wu.ts","data/divindades/marah.ts","data/divindades/megalokk.ts","data/divindades/nimb.ts","data/divindades/oceano.ts","data/divindades/sszzaas.ts","data/divindades/tanna-toh.ts","data/divindades/tenebra.ts","data/divindades/thwor.ts","data/divindades/thyatis.ts","data/divindades/valkaria.ts","data/divindades/wynna.ts","data/divindades.ts","data/classes.ts","data/classes/clerigo.ts","data/classes/druida.ts","data/classes/guerreiro.ts","data/classes/inventor.ts","data/classes/ladino.ts","data/classes/lutador.ts","data/classes/nobre.ts","data/classes/paladino.ts","components/Attribute.tsx","components/CharacterStat.tsx","components/SheetDivider.tsx","components/Weapon.tsx","components/Weapons.tsx","components/DefenseItem.tsx","components/DefenseEquipments.tsx","components/SpellRow.tsx","components/Spells.tsx","components/SpellsMobile.tsx","components/Result.tsx","data/equipamentos.ts","data/nomes.ts","data/powers/originPowers.ts","data/origins.ts","data/magias/arcane.ts","data/magias/divine.ts","interfaces/Bag.ts","functions/general.ts","functions/style.ts","components/MainScreen.tsx","assets/images/roadmap.png","components/Changelog.tsx","App.tsx","reportWebVitals.js",".config/keys.tsx","reactGA.config.ts","index.tsx"],"names":["Atributo","withRouter","visible","onCloseSidebar","isDarkTheme","onChangeTheme","useStyles","makeStyles","link","cursor","color","paper","position","zIndex","height","paddingTop","transition","menuItem","marginBottom","history","useHistory","classes","onClickLinks","url","window","open","document","addEventListener","event","key","Slide","direction","in","style","background","Paper","className","Link","href","target","src","String","logo","alt","textAlign","paddingRight","onClick","MenuList","MenuItem","push","ListItemIcon","Typography","variant","FormGroup","FormControlLabel","labelPlacement","control","Switch","checked","onChange","value","label","GeneralPowerType","RequirementType","Skill","PROFICIENCIAS","ESCUDOS","LEVES","MARCIAIS","PESADAS","SIMPLES","FOGO","EXOTICAS","combatPowers","ACUIDADE_COM_ARMA","name","description","type","COMBATE","requirements","ATRIBUTO","ARMA_SECUNDARIA_GRANDE","PODER","ARREMESSO_POTENTE","ATAQUE_PESADO","ATAQUE_PODEROSO","ATAQUE_PRECISO","BLOQUEIO_COM_ESCUDO","CARGA_DE_CAVALARIA","COMBATE_DEFENSIVO","DERRUBAR_APRIMORADO","DESARMAR_APRIMORADO","DISPARO_PRECISO","DISPARO_RAPIDO","EMPUNHADURA_PODEROSA","ENCOURACADO","PROFICIENCIA","ESQUIVA","action","sheet","subSteps","sheetClone","cloneDeep","merge","defesa","ESTILO_DE_ARMA_E_ESCUDO","PERICIA","ESTILO_DE_ARREMESO","ESTILO_DE_DISPARO","ESTILO_DE_DUAS_ARMAS","ESTILO_DE_DUAS_MAOS","ESTILO_DE_UMA_ARMA","ESTILO_DESARMADO","FANATICO","NIVEL","FINTA_APRIMORADA","FOCO_EM_ARMA","GINETE","INEXPUGNAVEL","MIRA_APURADA","PRESENCA_ATERRADORA","allowedProf","classe","proficiencias","includes","newProf","getNotRepeatedRandom","QUEBRAR_APRIMORADO","REFLEXOS_DE_COMBATE","SAQUE_RAPIDO","TRESPASSAR","VITALIDADE","addpv","getNotUsedSkillsFromAllowed","usedSkills","allowedSkills","Object","values","filter","element","indexOf","getNotRepeatedRandomSkill","getRandomItemFromArray","getNotRepeatedSkillsByQtd","qtd","pickFromArray","baseSkillsStrategies","and","baseSkills","notUsed","or","newSkill","GRANTED_POWERS","AFINIDADE_COM_A_TORMENTA","CONCEDIDOS","ANFIBIO","ARMAS_DA_AMBICAO","ARSENAL_DAS_PROFUNDEZAS","ASTUCIA_DA_SERPENTE","ATAQUE_PIEDOSO","AURA_DE_MEDO","AURA_DA_PAZ","AURA_RESTAURADORA","BENCAO_DO_MANA","pm","CARICIA_SOMBRIA","CENTELHA_MAGICA","HABILIDADE","not","newSpell","spellsCircle1","nome","spells","CONHECIMENTO_ENCICLOPEDICO","CONHECIMENTO","GUERRA","INVESTIGACAO","MISTICISMO","NOBREZA","OFICIO","skills","CONJURAR_ARMA","CORAGEM_TOTAL","CURA_GENTIL","CURANDEIRA_PERFEITA","DEDO_VERDE","addOrCheapenSpell","controlarPlantas","SABEDORIA","stepValue","DESCANSO_NATURAL","DOM_DA_IMORTALIDADE","CLASSE","DOM_DA_PROFECIA","spellsCircle2","augurio","DOM_DA_RESSUREICAO","DOM_DA_VERDADE","ESCAMAS_DRACONICAS","ESCUDO_MAGICO","ESPADA_JUSTICEIRA","ESPADA_SOLAR","FARSA_DO_FINGIDOR","criarIlusao","FORMA_DE_MACACO","FURIA_DIVINA","GOLPISTA_DIVINO","HABITANTE_DO_DESERTO","INIMIGO_DE_TENEBRA","KIAI_DIVINO","LIBERADE_DIVINA","MANTO_DA_PENUMBRA","escuridao","MENTE_ANALITICA","MENTE_VAZIA","MESTRE_DOS_MARES","OLHAR_AMEDRONTADOR","amedrontar","PALAVRAS_DE_BONDADE","enfeiticar","PERCEPCAO_TEMPORAL","PODER_OCULTO","PRESAS_VENENOSAS","REJEICAO_DIVINA","SANGUE_DE_FERRO","SANGUE_OFIDICO","SERVOS_DO_DRAGAO","SORTE_DOS_LOUCOS","TALENTO_ARTISTICO","TEURGISTA_MISTICO","TRANSMISSAO_DA_LOUCURA","sussurosInsanos","TROPAS_DUYSHIDAKK","URRO_DIVINO","VISAO_NAS_TREVAS","VOZ_DA_CIVILIZACAO","VOZ_DA_NATUREZA","acalmarAnimal","VOZ_DOS_MONSTROS","DestinyPowers","ACROBATICO","DESTINO","AO_SABOR_DO_DESTINO","APARENCIA_INOFENSIVA","ATLETICO","displacement","ATRAENTE","COMANDAR","FOCO_EM_PERICIA","allowSeveralPicks","INVESTIGADOR","LOBO_SOLITARIO","MEDICINA","PARCEIRO","SENTIDOS_AGUCADOS","SORTUDO","SURTO_HEROICO","TORCIDA","TREINAMENTO_EM_PERICIA","VENEFICIO","OFICIO_ALQUIMIA","VONTADE_DE_FERRO","destinyPowers","magicPowers","CELEBRAR_RITUAL","MAGIA","ESCREVER_PERGAMINHO","FOCO_EM_MAGIA","MAGIA_ACELERADA","MAGIA_AMPLIADA","MAGIA_ILIMITADA","PREPARAR_POCAO","tormentaPowers","ANATOMIA_INSANA","TORMENTA","ANTENAS","ARMAMENTO_ABERRANTE","PODER_TORMENTA","ARTICULACOES_FLEXIVEIS","ASAS_INSETOIDES","CARAPACA","CORPO_ABERRANTE","DENTES_AFIADOS","bag","addEquipment","Arma","group","dano","critico","tipo","EMPUNHADURA_RUBRA","MAOS_MEMBRANOSAS","MEMBROS_EXTRAS","OLHOS_VERMELHOS","PELE_CORROMPIDA","SANGUE_ACIDO","VISCO_RUBRO","generalPowers","grantedPowers","spellPowers","allDivindadeNames","array","Math","floor","random","length","normalizeFaithProbabability","faithP","sum","reduce","acc","curr","newFaithP","keys","forEach","typedKeys","picked","index","filtered","getRandomArbitrary","min","max","rollDice","qty","dice","discardLowestDiceQty","results","i","sort","a","b","spellsCircles","generalPowersEmpty","NOT_REPEATED_DEFAULTS","power","concat","skill","proficiencia","getNotUsedFromAllowed","used","allowed","spellsCircle1Names","spellsCircle2Names","allSpellSchools","manaExpenseByCircle","c1","c2","c3","c4","c5","abencoarAlimentos","spellCircle","execucao","alcance","alvo","duracao","school","resistencia","adagaMental","alarme","area","areaEscorregadia","armaEspiritual","armaMagica","armaduraArcana","armamentoDaNatureza","aviso","bencao","caminhosDaNatureza","comando","compreensao","concentracaoDeCombate","conjurarMonstro","consagrar","criarElementos","curarFerimentos","despedacar","detectarAmeacas","disfarceIlusorio","escudoDaFe","explosaoDeChamas","hipnotismo","imagemEspelhada","infligirFerimentos","lequeCromatico","luz","nevoa","orientacao","perdicao","primorAtletico","profanar","protecaoDivina","quedaSuave","raioDoEnfraquecimento","resistenciaAEnergia","santuario","setaInfalivelDeTalude","sono","suporteAmbiental","teia","toqueChocante","trancaArcana","tranquilidade","transmutarObjetos","visaoMistica","vitalidadeFantasma","spell","customKeyAttr","findIndex","sheetSpell","spellClone","spellToAdd","manaReduction","spellsToChange","cheapenSpell","getRandomSpells","allowedSpells","addOrCheapenRandomSpells","substeps","stepName","sheetToChange","randomSpells","randomSpell","AGGELUS","attributes","attrs","attr","mod","CARISMA","faithProbability","AHARADAK","AZGHER","KHALMYR","MARAH","THYATIS","abilities","ANAO","CONSTITUICAO","DESTREZA","ARSENAL","LINWU","THWOR","TENEBRA","getDisplacement","finalPV","pv","finalAddPV","_","DAHLLAN","INTELIGENCIA","ALLIHANNA","LENA","OCEANO","ELFO","KALLYADRANOCH","WYNNA","finalAddPM","addpm","RACE_SIZES","MINUSCULO","modifiers","maneuver","stealth","naturalRange","PEQUENO","MEDIO","GRANDE","ENORME","COLOSSAL","GOBLIN","HYNINN","MEGALOKK","NIMB","size","LEFOU","chifres","MINOTAURO","FORCA","finalDefense","QAREEN","GOLEM","TANNATOH","extraArmorPenalty","finalExtraArmorPenalty","HYNNE","isPowerAvailable","some","req","every","rule","origin","powers","currPower","atributos","pericia","result","ability","qtdPowers","actualPower","nivel","getPowersAllowedByRequirements","flat","HUMANO","VALKARIA","randomSkill","allowedPowers","randomPower","addSkillOrPower","KLIREN","MEDUSA","SSZZAAS","DEFAULT_RACE_SIZE","getRaceSize","race","getSize","getDefaultSize","getRaceDisplacement","getDefaultDisplacement","OSTEON","setup","allRaces","validRaces","oldRace","raca","addSkillOrGeneralPower","randomAbility","getAndApplyRandomOldRaceAbility","seaSongSpells","SEREIA","fairySpells","SILFIDE","SULFURE","mordida","TROG","RACAS","LEFEU","getRaceByName","find","defaultRace","allArcanistaSubtypes","spellPaths","Bruxo","initialSpells","spellType","qtySpellsLearnAtLevel","spellCircleAvailableAtLevel","level","keyAttribute","Mago","Feiticeiro","classAbilities","text","feiticeiroPaths","ARCANISTA","periciasbasicas","list","VONTADE","periciasrestantes","INICIATIVA","PERCEPCAO","keyAttr","keyAttrMod","Inteligência","subname","Carisma","finalPM","canRepeat","TIPO_ARCANISTA","probDevoto","attrPriority","modifiedClasse","subtype","spellPath","BARBARO","LUTA","FORTITUDE","ADESTRAMENTO","ATLETISMO","CAVALGAR","INTIMIDACAO","PONTARIA","SOBREVIVENCIA","BARDO","ATUACAO","REFLEXOS","ACROBACIA","DIPLOMACIA","ENGANACAO","FURTIVIDADE","INTUICAO","JOGATINA","LADINAGEM","RELIGIAO","schools","BUCANEIRO","PILOTAGEM","CACADOR","CURA","CAVALEIRO","poderes","AZGUER","DivindadeEnum","standardFaithProbability","CLASSES","Sabedoria","qtdPoderesConcedidos","Skills","Attribute","props","elementId","id","isDarkMode","substring","toUpperCase","CharacterStats","isMovement","Divider","Weapon","equipment","peso","Weapons","weapons","getKey","weaponsDiv","map","equip","DefenseItem","defenseBonus","armorPenalty","DefenseEquipments","defenseEquipments","DefenseEquipmentsDiv","SpellRow","lineHeight","colSpan","Spells","resistence","marginTop","SpellsMobile","Result","sexo","devoto","maxWeight","steps","React","useState","isRacePowersVisible","setisRacePowersVisible","isClassPowersVisible","setClassPowersVisible","generalPowersVisible","setGeneralPowersVisible","showExportButton","setExportButton","isOriginPowersVisible","setOriginPowersVisible","isGodPowersVisible","setGodPowersVisible","atributosDiv","atributo","periciasDiv","habilidadesRacaDiv","hab","habilidadesClasseDiv","proficienciasDiv","proe","bagEquipments","getEquipments","equipamentosDiv","entries","flatMap","Armadura","Escudo","poderesConcedidos","poder","originPowers","generalPowersDiv","resultRef","createRef","useEffect","current","preparePrint","Promise","resolve","setTimeout","changesDiv","step","display","marginLeft","trigger","onBeforeGetContent","content","documentTitle","ref","divindade","CharacterStat","getArmorPenalty","getWeight","role","tabIndex","onKeyDown","alignItems","marginRight","Armas","ADAGA","ESPADACURTA","FOICE","MANOPLA","CLAVA","LANCA","MACA","BORDAO","PIQUE","TACAPE","ARCOCURTO","BESTALEVE","AZAGAIA","FUNDA","MACHADINHA","CIMITARRA","FLORETE","MACHADO_DE_BATALHA","MANGUAL","MARTELO_DE_GUERRA","PICARETA","TRIDENTE","ARCO_LONGO","BESTA_PESADA","ALABARDA","ALFANGE","GADANHO","LANCA_MONTADA","MACHADO_DE_GUERRA","MONTANTE","CHICOTE","ESPADA_BASTARDA","KATANA","MACHADO_ANAO","CORRENTE_DE_ESPINHOS","MACHADO_TAURICO","REDE","MOSQUETE","PISTOLA","Armaduras","ARMADURADECOURO","COUROBATIDO","GIBAODEPELES","BRUNEA","COTA_DE_MALHA","LORIGA_SEGMENTADA","MEIA_ARMADURA","ARMADURA_COMPLETA","Escudos","ESCUDOLEVE","ESCUDO_PESADO","EQUIPAMENTOS","armasSimples","armasMarciais","armasExoticas","armadurasLeves","armaduraPesada","escudos","bardInstruments","nomes","Humano","Homem","Mulher","Anão","Dahllan","Elfo","Goblin","Minotauro","Qareen","Golem","Hynne","Kliren","Medusa","Sereia","Sílfide","Trog","lefouNames","lefouSurnames","nameGenerators","Osteon","sex","default","randomRaceName","randomRace","Lefou","firstName","lastName","ORIGIN_POWER_TYPE","MEMBRO_DA_IGREJA","AMIGO_ESPECIAL","LEMBRANCAS_GRADUAIS","SANGUE_AZUL","FRUTOS_DO_TRABALHO","DOM_ARTISTICO","ESSE_CHEIRO","PROVA_DE_TUDO","CONFISSAO","ALPINISTA_SOCIAL","TRUQUE_DE_MAGICA","PUNGUISTA","MEDICO_DE_CAMPO","BUSCA_INTERIOR","DESEJO_DE_LIBERDADE","PALPITE_FUNDAMENTADO","AGUA_NO_FEIJAO","CULTURA_EXOTICA","PAO_E_CIRCO","DETETIVE","HERANCA","AMIGO_DOS_PLEBEUS","PASSAGEM_DE_NAVIO","VENDEDOR_DE_CARCACAS","REDE_DE_CONTATOS","NEGOCIACAO","ESCAVADOR","MOCHILEIRO","QUEBRA_GALHO","ESTOICO","ANTIGO_MESTRE","VIDA_RUSTICA","INFLUENCIA_MILITAR","GOROROBA","ESFORCADO","makeOriginGeneralPowerGetter","originGeneralPowers","removeOriginPowers","allowedByRequirement","randomSkillFromOrigin","pericias","benefitsStrategies","benefit","benefits","general","getBenefits","getOriginBenefits","getPowersAndSkills","notRepeatedSkills","sortDefaultBenefits","getBenefitsWithRandomCombatPower","actualOriginPowers","choosenCombatPower","ORIGINS","Acólito","getItems","Amnésico","Aristocrata","Artesão","OFICIO_ARTESANATO","Artista","allowedTormentaPowers","choosenTormentaPowers","Batedor","Capanga","Charlatão","Circense","Criminoso","Curandeiro","Eremita","Escravo","Estudioso","Fazendeiro","OFICIO_FAZENDEIRO","Forasteiro","Gladiador","Guarda","Herdeiro","Marujo","Mateiro","Mercador","Minerador","OFICIO_MINERADOR","Nômade","Pivete","Refugiado","Seguidor","Selvagem","Soldado","Taverneiro","OFICIO_CULINARIA","Trabalhador","arcaneSpellsCircle1","Abjur","Adiv","Conv","Encan","Evoc","Ilusão","Necro","Trans","allArcaneSpellsCircle1","divineSpellsCircle1","allDivineSpellsCircle1","defaultEquipments","Alimentação","Alquimía","Animal","Hospedagem","Serviço","Vestuário","Veículo","calcBagWeight","equipments","weight","equipmentWeight","calcArmorPenalty","armor","Bag","this","newEquipments","mergeWith","oldEquips","newEquips","isArray","differenceBy","setEquipments","getModValue","modifyAttributesBasedOnRace","atributosRolados","priorityAttrs","reducedAttrs","attrDaRaca","nomesDosAtributosModificados","selectedAttrName","atributosModificados","atributosPermitidos","atributosPreferidos","selectAttributeToChange","atributoModificado","newValue","getModifiedAttribute","generateFinalAttributes","atributosNumericos","rolledValues","shift","rollAttributeValues","freeAttrs","shuffle","priorityGeneratedAttrs","maxAttr","splice","freeAttr","charAttributes","sortedAttributes","getRaceAndName","selectedOptions","selectRace","generateRandomName","getSkillsAndPowersByClassAndOrigin","classBaseSkills","baseSkill","getClassBaseSkills","originSkills","originSubSteps","substep","remainingSkills","getRemainingSkills","classSkills","attributesSkills","getAttributesSkills","Origem","getClassEquipments","todasProficiencias","getWeapons","shields","getShields","armors","getArmors","instruments","instrumentName","getPoderesConcedidos","todosPoderes","unrestrictedPowers","getThyatisPowers","getReligiosidade","divindadeName","normalized","probabilitySumArray","randomNumber","pickFaith","arr1","arr2","summedFaithProbability","val1","val2","mergeFaithProbabilities","getAndApplyPowers","powersGetters","updatedSheet","applyGeneralPowers","applyClassAbilities","applyRaceAbilities","applyDivinePowers","addPower","applyPowerGetters","generateRandomSheet","selectedClass","currentClasse","selectClass","initialBag","initialMoney","originItems","newEquip","getInitialBag","initialPV","initialPM","Força","summedPV","Constituição","devote","sheetOrigin","generalGetters","charSheet","uuid","classEquipments","newSpells","usedSpells","spellList","usedSpell","getNewSpells","equipped","cloneSheet","updatedDefense","undefined","isDefenseEquip","armadura","Destreza","calcDefense","raceDisplacement","baseDisplacement","calcDisplacement","SELECT_THEMES","primary","primary25","primary50","primary75","danger","dangerLight","neutral0","neutral15","neutral20","neutral30","neutral40","neutral50","neutral60","neutral80","neutral5","neutral10","neutral70","neutral90","getSelectTheme","theme","button","MainScreen","setSelectedOptions","randomSheet","setRandomSheet","showPresentation","setShowPresentation","racas","classesopt","niveis","formThemeColors","options","placeholder","colors","isSearchable","option","Button","presentation","getElementById","setInterval","opacity","anotherRandomSheet","Fade","to","Changelog","padding","roadmap","root","appbar","title","justifyContent","input","formControl","margin","spacing","menuButton","bottom","lightTheme","backgroundColor","darkTheme","App","sidebarVisibility","setSidebarVisibility","setIsDarkTheme","useCookies","cookies","setCookie","removeCookie","darkMod","dkmFdn","data-testid","basename","AppBar","Toolbar","IconButton","edge","aria-label","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Keys","TRACKING_ID","testMode","ReactGA","initialize","ReactGAConfig","ReactDOM","render","StrictMode"],"mappings":"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AMK,MACNL,GAAME,YACNF,GAAMG,MACNH,GAAMc,MACNd,GAAMM,MACNN,GAAMO,KACNP,GAAMI,QACNJ,GAAMS,MACNT,GAAMU,QAER4C,cAAe,CACbtD,GAAMe,WACNf,GAAMgB,UACNhB,GAAMiB,QACNjB,GAAMkB,mBACNlB,GAAMmB,QACNnB,GAAMoB,kBACNpB,GAAMqB,SACNrB,GAAMsB,SACNtB,GAAMyB,SACNzB,GAAM0B,QACN1B,GAAM2B,QACN3B,GAAM4B,cACN5B,GAAM6B,kBACN7B,GAAM8B,UAERyB,cAAe,CACbvD,GAAM+B,QACN/B,GAAMgC,gBACNhC,GAAMiC,OACNjC,GAAMkC,aACNlC,GAAMmC,qBACNnC,GAAMoC,gBACNpC,GAAMqC,MAERmB,eAAgB,CACdhB,GAAUC,gBACVD,GAAUE,YACVF,GAAUG,cAEZc,eAAgB,CACdjB,GAAUI,OACVJ,GAAUK,cACVL,GAAUM,kBACVN,GAAUO,cACVP,GAAUQ,mBAEZU,QAAS,CAACT,GAAQC,WAAYD,GAAQE,gBAGzBC,MAEFO,GAA4B,CACvC,YACA,UACA,QACA,WACA,YACA,YACA,cACA,SACA,YACA,UACA,eACA,UACA,WCleK,IAAMC,GAET,CACFC,OAAQ,CACNC,MAAO,CACL,QACA,OACA,QACA,SACA,QACA,SACA,UACA,SACA,QACA,UACA,SAEFC,OAAQ,CACN,SACA,SACA,SACA,QACA,SACA,SACA,SACA,QACA,SACA,UAGJC,UAAM,CACJF,MAAO,CACL,WACA,YACA,YACA,WACA,WACA,YACA,UACA,SACA,YACA,cAEFC,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,WACA,YACA,WACA,YACA,aAGJE,QAAS,CACPH,MAAO,CACL,WACA,QACA,SACA,SACA,SACA,SACA,QACA,WACA,UACA,UAEFC,OAAQ,CACN,QACA,SACA,YACA,QACA,QACA,SACA,OACA,SACA,OACA,YAGJG,KAAM,CACJJ,MAAO,CACL,UACA,WACA,UACA,YACA,YACA,UACA,aACA,aACA,aACA,WAEFC,OAAQ,CACN,SACA,SACA,UACA,QACA,WACA,aACA,UACA,UACA,YACA,gBAGJI,OAAQ,CACNL,MAAO,CACL,MACA,OACA,QACA,OACA,OACA,OACA,OACA,QACA,OACA,QAEFC,OAAQ,CACN,OACA,QACA,OACA,MACA,QACA,QACA,QACA,OACA,OACA,UAGJK,UAAW,CACTN,MAAO,CACL,SACA,SACA,SACA,QACA,QACA,SACA,WACA,WACA,YACA,WACA,YAEFC,OAAQ,CACN,SACA,UACA,SACA,UACA,UACA,SACA,QACA,WACA,UACA,WAGJM,OAAQ,CACNP,MAAO,CACL,OACA,UACA,QACA,SACA,SACA,QACA,QACA,QACA,QACA,UAEFC,OAAQ,CACN,SACA,UACA,SACA,SACA,SACA,QACA,QACA,UACA,QACA,WAGJO,MAAO,CACLR,MAAO,CACL,QACA,OACA,WACA,QACA,QACA,SACA,UACA,MACA,SACA,OACA,OACA,QACA,OACA,SACA,SACA,SACA,SACA,QACA,SACA,QAEFC,OAAQ,CACN,SACA,UACA,WACA,MACA,QACA,OACA,OACA,UACA,MACA,OACA,MACA,UACA,YACA,MACA,UACA,QACA,WACA,QACA,WAGJQ,MAAO,CACLT,MAAO,CACL,QACA,OACA,SACA,UACA,QACA,QACA,QACA,QACA,SAEFC,OAAQ,CACN,WACA,QACA,OACA,OACA,UACA,QACA,SACA,SAGJS,OAAQ,CACNV,MAAO,CACL,UACA,QACA,SACA,QACA,SACA,SACA,SACA,SACA,SACA,UAEFC,OAAQ,CACN,UACA,WACA,QACA,UACA,SACA,UACA,UACA,SACA,UACA,YAGJU,OAAQ,CACNX,MAAO,CACL,cACA,WACA,SACA,UACA,YACA,aACA,YACA,WACA,QACA,UAEFC,OAAQ,CACN,SACA,SACA,OACA,QACA,QACA,WACA,WACA,WACA,UACA,cAGJW,OAAQ,CACNZ,MAAO,CACL,OACA,QACA,SACA,QACA,SACA,WACA,OACA,aAEFC,OAAQ,CACN,OACA,QACA,QACA,OACA,SACA,UACA,OACA,UAGJY,aAAS,CACPb,MAAO,CACL,QACA,SACA,OACA,QACA,QACA,OACA,QACA,SAEFC,OAAQ,CACN,SACA,QACA,QACA,aACA,OACA,SACA,QACA,cAGJa,KAAM,CACJd,MAAO,CACL,QACA,OACA,QACA,QACA,QACA,QACA,OACA,UAEFC,OAAQ,CACN,QACA,SACA,QACA,SACA,SACA,QACA,OACA,UAGJ,qBAAsB,CACpBD,MAAO,CACL,UACA,UACA,WACA,WACA,UACA,QACA,YACA,QACA,SACA,aAEFC,OAAQ,CACN,SACA,UACA,UACA,UACA,UACA,SACA,SACA,OACA,QACA,WAGJ,qBAAsB,CACpBD,MAAO,CACL,cACA,YACA,aACA,aACA,SACA,aACA,WACA,cACA,WACA,YACA,YACA,aACA,UACA,YACA,UACA,WACA,UACA,WACA,OACA,YAEFC,OAAQ,CACN,cACA,YACA,aACA,aACA,SACA,aACA,WACA,cACA,WACA,YACA,YACA,aACA,UACA,YACA,UACA,WACA,UACA,WACA,OACA,cAKAc,GAAa,CACjB,OACA,MACA,UACA,SACA,aACA,MACA,aACA,SACA,OACA,aAGIC,GAAsD,CAC1DhB,MAAO,CACL,SACA,gBACA,oBACA,WACA,SACA,SACA,UACA,UACA,QACA,cAEFC,OAAQ,CACN,SACA,gBACA,oBACA,WACA,SACA,SACA,UACA,UACA,QACA,eASSgB,GAGT,CACFC,OAAQ,SAAC9Q,EAAM+Q,GACb,GAAI/Q,EAAKS,QACP,OAAIoQ,GAAe7Q,EAAKS,QAAQ/b,MACvBmsB,GAAe7Q,EAAKS,QAAQ/b,MAAMsb,EAAKS,QAASsQ,GAGlDF,GAAeG,QAAQhR,EAAKS,QAASsQ,GAG9C,IAEME,EAAiBpoB,GAFT,sBAAON,OAAOiL,KAAKkc,KAAnB,CAA2B,UACbjnB,QAAO,SAACC,GAAD,MAAyB,UAAZA,MAE1CwoB,EAAa7P,GAAMG,MACvB,SAAC9Y,GAAD,OAAaA,EAAQhE,OAASusB,KAGhC,OAAIJ,GAAeI,GACVJ,GAAeI,GAAgBC,EAAYH,GAG7CF,GAAeG,QAAQE,EAAYH,IAE5CI,MAAO,SAACnR,EAAY+Q,GAClB,IAAMK,EAAYvoB,GAAuB8nB,I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","file":"static/js/main.310a6f3b.chunk.js","sourcesContent":["export enum Atributo {\n  FORCA = 'Força',\n  DESTREZA = 'Destreza',\n  CONSTITUICAO = 'Constituição',\n  INTELIGENCIA = 'Inteligência',\n  SABEDORIA = 'Sabedoria',\n  CARISMA = 'Carisma',\n}\n","export default __webpack_public_path__ + \"static/media/tormenta-logo-eye.41c710b0.png\";","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Link from '@material-ui/core/Link';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { RouteComponentProps } from 'react-router';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Paper from '@material-ui/core/Paper';\nimport HomeIcon from '@material-ui/icons/Home';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CodeIcon from '@material-ui/icons/Code';\nimport NotesIcon from '@material-ui/icons/Notes';\nimport Slide from '@material-ui/core/Slide';\nimport { FormControlLabel, FormGroup, Switch } from '@material-ui/core';\n\nimport logo from '../assets/images/tormenta-logo-eye.png';\nimport '../assets/css/sidebar.css';\n\ntype SidebarProps = RouteComponentProps & {\n  visible: boolean;\n  onCloseSidebar: () => void;\n  isDarkTheme: boolean;\n  onChangeTheme: () => void;\n};\n\nconst Sidebar: React.FC<SidebarProps> = ({\n  visible,\n  onCloseSidebar,\n  isDarkTheme,\n  onChangeTheme,\n}) => {\n  const useStyles = makeStyles(() => ({\n    link: {\n      cursor: 'pointer',\n      color: isDarkTheme ? '#fff' : '#757575',\n    },\n    paper: {\n      position: 'fixed',\n      zIndex: 1,\n      height: '97.9vh',\n      paddingTop: '20px',\n      transition: 'visibility 0s, opacity 0.5s linear',\n    },\n    menuItem: {\n      marginBottom: '10px',\n    },\n  }));\n\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const onClickHome = () => {\n    history.push('/');\n    onCloseSidebar();\n  };\n\n  const onClickChangelog = () => {\n    history.push('/changelog');\n    onCloseSidebar();\n  };\n\n  const onClickLinks = (url: string) => {\n    window.open(url, '_blank');\n  };\n\n  const handleEscKeyPress = (event: KeyboardEvent) => {\n    if (event.key === 'Escape') {\n      onCloseSidebar();\n    }\n  };\n\n  document.addEventListener('keydown', handleEscKeyPress, false);\n\n  return (\n    <Slide\n      direction='right'\n      in={visible}\n      style={{\n        background: isDarkTheme ? '#3b3b3b' : 'white',\n        color: isDarkTheme ? '#fff' : 'black',\n      }}\n    >\n      <Paper className={classes.paper}>\n        <div className='sidebarHeader'>\n          <Link\n            href='https://jamboeditora.com.br/categoria/rpg/tormenta20-rpg/'\n            target='blank'\n          >\n            <img src={String(logo)} alt='Logo' className='logo' />\n          </Link>\n          <div\n            style={{\n              textAlign: 'right',\n              paddingRight: '15px',\n            }}\n          >\n            <CloseIcon className={classes.link} onClick={onCloseSidebar} />\n          </div>\n        </div>\n        <MenuList>\n          <MenuItem onClick={onClickHome} className={classes.menuItem}>\n            <ListItemIcon>\n              <HomeIcon className={classes.link} />\n            </ListItemIcon>\n            <Typography variant='inherit'>Inicio</Typography>\n          </MenuItem>\n          <MenuItem\n            className={classes.menuItem}\n            onClick={() =>\n              onClickLinks(\n                'https://github.com/YuriAlessandro/gerador-ficha-tormenta20/discussions'\n              )\n            }\n          >\n            <ListItemIcon>\n              <ForumIcon className={classes.link} />\n            </ListItemIcon>\n            <Typography variant='inherit'>\n              Sugestões, Ideias e Feedbacks\n            </Typography>\n          </MenuItem>\n          <MenuItem\n            className={classes.menuItem}\n            onClick={() => {\n              onClickLinks(\n                'https://github.com/YuriAlessandro/gerador-ficha-tormenta20#gerador-de-fichas-de-tormenta-20'\n              );\n            }}\n          >\n            <ListItemIcon>\n              <CodeIcon className={classes.link} />\n            </ListItemIcon>\n            <Typography variant='inherit'>Contribua com o Projeto</Typography>\n          </MenuItem>\n          <MenuItem className={classes.menuItem} onClick={onClickChangelog}>\n            <ListItemIcon>\n              <NotesIcon className={classes.link} />\n            </ListItemIcon>\n            <Typography variant='inherit' className='specialMenu'>\n              Changelog\n            </Typography>\n          </MenuItem>\n          <MenuItem>\n            <ListItemIcon>\n              <Brightness4Icon className={classes.link} />\n            </ListItemIcon>\n            <FormGroup>\n              <FormControlLabel\n                labelPlacement='end'\n                control={\n                  <Switch\n                    checked={isDarkTheme}\n                    onChange={onChangeTheme}\n                    color='default'\n                    value='dark'\n                  />\n                }\n                label='Tema Escuro'\n              />\n            </FormGroup>\n          </MenuItem>\n        </MenuList>\n      </Paper>\n    </Slide>\n  );\n};\n\nexport default withRouter(Sidebar);\n","import { Atributo } from '../data/atributos';\n// eslint-disable-next-line\nimport CharacterSheet, { SubStep } from './CharacterSheet';\n\nexport enum GeneralPowerType {\n  COMBATE = 'COMBATE',\n  DESTINO = 'DESTINO',\n  MAGIA = 'MAGIA',\n  CONCEDIDOS = 'CONCEDIDOS',\n  TORMENTA = 'TORMENTA',\n}\n\nexport enum RequirementType {\n  PODER = 'PODER',\n  ATRIBUTO = 'ATRIBUTO',\n  PERICIA = 'PERICIA',\n  HABILIDADE = 'HABILIDADE',\n  PODER_TORMENTA = 'PODER_TORMENTA',\n  PROFICIENCIA = 'PROFICIENCIA',\n  NIVEL = 'NIVEL',\n  CLASSE = 'CLASSE',\n  TIPO_ARCANISTA = 'TIPO_ARCANISTA',\n  MAGIA = 'MAGIA',\n}\n\nexport interface Requirement {\n  type: RequirementType;\n  name?: string | Atributo;\n  value?: number;\n  not?: boolean;\n}\n\nexport interface GeneralPower {\n  type: GeneralPowerType;\n  description: string;\n  name: string;\n  requirements: Requirement[][];\n  allowSeveralPicks?: boolean;\n  action?: (\n    sheet: CharacterSheet,\n    subSteps: { name: string; value: string }[]\n  ) => CharacterSheet;\n}\n\nexport type GeneralPowers = {\n  [key in GeneralPowerType]: GeneralPower[];\n};\n\nexport interface OriginPower {\n  name: string;\n  description: string;\n  type: string;\n}\n\nexport type PowerGetter = (sheet: CharacterSheet, subSteps: SubStep[]) => void;\n\nexport type PowersGetters = Record<'Origem', PowerGetter[]>;\n\nexport type grantedPowers =\n  | 'AFINIDADE_COM_A_TORMENTA'\n  | 'ANFIBIO'\n  | 'ARMAS_DA_AMBICAO'\n  | 'ARSENAL_DAS_PROFUNDEZAS'\n  | 'ASTUCIA_DA_SERPENTE'\n  | 'ATAQUE_PIEDOSO'\n  | 'AURA_DE_MEDO'\n  | 'AURA_DA_PAZ'\n  | 'AURA_RESTAURADORA'\n  | 'BENCAO_DO_MANA'\n  | 'CARICIA_SOMBRIA'\n  | 'CENTELHA_MAGICA'\n  | 'CONHECIMENTO_ENCICLOPEDICO'\n  | 'CONJURAR_ARMA'\n  | 'CORAGEM_TOTAL'\n  | 'CURA_GENTIL'\n  | 'CURANDEIRA_PERFEITA'\n  | 'DEDO_VERDE'\n  | 'DESCANSO_NATURAL'\n  | 'DOM_DA_IMORTALIDADE'\n  | 'DOM_DA_PROFECIA'\n  | 'DOM_DA_RESSUREICAO'\n  | 'DOM_DA_VERDADE'\n  | 'ESCAMAS_DRACONICAS'\n  | 'ESCUDO_MAGICO'\n  | 'ESPADA_JUSTICEIRA'\n  | 'ESPADA_SOLAR'\n  | 'FARSA_DO_FINGIDOR'\n  | 'FORMA_DE_MACACO'\n  | 'FURIA_DIVINA'\n  | 'GOLPISTA_DIVINO'\n  | 'HABITANTE_DO_DESERTO'\n  | 'INIMIGO_DE_TENEBRA'\n  | 'KIAI_DIVINO'\n  | 'LIBERADE_DIVINA'\n  | 'MANTO_DA_PENUMBRA'\n  | 'MENTE_ANALITICA'\n  | 'MENTE_VAZIA'\n  | 'MESTRE_DOS_MARES'\n  | 'OLHAR_AMEDRONTADOR'\n  | 'PALAVRAS_DE_BONDADE'\n  | 'PERCEPCAO_TEMPORAL'\n  | 'PODER_OCULTO'\n  | 'PRESAS_VENENOSAS'\n  | 'REJEICAO_DIVINA'\n  | 'SANGUE_DE_FERRO'\n  | 'SANGUE_OFIDICO'\n  | 'SERVOS_DO_DRAGAO'\n  | 'SORTE_DOS_LOUCOS'\n  | 'TALENTO_ARTISTICO'\n  | 'TEURGISTA_MISTICO'\n  | 'TRANSMISSAO_DA_LOUCURA'\n  | 'TROPAS_DUYSHIDAKK'\n  | 'URRO_DIVINO'\n  | 'VISAO_NAS_TREVAS'\n  | 'VOZ_DA_CIVILIZACAO'\n  | 'VOZ_DA_NATUREZA'\n  | 'VOZ_DOS_MONSTROS';\n","const PROFICIENCIAS = {\n  ESCUDOS: 'Escudos',\n  LEVES: 'Armaduras Leves',\n  MARCIAIS: 'Armas Marciais',\n  PESADAS: 'Armaduras Pesadas',\n  SIMPLES: 'Armas Simples',\n  FOGO: 'Armas de Fogo',\n  EXOTICAS: 'Armas Exóticas',\n};\n\nexport default PROFICIENCIAS;\n","enum Skill {\n  ACROBACIA = 'Acrobacia',\n  ADESTRAMENTO = 'Adestramento',\n  ATLETISMO = 'Atletismo',\n  ATUACAO = 'Atuação',\n  CAVALGAR = 'Cavalgar',\n  CONHECIMENTO = 'Conhecimento',\n  CURA = 'Cura',\n  DIPLOMACIA = 'Diplomacia',\n  ENGANACAO = 'Enganação',\n  FORTITUDE = 'Fortitude',\n  FURTIVIDADE = 'Furtividade',\n  GUERRA = 'Guerra',\n  INICIATIVA = 'Iniciativa',\n  INTIMIDACAO = 'Intimidação',\n  INTUICAO = 'Intuição',\n  INVESTIGACAO = 'Investigação',\n  JOGATINA = 'Jogatina',\n  LADINAGEM = 'Ladinagem',\n  LUTA = 'Luta',\n  MISTICISMO = 'Misticismo',\n  NOBREZA = 'Nobreza',\n  OFICIO = 'Ofício (Qualquer)',\n  OFICIO_ARMEIRO = 'Ofício (Armeiro)',\n  OFICIO_ARTESANATO = 'Ofício (Artesanato)',\n  OFICIO_ALQUIMIA = 'Ofício (Alquímia)',\n  OFICIO_CULINARIA = 'Ofício (Culinária)',\n  OFICIO_ALFAIATE = 'Ofício (Alfaiate)',\n  OFICIO_ALVENARIA = 'Ofício (Alvenaria)',\n  OFICIO_CARPINTEIRO = 'Ofício (Carpinteiro)',\n  OFICIO_JOALHEIRO = 'Ofício (Joalheiro)',\n  OFICIO_FAZENDEIRO = 'Ofício (Fazendeiro)',\n  OFICIO_PESCADOR = 'Ofício (Pescador)',\n  OFICIO_ESTALAJADEIRO = 'Ofício (Estalajadeiro)',\n  OFICIO_ESCRITA = 'Ofício (Escrita)',\n  OFICIO_ESCULTOR = 'Ofício (Escultor)',\n  OFICIO_EGENHOQUEIRO = 'Ofício (Engenhoqueiro)',\n  OFICIO_PINTOR = 'Ofício (Pintor)',\n  OFICIO_MINERADOR = 'Ofício (Minerador)',\n  PERCEPCAO = 'Percepção',\n  PILOTAGEM = 'Pilotagem',\n  PONTARIA = 'Pontaria',\n  REFLEXOS = 'Reflexos',\n  RELIGIAO = 'Religião',\n  SOBREVIVENCIA = 'Sobrevivência',\n  VONTADE = 'Vontade',\n}\n\nexport default Skill;\n","import { cloneDeep, merge } from 'lodash';\nimport { getNotRepeatedRandom } from '../../functions/randomUtils';\n\nimport CharacterSheet from '../../interfaces/CharacterSheet';\nimport {\n  GeneralPower,\n  GeneralPowerType,\n  RequirementType,\n} from '../../interfaces/Poderes';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst combatPowers: Record<string, GeneralPower> = {\n  ACUIDADE_COM_ARMA: {\n    name: 'Acuidade com Arma',\n    description:\n      'Quando usa uma arma leve de corpo a corpo uma arma de arremesso, você pode usar seu modificador de Destreza em vez de Força nos testes de ataque e rolagens de dano.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Destreza', value: 13 }],\n    ],\n  },\n  ARMA_SECUNDARIA_GRANDE: {\n    name: 'Arma Secundária Grande',\n    description:\n      'Você pode usar duas armas de uma mão com o poder Estilo de Duas Armas.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.PODER, name: 'Estilo de Duas Armas' }],\n    ],\n  },\n  ARREMESSO_POTENTE: {\n    name: 'Arremesso Potente',\n    description:\n      'Quando usa uma arma de arremesso, você pode usar seu modificador de Força em vez de Destreza nos testes de ataque. Se você possuir o poder Ataque Poderoso, poderá usá-lo com armas de arremesso. ',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        { type: RequirementType.PODER, name: 'Estilo de Arremesso' },\n        { type: RequirementType.ATRIBUTO, name: 'Força', value: 13 },\n      ],\n    ],\n  },\n  ATAQUE_PESADO: {\n    name: 'Ataque pesado',\n    description:\n      'Quando faz um ataque corpo a corpo com uma arma de duas mãos, você pode pagar 1 PM. Se fizer isso e acertar o ataque, você faz uma manobra derrubar ou empurrar contra o alvo como uma ação livre (use o resultado do ataque como o teste de manobra).',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.PODER, name: 'Estilo de Duas Mãos' }],\n    ],\n  },\n  ATAQUE_PODEROSO: {\n    name: 'Ataque poderoso',\n    description:\n      'Declare que está usando este poder antes de fazer um ataque corpo a corpo. Você sofre –2 no teste de ataque, mas recebe +5 na rolagem de dano. ',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Força', value: 13 }],\n    ],\n  },\n  ATAQUE_PRECISO: {\n    name: 'Ataque preciso',\n    description:\n      'Se estiver usando uma arma corpo a corpo em uma das mãos e nada na outra, você recebe +2 na margem de ameaça e +1 no multiplicador de crítico.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.PODER, name: 'Estilo de Uma Arma' }],\n    ],\n  },\n  BLOQUEIO_COM_ESCUDO: {\n    name: 'Bloqueio com Escudo',\n    description:\n      'Quando é atingido por um ataque, habilidade ou magia, você pode gastar 1 PM para receber resistência a dano contra este ataque igual ao bônus na Defesa que seu escudo fornece. Você só pode usar este poder se estiver usando um escudo.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.PODER, name: 'Estilo de Arma e Escudo' }],\n    ],\n  },\n  CARGA_DE_CAVALARIA: {\n    name: 'Carga de Cavalaria',\n    description:\n      'Quando faz uma investida montada, você causa +2d8 pontos de dano. Além disso, pode continuar se movendo depois do ataque. Você deve se mover em linha reta e seu movimento máximo ainda é o dobro do seu deslocamento.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PODER, name: 'Ginete' }]],\n  },\n  COMBATE_DEFENSIVO: {\n    name: 'Combate Defensivo',\n    description:\n      'Quando usa a ação atacar, você pode usar este poder. Se fizer isso, até seu próximo turno, sofre –2 em todos os testes de ataque, mas recebe +5 na Defesa.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Inteligência', value: 13 }],\n    ],\n  },\n  DERRUBAR_APRIMORADO: {\n    name: 'Derrubar Aprimorado',\n    description:\n      'Você recebe +2 em testes de ataque para derrubar. Quando derruba uma criatura com essa manobra, pode gastar 1 PM para fazer um ataque extra contra ela.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.PODER, name: 'Combate Defensivo' }],\n    ],\n  },\n  DESARMAR_APRIMORADO: {\n    name: 'Desarmar Aprimorado',\n    description:\n      'Você recebe +2 em testes de ataque para desarmar. Quando desarma uma criatura, pode gastar 1 PM para arremessar a arma dela para longe. Para definir onde a arma cai, role 1d8 para a direção (sendo “1” diretamente à sua frente, “2” à frente e à direita e assim por diante, em sentido horário) e 1d6 para a distância (medida em quadrados de 1,5m a partir da criatura desarmada).',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.PODER, name: 'Combate Defensivo' }],\n    ],\n  },\n  DISPARO_PRECISO: {\n    name: 'Disparo Preciso',\n    description:\n      'Você pode fazer ataques à distância contra oponentes envolvidos em combate corpo a corpo sem sofrer a penalidade padrão de –5 no teste de ataque.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        {\n          type: RequirementType.PODER,\n          name: 'Estilo de Disparo',\n        },\n      ],\n      [\n        {\n          type: RequirementType.PODER,\n          name: 'Estilo de Arremesso',\n        },\n      ],\n    ],\n  },\n  DISPARO_RAPIDO: {\n    name: 'Disparo Rápido',\n    description:\n      'Se estiver usando uma arma de ataque à distância e gastar uma ação completa para atacar, você pode fazer um ataque adicional com ela (se puder recarregá-la como ação livre). Se fizer isso, sofre –2 em todos os testes de ataque até o seu próximo turno.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        { type: RequirementType.ATRIBUTO, name: 'Destreza', value: 13 },\n        {\n          type: RequirementType.PODER,\n          name: 'Estilo de Disparo',\n        },\n      ],\n      [\n        { type: RequirementType.ATRIBUTO, name: 'Destreza', value: 13 },\n        {\n          type: RequirementType.PODER,\n          name: 'Estilo de Arremesso',\n        },\n      ],\n    ],\n  },\n  EMPUNHADURA_PODEROSA: {\n    name: 'Empunhadura Poderosa',\n    description:\n      'Ao usar uma arma feita para uma categoria de tamanho maior que a sua, a penalidade que você sofre nos testes de ataque diminui para –2 (normalmente, uma criatura que use uma arma feita para uma categoria de tamanho maior sofre uma penalidade de –5 nos testes de ataque).',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Força', value: 17 }],\n    ],\n  },\n  ENCOURACADO: {\n    name: 'Encouraçado',\n    description:\n      'Se estiver usando uma armadura pesada, você recebe +2 na Defesa (NÃO INCLUSO). Esse bônus aumenta em +2 para cada outro poder que você possua que tenha Encouraçado como pré-requisito.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        {\n          type: RequirementType.PROFICIENCIA,\n          name: 'Armaduras Pesadas',\n        },\n      ],\n    ],\n  },\n  ESQUIVA: {\n    name: 'Esquiva',\n    description: 'Você recebe +2 em Defesa (JÁ INCLUSO) e Reflexos.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Destreza', value: 13 }],\n    ],\n    action(\n      sheet: CharacterSheet,\n      subSteps: {\n        name: string;\n        value: string;\n      }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      subSteps.push({\n        name: 'Esquiva',\n        value: '+2 na Defesa',\n      });\n\n      return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n        defesa: sheetClone.defesa + 2,\n      });\n    },\n  },\n  ESTILO_DE_ARMA_E_ESCUDO: {\n    name: 'Estilo de Arma e Escudo',\n    description:\n      'Se você estiver usando um escudo, o bônus na Defesa que ele fornece aumenta em +2.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        {\n          type: RequirementType.PERICIA,\n          name: 'Luta',\n        },\n        {\n          type: RequirementType.PROFICIENCIA,\n          name: 'Escudos',\n        },\n      ],\n    ],\n  },\n  ESTILO_DE_ARREMESO: {\n    name: 'Estilo de Arremesso',\n    description:\n      'Você pode sacar armas de arremesso como uma ação livre e recebe +2 nas rolagens de dano com elas.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PERICIA, name: 'Pontaria' }]],\n  },\n  ESTILO_DE_DISPARO: {\n    name: 'Estilo de Disparo',\n    description:\n      'Se estiver usando uma arma de disparo, você soma o bônus de Destreza nas rolagens de dano.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PERICIA, name: 'Pontaria' }]],\n  },\n  ESTILO_DE_DUAS_ARMAS: {\n    name: 'Estilo de Duas Armas',\n    description:\n      'Se estiver usando duas armas (e pelo menos uma delas for leve) e fizer a ação atacar, você pode fazer dois ataques, um com cada arma. Se fizer isso, sofre –2 em todos os testes de ataque até o seu próximo turno. Se você possuir Ambidestria, não sofre essa penalidade.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        { type: RequirementType.ATRIBUTO, name: 'Destreza', value: 15 },\n        { type: RequirementType.PODER, name: 'Estilo de Uma Arma' },\n      ],\n    ],\n  },\n  ESTILO_DE_DUAS_MAOS: {\n    name: 'Estilo de Duas Mãos',\n    description:\n      'Se estiver usando uma arma corpo a corpo com as duas mãos, você recebe +5 nas rolagens de dano. Este poder não pode ser usado com armas leves.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        { type: RequirementType.ATRIBUTO, name: 'Força', value: 15 },\n        { type: RequirementType.PERICIA, name: 'Luta' },\n      ],\n    ],\n  },\n  ESTILO_DE_UMA_ARMA: {\n    name: 'Estilo de Uma Arma',\n    description:\n      'Se estiver usando uma arma corpo a corpo em uma das mãos e nada na outra, você recebe +2 na Defesa e nos testes de ataque com essa arma (exceto ataques desarmados).',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PERICIA, name: 'Luta' }]],\n  },\n  ESTILO_DESARMADO: {\n    name: 'Estilo Desarmado',\n    description:\n      'Seus ataques desarmados causam 1d6 pontos de dano e podem causar dano letal ou não letal (sem penalidades).',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PERICIA, name: 'Luta' }]],\n  },\n  FANATICO: {\n    name: 'Fanático',\n    description: 'Seu deslocamento não é reduzido por usar armaduras pesadas.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        {\n          type: RequirementType.NIVEL,\n          value: 12,\n        },\n        {\n          type: RequirementType.PODER,\n          name: 'Encouraçado',\n        },\n      ],\n    ],\n  },\n  FINTA_APRIMORADA: {\n    name: 'Finta Aprimorada',\n    description:\n      'Você recebe +2 em testes de Enganação para fintar e pode fintar como uma ação de movimento.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        { type: RequirementType.PERICIA, name: 'Enganação ' },\n        { type: RequirementType.PODER, name: 'Luta' },\n      ],\n    ],\n  },\n  FOCO_EM_ARMA: {\n    name: 'Foco em Arma',\n    description:\n      'Escolha uma arma. Você recebe +2 em testes de ataque com essa arma. Você pode escolher este poder outras vezes para armas diferentes.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PROFICIENCIA, name: 'all' }]],\n  },\n  GINETE: {\n    name: 'Ginete',\n    description:\n      'Você passa automaticamente em testes de Cavalgar para não cair da montaria quando sofre dano. Além disso, não sofre penalidades para atacar à distância ou lançar magias quando montado.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PERICIA, name: 'Cavalgar' }]],\n  },\n  INEXPUGNAVEL: {\n    name: 'Inexpugnável',\n    description:\n      'Se estiver usando uma armadura pesada, você recebe +2 em todos os testes de resistência.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        {\n          type: RequirementType.PODER,\n          name: 'Encouraçado',\n        },\n        {\n          type: RequirementType.NIVEL,\n          value: 6,\n        },\n      ],\n    ],\n  },\n  MIRA_APURADA: {\n    name: 'Mira Apurada',\n    description:\n      'Você pode gastar uma ação de movimento para mirar. Se fizer isso, recebe +2 em testes de ataque e na margem de ameaça com ataques à distância até o fim do turno.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [\n        { type: RequirementType.ATRIBUTO, name: 'Sabedoria', value: 13 },\n        { type: RequirementType.PODER, name: 'Estilo de Uma Arma' },\n      ],\n    ],\n  },\n  PRESENCA_ATERRADORA: {\n    name: 'Presença Aterradora',\n    description:\n      'Você pode gastar uma ação padrão e 1 PM para assustar todas as criaturas a sua escolha em alcance curto. Veja a perícia Intimidação para as regras de assustar.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PERICIA, name: 'Intimidação' }]],\n  },\n  PROFICIENCIA: {\n    name: 'Proficiência',\n    description:\n      'Escolha uma proficiência: armas marciais, armas de fogo, armaduras pesadas ou escudos (se for proficiente em armas marciais, você também pode escolher armas exóticas). Você recebe essa proficiência. Você pode escolher este poder outras vezes para proficiências diferentes.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: {\n        name: string;\n        value: string;\n      }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      const allowedProf = [\n        PROFICIENCIAS.MARCIAIS,\n        PROFICIENCIAS.FOGO,\n        PROFICIENCIAS.PESADAS,\n      ];\n\n      if (sheet.classe.proficiencias.includes(PROFICIENCIAS.MARCIAIS)) {\n        allowedProf.push(PROFICIENCIAS.EXOTICAS);\n      }\n\n      const newProf = getNotRepeatedRandom(\n        sheetClone.classe.proficiencias,\n        'proficiencia',\n        allowedProf\n      );\n\n      subSteps.push({\n        name: 'Proficiência',\n        value: newProf,\n      });\n\n      sheetClone.classe.proficiencias.push(newProf);\n\n      return sheetClone;\n    },\n  },\n  QUEBRAR_APRIMORADO: {\n    name: 'Quebrar Aprimorado',\n    description:\n      'Você recebe +2 em testes de ataque para quebrar. Quando reduz os PV de uma arma para 0 ou menos, você pode gastar 1 PM para realizar um ataque extra contra o usuário dela. O ataque adicional usa os mesmos valores de ataque e dano, mas os dados devem ser rolados novamente.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PODER, name: 'Ataque Poderoso' }]],\n  },\n  REFLEXOS_DE_COMBATE: {\n    name: 'Reflexos de Combate',\n    description:\n      'Você ganha uma ação de movimento extra no seu primeiro turno de cada combate.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Destreza', value: 13 }],\n    ],\n  },\n  SAQUE_RAPIDO: {\n    name: 'Saque Rápido',\n    description:\n      'Você recebe +2 em Iniciativa e pode sacar ou guardar itens como uma ação livre (em vez de ação de movimento). Além disso, a ação que você gasta para recarregar uma arma de disparo diminui em uma categoria (ação completa para padrão, padrão para movimento, movimento para livre).',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PERICIA, name: 'Iniciativa' }]],\n  },\n  TRESPASSAR: {\n    name: 'Trespassar',\n    description:\n      'Quando você faz um ataque corpo a corpo e reduz os pontos de vida do alvo para 0 ou menos, pode gastar 1 PM para fazer um ataque adicional contra outra criatura dentro do seu alcance. O ataque adicional usa os mesmos valores de ataque e dano, mas os dados devem ser rolados novamente.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [[{ type: RequirementType.PODER, name: 'Ataque Poderoso' }]],\n  },\n  VITALIDADE: {\n    name: 'Vitalidade',\n    description: 'Você recebe +1 PV por nível de personagem e +2 em Fortitude.',\n    type: GeneralPowerType.COMBATE,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Constituição', value: 13 }],\n    ],\n    action(\n      sheet: CharacterSheet,\n      subSteps: {\n        name: string;\n        value: string;\n      }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n      sheetClone.classe.addpv += 1;\n\n      subSteps.push({\n        name: 'Vitalidade',\n        value: '+1 PV por nível',\n      });\n\n      return sheetClone;\n    },\n  },\n};\nexport default combatPowers;\n","import {\n  getRandomItemFromArray,\n  pickFromArray,\n} from '../functions/randomUtils';\nimport { ClassDescription } from '../interfaces/Class';\nimport Skill from '../interfaces/Skills';\n\nexport function getNotUsedSkillsFromAllowed(\n  usedSkills: Skill[],\n  allowedSkills?: Skill[]\n): Skill[] {\n  return (allowedSkills || Object.values(Skill)).filter(\n    (element) => usedSkills.indexOf(element) < 0\n  );\n}\n\nexport function getNotRepeatedRandomSkill(\n  usedSkills: Skill[],\n  allowedSkills?: Skill[]\n): Skill {\n  const notRepeatedSkills = allowedSkills\n    ? getNotUsedSkillsFromAllowed(usedSkills, allowedSkills)\n    : getNotUsedSkillsFromAllowed(usedSkills);\n\n  return getRandomItemFromArray(notRepeatedSkills);\n}\n\nexport function getNotRepeatedSkillsByQtd(\n  usedSkills: Skill[],\n  qtd: number,\n  allowedSkills?: Skill[]\n): Skill[] {\n  const notUsed = getNotUsedSkillsFromAllowed(usedSkills, allowedSkills);\n  return pickFromArray(notUsed, qtd);\n}\n\nconst baseSkillsStrategies: Record<\n  string,\n  (baseSkills: Skill[], usedSkills: Skill[]) => Skill[]\n> = {\n  and(baseSkills: Skill[], usedSkills: Skill[]) {\n    const notUsed = getNotUsedSkillsFromAllowed(usedSkills, baseSkills);\n    return [...usedSkills, ...notUsed];\n  },\n  or(baseSkills: Skill[], usedSkills: Skill[]) {\n    const newSkill = getNotRepeatedRandomSkill(usedSkills, baseSkills);\n    return [...usedSkills, newSkill];\n  },\n};\n\nexport function getClassBaseSkills(classe: ClassDescription): Skill[] {\n  return classe.periciasbasicas.reduce<Skill[]>(\n    (usedSkills, baseSkill) =>\n      baseSkillsStrategies[baseSkill.type](baseSkill.list, usedSkills),\n    []\n  );\n}\n\nexport function getRemainingSkills(\n  usedSkills: Skill[],\n  classe: ClassDescription\n): Skill[] {\n  return getNotRepeatedSkillsByQtd(\n    usedSkills,\n    classe.periciasrestantes.qtd,\n    classe.periciasrestantes.list\n  );\n}\n","import { cloneDeep, merge } from 'lodash';\nimport { getRandomItemFromArray } from '../../functions/randomUtils';\nimport CharacterSheet from '../../interfaces/CharacterSheet';\nimport {\n  GeneralPower,\n  GeneralPowerType,\n  grantedPowers,\n  RequirementType,\n} from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport {\n  addOrCheapenSpell,\n  spellsCircle1,\n  spellsCircle2,\n} from '../magias/generalSpells';\nimport { getNotRepeatedRandomSkill } from '../pericias';\n\nconst GRANTED_POWERS: Record<grantedPowers, GeneralPower> = {\n  AFINIDADE_COM_A_TORMENTA: {\n    name: 'Afinidade com a Tormenta',\n    description:\n      'Você recebe +10 em testes de resistência contra efeitos da Tormenta e de suas criaturas',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  ANFIBIO: {\n    name: 'Anfíbio',\n    description:\n      'Você pode respirar embaixo d’água e adquire deslocamento de natação igual a seu deslocamento terrestre.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  ARMAS_DA_AMBICAO: {\n    name: 'Armas da Ambição',\n    description:\n      'Você recebe +1 em testes de ataque com armas nas quais é proficiente.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  ARSENAL_DAS_PROFUNDEZAS: {\n    name: 'Arsenal das profundezas',\n    description:\n      'Você recebe +2 nas rolagens de dano com azagaias, lanças e tridentes.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  ASTUCIA_DA_SERPENTE: {\n    name: 'Astúcia da Serpente',\n    description: 'Você recebe +2 em Enganação e Intuição.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  ATAQUE_PIEDOSO: {\n    name: 'Ataque Piedoso',\n    description:\n      ' Você pode usar armas de corpo a corpo para causar dano não letal sem sofrer a penalidade de -5 no teste de ataque',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  AURA_DE_MEDO: {\n    name: 'Aura de Medo',\n    description:\n      'Você pode gastar 2 PM para gerar uma aura de medo com alcance curto e duração até o fim da cena. Todos os inimigos que entrem na aura devem fazer um teste de Vontade (CD Car) ou ficam abalados até o fim da cena. Uma criatura que passe no teste de Vontade fica imune a esta habilidade por um dia.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  AURA_DA_PAZ: {\n    name: 'Aura de Paz',\n    description:\n      'Você pode gastar 2 PM para gerar uma aura de paz com alcance curto e duração de uma cena. Qualquer inimigo dentro da aura que tente fazer uma ação hostil contra você deve fazer um teste de Vontade (CD Car). Se falhar, perderá sua ação. Se passar, fica imune a esta habilidade por um dia.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  AURA_RESTAURADORA: {\n    name: 'Aura Restauradora',\n    description:\n      'Você e seus aliados em alcance curto recuperam duas vezes mais pontos de vida por descanso.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  BENCAO_DO_MANA: {\n    name: 'Bênção do Mana',\n    description: 'Você recebe +3 pontos de mana (JÁ INCLUSO).',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: {\n        name: string;\n        value: string;\n      }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      subSteps.push({\n        name: 'Bênção do Mana',\n        value: '+3 de mana',\n      });\n\n      sheetClone.pm += 3;\n\n      return sheetClone;\n    },\n  },\n  CARICIA_SOMBRIA: {\n    name: 'Carícia Sombria',\n    description:\n      'Você pode gastar 1 PM e uma ação padrão para cobrir sua mão com energia negativa e tocar uma criatura em alcance corpo a corpo. A criatura sofre 2d6 pontos de dano de trevas (Fortitude CD Sab reduz à metade) e você recupera PV iguais à metade do dano causado. Você pode aprender Toque Vampírico como uma magia divina. Se fizer isso, o custo dela diminui em –1 PM.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  CENTELHA_MAGICA: {\n    name: 'Centelha Mágica',\n    description:\n      'Escolha uma magia arcana ou divina de 1º círculo. Você aprende e pode lançar essa magia (JÁ INCLUSO).',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [\n      [{ type: RequirementType.HABILIDADE, name: 'Magias', not: true }],\n    ],\n    action(\n      sheet: CharacterSheet,\n      subSteps: {\n        name: string;\n        value: string;\n      }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      const newSpell = getRandomItemFromArray(Object.values(spellsCircle1));\n\n      subSteps.push({\n        name: 'Centelha Mágica',\n        value: newSpell.nome,\n      });\n\n      sheetClone.spells.push(newSpell);\n\n      return sheetClone;\n    },\n  },\n  CONHECIMENTO_ENCICLOPEDICO: {\n    name: 'Conhecimento Enciclopédico',\n    description:\n      'Você se torna treinado em duas perícias baseadas em Inteligência a sua escolha (JÁ INCLUSO).',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: {\n        name: string;\n        value: string;\n      }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      const allowedSkills = [\n        Skill.CONHECIMENTO,\n        Skill.GUERRA,\n        Skill.INVESTIGACAO,\n        Skill.MISTICISMO,\n        Skill.NOBREZA,\n        Skill.OFICIO,\n      ];\n\n      const newSkill = getNotRepeatedRandomSkill(\n        sheetClone.skills,\n        allowedSkills\n      );\n\n      subSteps.push({\n        name: 'Conhecimento Enciclopédico',\n        value: `Treinamento em ${newSkill}`,\n      });\n\n      sheetClone.skills.push(newSkill);\n\n      return sheetClone;\n    },\n  },\n  CONJURAR_ARMA: {\n    name: 'Conjurar Arma',\n    description:\n      'Você pode gastar 1 PM para invocar uma arma corpo a corpo ou de arremesso com a qual seja proficiente. A arma surge em sua mão, recebe um bônus de +1 em testes de ataque e rolagens de dano e dura pela cena. Você não pode criar armas de disparo, mas pode criar 20 projéteis (flechas, virotes etc.)',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  CORAGEM_TOTAL: {\n    name: 'Coragem Total',\n    description:\n      'Você é imune a efeitos de medo, mágicos ou não. Este poder não elimina fobias raciais (como o medo de altura dos minotauros).',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  CURA_GENTIL: {\n    name: 'Cura Gentil',\n    description:\n      'Você adiciona seu bônus de Carisma (mínimo +1) aos PV restaurados por suas magias de cura.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  CURANDEIRA_PERFEITA: {\n    name: 'Curandeira Perfeita',\n    description:\n      'Você sempre pode escolher 10 em testes de Cura. Além disso, pode usar essa perícia mesmo sem um kit de medicamentos. Se usar o kit, recebe +2 no teste de Cura.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  DEDO_VERDE: {\n    name: 'Dedo Verde',\n    description: 'Você aprende e pode lançar Controlar Plantas.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n      const { spells, stepValue } = addOrCheapenSpell(\n        sheet,\n        spellsCircle1.controlarPlantas,\n        Atributo.SABEDORIA\n      );\n\n      if (stepValue) {\n        subSteps.push({\n          name: 'Dedo Verde',\n          value: stepValue,\n        });\n      }\n\n      return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n        spells,\n      });\n    },\n  },\n  DESCANSO_NATURAL: {\n    name: 'Descanso Natural',\n    description:\n      'Para você, dormir ao relento conta como uma estalagem confortável.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  DOM_DA_IMORTALIDADE: {\n    name: 'Dom da Imortalidade',\n    description:\n      'Você é imortal. Sempre que morre, não importando o motivo, volta à vida após 3d6 dias. Você não perde níveis de experiência.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [[{ type: RequirementType.CLASSE, name: 'Paladino' }]],\n  },\n  DOM_DA_PROFECIA: {\n    name: 'Dom da Profecia',\n    description:\n      'Você pode lançar Augúrio. Você também pode gastar 2 PM para receber +2 em um teste.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      const newSpell = spellsCircle2.augurio;\n\n      subSteps.push({\n        name: 'Dom da Profecia',\n        value: 'Adicionou magia Augúrio',\n      });\n\n      sheetClone.spells.push(newSpell);\n\n      return sheetClone;\n    },\n  },\n  DOM_DA_RESSUREICAO: {\n    name: 'Dom da Ressurreição',\n    description:\n      'Você pode gastar uma ação completa e todos os PM que possui (mínimo 1 PM) para tocar o corpo de uma criatura morta há menos de um ano e ressuscitá- la. A criatura volta à vida com 1 PV e 0 PM, e perde 2 pontos de Constituição permanentemente. Este poder só pode ser usado uma vez em cada criatura.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [[{ type: RequirementType.CLASSE, name: 'Clérigo' }]],\n  },\n  DOM_DA_VERDADE: {\n    name: 'Dom da Verdade',\n    description:\n      'Você pode pagar 1 PM para receber +5 em testes de Intuição até o fim da cena.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  ESCAMAS_DRACONICAS: {\n    name: 'Escamas Dracônicas',\n    description: 'Você recebe +1 na Defesa (JÁ INCLUSO).',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      subSteps.push({\n        name: 'Escamas Dracônicas',\n        value: '+1 na Defesa',\n      });\n\n      sheetClone.defesa += 1;\n\n      return sheetClone;\n    },\n  },\n  ESCUDO_MAGICO: {\n    name: 'Escudo Mágico',\n    description:\n      'Quando lança uma magia, você recebe +2 na Defesa até o início do seu próximo turno.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  ESPADA_JUSTICEIRA: {\n    name: 'Espada Justiceira',\n    description:\n      'Você pode gastar 1 PM para encantar sua espada (ou outra arma corpo a corpo de corte que esteja empunhando). Ela recebe +1 em testes de ataque e rolagens de dano até o fim da cena.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  ESPADA_SOLAR: {\n    name: 'Espada Solar',\n    description:\n      'Você pode gastar 1 PM para fazer uma arma corpo a corpo de corte que esteja empunhando causar +1d6 de dano por fogo até o fim da cena.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  FARSA_DO_FINGIDOR: {\n    name: 'Farsa do Fingidor',\n    description: 'Você aprende e pode lançar Criar Ilusão.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n      const newSpell = spellsCircle1.criarIlusao;\n\n      subSteps.push({\n        name: 'Farsa do Fingidor',\n        value: newSpell.nome,\n      });\n\n      sheetClone.spells.push(newSpell);\n\n      return sheetClone;\n    },\n  },\n  FORMA_DE_MACACO: {\n    name: 'Forma de Macaco',\n    description:\n      'Você pode gastar uma ação completa e 2 PM para se transformar em um macaco. Você adquire tamanho Minúsculo (o que fornece +5 em Furtividade e –5 em testes de manobra) e recebe deslocamento de escalar 9m. Seu equipamento desaparece (e você perde seus benefícios) até você voltar ao normal, mas suas outras estatísticas não são alteradas. A transformação dura indefinidamente, mas termina caso você faça um ataque, lance uma magia ou sofra dano.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  FURIA_DIVINA: {\n    name: 'Fúria Divina',\n    description:\n      'Você pode gastar 2 PM para invocar uma fúria selvagem, tornando-se temível em combate. Você recebe +2 em testes de ataque e rolagens de dano corpo a corpo, mas não pode executar nenhuma ação que exija paciência ou concentração (como usar a perícia Furtividade ou lançar magias). A Fúria Divina termina se, ao fim da rodada, você não tiver atacado nem sido alvo de um efeito hostil.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  GOLPISTA_DIVINO: {\n    name: 'Golpista Divino',\n    description: 'Você recebe +2 em Enganação e Ladinagem.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  HABITANTE_DO_DESERTO: {\n    name: 'Habitante do Deserto',\n    description:\n      'Você recebe resistência a fogo 5 e pode pagar 1 PM para criar água pura e potável suficiente para um odre (ou outro recipiente pequeno).',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  INIMIGO_DE_TENEBRA: {\n    name: 'Inimigo de Tenebra',\n    description:\n      'Seus ataques e habilidades causam +1d6 pontos de dano contra mortos-vivos.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  KIAI_DIVINO: {\n    name: 'Kiai Divino',\n    description:\n      'Quando faz um ataque corpo a corpo, você pode pagar 2 PM. Se acertar o ataque, causa dano máximo.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  LIBERADE_DIVINA: {\n    name: 'Liberdade Divina',\n    description:\n      'Você pode gastar 2 PM e uma reação para lançar Libertação com alcance pessoal e duração de 1 rodada.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  MANTO_DA_PENUMBRA: {\n    name: 'Manto da Penumbra',\n    description: 'Você aprende e pode lançar Escuridão.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n      const newSpell = spellsCircle1.escuridao;\n\n      subSteps.push({\n        name: 'Manto da Penumbra',\n        value: newSpell.nome,\n      });\n\n      sheetClone.spells.push(newSpell);\n\n      return sheetClone;\n    },\n  },\n  MENTE_ANALITICA: {\n    name: 'Mente Analítica',\n    description: 'Você recebe +2 em Intuição e Vontade.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  MENTE_VAZIA: {\n    name: 'Mente Vazia',\n    description: 'Você recebe +2 em Iniciativa e Vontade.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  MESTRE_DOS_MARES: {\n    name: 'Mestre dos Mares',\n    description:\n      'Você pode falar com animais aquáticos (como o efeito da magia Voz Divina) e aprende e pode lançar Acalmar Animal, mas só contra criaturas aquáticas.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  OLHAR_AMEDRONTADOR: {\n    name: 'Olhar Amedrontador',\n    description: 'Você aprende e pode lançar Amedrontar.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n      const newSpell = spellsCircle1.amedrontar;\n\n      subSteps.push({\n        name: 'Olhar Amedrontador',\n        value: newSpell.nome,\n      });\n\n      sheetClone.spells.push(newSpell);\n\n      return sheetClone;\n    },\n  },\n  PALAVRAS_DE_BONDADE: {\n    name: 'Palavras de Bondade',\n    description: 'Você aprende e pode lançar Enfeitiçar.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n      const newSpell = spellsCircle1.enfeiticar;\n\n      subSteps.push({\n        name: 'Palavras de Bondade',\n        value: newSpell.nome,\n      });\n\n      sheetClone.spells.push(newSpell);\n\n      return sheetClone;\n    },\n  },\n  PERCEPCAO_TEMPORAL: {\n    name: 'Percepção Temporal',\n    description:\n      'Você pode gastar 3 PM para adicionar seu bônus de Sabedoria (mínimo +1, limitado por seu nível) a seus ataques, Defesa e testes de Reflexos até o fim da cena.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  PODER_OCULTO: {\n    name: 'Poder Oculto',\n    description:\n      'Você pode gastar uma ação de movimento e 2 PM para invocar a força, a rapidez ou o vigor dos loucos. Role 1d6 para receber +4 em Força (1 ou 2), Destreza (3 ou 4) ou Constituição (5 ou 6) até o fim da cena. Você pode usar este poder várias vezes, cada vez gastando uma ação de movimento e 2 PM.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  PRESAS_VENENOSAS: {\n    name: 'Presas venenosas',\n    description:\n      'Você pode gastar uma ação de movimento e 1 PM para envenenar uma arma corpo a corpo que esteja empunhando. Em caso de acerto, a arma causa 1d12 pontos de dano de veneno. A arma permanece envenenada até atingir uma criatura ou até o fim da cena, o que acontecer primeiro.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  REJEICAO_DIVINA: {\n    name: 'Rejeição Divina',\n    description:\n      'Você recebe +5 em testes de resistência contra magias divinas.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  SANGUE_DE_FERRO: {\n    name: 'Sangue de Ferro',\n    description:\n      'Você pode pagar 2 PM para receber +2 em rolagens de dano e resistência a dano 5 até o fim da cena',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  SANGUE_OFIDICO: {\n    name: 'Sangue Ofídico',\n    description:\n      'Você recebe resistência a veneno 5 e a CD para resistir aos seus venenos aumenta em +2.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  SERVOS_DO_DRAGAO: {\n    name: 'Servos do Dragão',\n    description:\n      'Você pode gastar uma ação completa e 2 PM para invocar 2d4+1 kobolds em espaços desocupados em alcance curto. Você pode usar uma ação de movimento para fazer os kobolds andarem (eles têm deslocamento 9m) ou uma ação padrão para fazê-los causar dano a criaturas adjacentes (1d6–1 pontos de dano de perfuração cada). Os kobolds têm For 8, Des 14, 1 PV, não têm valor de Defesa ou testes de resistência e falham automaticamente em qualquer teste oposto. Eles desaparecem quando morrem ou no fim da cena. Os kobolds não agem sem receber uma ordem. Usos criativos para criaturas invocadas fora de combate ficam a critério do mestre.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  SORTE_DOS_LOUCOS: {\n    name: 'Sorte dos loucos',\n    description:\n      'Você pode pagar 1 PM para rolar novamente um teste recém realizado. Se ainda assim falhar no teste, você perde 1d6 PM.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  TALENTO_ARTISTICO: {\n    name: 'Talento Artístico',\n    description: 'Você recebe +2 em Atuação e Diplomacia.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  TEURGISTA_MISTICO: {\n    name: 'Teurgista Místico',\n    description:\n      'Até uma magia de cada círculo que você aprender poderá ser escolhida entre magias divinas (se você for um conjurador arcano) ou entre magias arcanas (se for um conjurador divino).',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [[{ type: RequirementType.HABILIDADE, name: 'Magias' }]],\n  },\n  TRANSMISSAO_DA_LOUCURA: {\n    name: 'Transmissão da Loucura',\n    description: 'Você pode lançar Sussurros Insanos (CD Car).',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      const newSpell = spellsCircle2.sussurosInsanos;\n\n      subSteps.push({\n        name: 'Transmissão da Loucura',\n        value: 'Ganhou a magia Sussurros Insanos',\n      });\n\n      sheetClone.spells.push(newSpell);\n\n      return sheetClone;\n    },\n  },\n  TROPAS_DUYSHIDAKK: {\n    name: 'Tropas Duyshidakk',\n    description:\n      'Você pode gastar uma ação completa e 2 PM para invocar 1d4+1 goblinoides em espaços desocupados em alcance curto. Você pode usar uma ação de movimento para fazer os goblinoides andarem (eles têm deslocamento 9m) ou uma ação padrão para fazê-los causar dano a criaturas adjacentes (1d6+1 pontos de dano de corte cada). Os goblinoides têm For 14, Des 14, 1 PV, não têm valor de Defesa ou testes de resistência e falham automaticamente em qualquer teste oposto. Eles desaparecem quando morrem ou no fim da cena. Os goblinoides não agem sem receber uma ordem. Usos criativos para criaturas invocadas fora de combate ficam a critério do mestre.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  URRO_DIVINO: {\n    name: 'Urro Divino',\n    description:\n      'Quando faz um ataque ou lança uma magia, você pode pagar 1 PM para somar seu modificador de Constituição (mínimo +1) à rolagem de dano desse ataque ou magia.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  VISAO_NAS_TREVAS: {\n    name: 'Visão nas Trevas',\n    description:\n      'Você enxerga perfeitamente no escuro, incluindo em magias de escuridão.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  VOZ_DA_CIVILIZACAO: {\n    name: 'Voz da Civilização',\n    description: 'Você está sempre sob efeito de Compreensão.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n  VOZ_DA_NATUREZA: {\n    name: 'Voz da Natureza',\n    description:\n      'Você pode falar com animais (como o efeito da magia Voz Divina) e aprende e pode lançar Acalmar Animal, mas só contra animais.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n      const newSpell = spellsCircle1.acalmarAnimal;\n\n      subSteps.push({\n        name: 'Voz da Natureza',\n        value: newSpell.nome,\n      });\n\n      sheetClone.spells.push(newSpell);\n\n      return sheetClone;\n    },\n  },\n  VOZ_DOS_MONSTROS: {\n    name: 'Voz dos Monstros',\n    description:\n      'Você conhece os idiomas de todos os monstros inteligentes (criaturas do tipo monstro com Int 3 ou mais) e pode se comunicar livremente com monstros não inteligentes (Int 1 ou 2), como se estivesse sob efeito da magia Voz Divina.',\n    type: GeneralPowerType.CONCEDIDOS,\n    requirements: [],\n  },\n};\n\nexport default GRANTED_POWERS;\n","import { cloneDeep, merge } from 'lodash';\nimport CharacterSheet from '../../interfaces/CharacterSheet';\nimport {\n  GeneralPower,\n  GeneralPowerType,\n  RequirementType,\n} from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { getNotRepeatedRandomSkill } from '../pericias';\n\nexport const DestinyPowers: Record<string, GeneralPower> = {\n  ACROBATICO: {\n    name: 'Acrobático',\n    description:\n      'Você pode usar seu modificador de Destreza em vez de Força em testes de Atletismo. Além disso, terreno difícil não reduz seu deslocamento nem o impede de realizar investidas.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Destreza', value: 15 }],\n    ],\n  },\n  AO_SABOR_DO_DESTINO: {\n    name: 'Ao Sabor do Destino',\n    description:\n      'Você recebe diversos benefícios, de acordo com seu nível de personagem e a tabela da página 129.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [\n        {\n          type: RequirementType.NIVEL,\n          value: 5,\n        },\n      ],\n    ],\n  },\n  APARENCIA_INOFENSIVA: {\n    name: 'Aparência Inofensiva',\n    description:\n      'A primeira criatura inteligente (Int 3 ou mais) que atacar você em uma cena deve fazer um teste de Vontade (CD Car). Se falhar, perderá sua ação. Este poder só funciona uma vez por cena; independentemente de a criatura falhar ou não no teste, poderá atacá-lo nas rodadas seguintes.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Carisma', value: 13 }],\n    ],\n  },\n  ATLETICO: {\n    name: 'Atlético',\n    description:\n      'Você recebe +2 em Atletismo e +3m em seu deslocamento (JÁ INCLUSO).',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Força', value: 15 }],\n    ],\n    action(\n      sheet: CharacterSheet,\n      subSteps: {\n        name: string;\n        value: string;\n      }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      subSteps.push({\n        name: 'Atlético',\n        value: 'Deslocamento +3',\n      });\n\n      return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n        displacement: sheetClone.displacement + 3,\n      });\n    },\n  },\n  ATRAENTE: {\n    name: 'Atraente',\n    description:\n      'Você recebe +2 em testes de perícias baseadas em Carisma contra criaturas que possam se sentir fisicamente atraídas por você.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Carisma', value: 13 }],\n    ],\n  },\n  COMANDAR: {\n    name: 'Comandar',\n    description:\n      'Você pode gastar uma ação de movimento e 1 PM para gritar ordens para seus aliados em alcance médio. Eles recebem +1 em testes de perícia até o fim da cena.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Carisma', value: 13 }],\n    ],\n  },\n  FOCO_EM_PERICIA: {\n    name: 'Foco em Perícia',\n    description:\n      'Escolha uma perícia. Quando faz um teste dessa perícia, você pode gastar 1 PM para rolar dois dados e usar o melhor resultado. Você pode escolher este poder outras vezes para perícias diferentes. Este poder não pode ser aplicado em Luta e Pontaria',\n    type: GeneralPowerType.DESTINO,\n    allowSeveralPicks: true,\n    requirements: [],\n  },\n  INVESTIGADOR: {\n    name: 'Investigador',\n    description:\n      'Você recebe +2 em Investigação e soma seu bônus de Inteligência em Intuição.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Inteligência', value: 13 }],\n    ],\n  },\n  LOBO_SOLITARIO: {\n    name: 'Lobo Solitário',\n    description:\n      'Você recebe +1 em testes de perícia e Defesa se estiver sem nenhum aliado em alcance curto. Você não sofre penalidade por usar a perícia Cura em si mesmo.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [],\n  },\n  MEDICINA: {\n    name: 'Medicina',\n    description:\n      'Você pode gastar uma ação completa para fazer um teste de Cura (CD 15) em uma criatura. Se você passar, ela recupera 1d6 PV, mais 1d6 para cada 5 pontos pelos quais o resultado do teste exceder a CD (2d6 com um resultado 20, 3d6 com um resultado 25 e assim por diante). Você só pode usar este poder uma vez por dia numa mesma criatura.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [\n        { type: RequirementType.ATRIBUTO, name: 'Sabedoria', value: 13 },\n        { type: RequirementType.PERICIA, name: 'Cura' },\n      ],\n    ],\n  },\n  PARCEIRO: {\n    name:\n      'Você possui um parceiro animal ou humanoide que o acompanha em aventuras. Escolha os detalhes dele, como nome, aparência e personalidade. Em termos de jogo, é um aliado iniciante de um tipo a sua escolha (veja a página 246). O parceiro obedece às suas ordens e se arrisca para ajudá-lo. Entretanto, se for maltratado, pode parar de segui-lo (de acordo com o mestre). Se perder seu parceiro, você recebe outro no início da próxima aventura.',\n    description: '',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [\n        {\n          type: RequirementType.PERICIA,\n          name: 'Adestramento',\n        },\n        {\n          type: RequirementType.NIVEL,\n          value: 6,\n        },\n      ],\n      [\n        {\n          type: RequirementType.PERICIA,\n          name: 'Diplomacia',\n        },\n        {\n          type: RequirementType.NIVEL,\n          value: 6,\n        },\n      ],\n    ],\n  },\n  SENTIDOS_AGUCADOS: {\n    name: 'Sentidos Aguçados',\n    description:\n      'Você recebe +2 em Percepção, não fica desprevenido contra inimigos que não possa ver e, sempre que erra um ataque devido a camuflagem ou camuflagem total, pode rolar mais uma vez o dado da chance de falha.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Inteligência', value: 13 }],\n    ],\n  },\n  SORTUDO: {\n    name: 'Sortudo',\n    description:\n      'Você pode gastar 3 PM para rolar novamente um teste recém realizado (apenas uma vez por teste).',\n    requirements: [],\n    type: GeneralPowerType.DESTINO,\n  },\n  SURTO_HEROICO: {\n    name: 'Surto Heroico',\n    description:\n      'Uma vez por rodada, você pode gastar 5 PM para realizar uma ação padrão ou de movimento adicional.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Inteligência', value: 13 }],\n    ],\n  },\n  TORCIDA: {\n    name: 'Torcida',\n    description:\n      'Você recebe +2 em testes de perícia e Defesa quando tem a torcida a seu favor. Entenda-se por “torcida” qualquer número de criaturas inteligentes em alcance médio que não esteja realizando nenhuma ação além de torcer por você.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Carisma', value: 13 }],\n    ],\n  },\n  TREINAMENTO_EM_PERICIA: {\n    name: 'Treinamento em Perícia',\n    description:\n      'Você se torna treinado em uma perícia a sua escolha (JÁ INCLUSO). Você pode escolher este poder outras vezes para perícias diferentes.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: {\n        name: string;\n        value: string;\n      }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n\n      const newSkill = getNotRepeatedRandomSkill(sheetClone.skills);\n\n      subSteps.push({\n        name: 'Treinamento em Perícia',\n        value: newSkill,\n      });\n\n      return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n        skills: [...sheetClone.skills, newSkill],\n      });\n    },\n  },\n  VENEFICIO: {\n    name: 'Venefício',\n    description:\n      'Quando usa um veneno, você não corre risco de se envenenar acidentalmente. Além disso, a CD para resistir aos seus venenos aumenta em +2.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.PERICIA, name: Skill.OFICIO_ALQUIMIA }],\n    ],\n  },\n  VONTADE_DE_FERRO: {\n    name: 'Vontade de Ferro',\n    description:\n      'Você recebe +1 PM para cada dois níveis de personagem e +2 em Vontade.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.ATRIBUTO, name: 'Sabedoria', value: 13 }],\n    ],\n  },\n};\n\nconst destinyPowers: GeneralPower[] = [\n  DestinyPowers.ACROBATICO,\n  DestinyPowers.AO_SABOR_DO_DESTINO,\n  DestinyPowers.APARENCIA_INOFENSIVA,\n  DestinyPowers.FOCO_EM_PERICIA,\n  DestinyPowers.INVESTIGADOR,\n  DestinyPowers.LOBO_SOLITARIO,\n  DestinyPowers.MEDICINA,\n  DestinyPowers.PARCEIRO,\n  DestinyPowers.SENTIDOS_AGUCADOS,\n  DestinyPowers.TORCIDA,\n  DestinyPowers.TREINAMENTO_EM_PERICIA,\n  DestinyPowers.VENEFICIO,\n  DestinyPowers.VONTADE_DE_FERRO,\n];\n\nexport default destinyPowers;\n","import {\n  GeneralPower,\n  GeneralPowerType,\n  RequirementType,\n} from '../../interfaces/Poderes';\n\nconst magicPowers: Record<string, GeneralPower> = {\n  CELEBRAR_RITUAL: {\n    name: 'Celebrar Ritual',\n    description:\n      'Você pode lançar magias na forma de rituais. Fazer isso dobra seu limite de PM (permitindo usar mais aprimoramentos), mas aumenta sua execução para uma hora (ou para o dobro da sua execução, o que for maior) e adiciona um componente material de T$ 10 por PM na forma de incensos, óleos, oferendas etc. Quando faz um ritual, você paga apenas metade do custo da magia em PM (após aplicar quaisquer habilidades que modifiquem esse custo).',\n    type: GeneralPowerType.MAGIA,\n    requirements: [\n      [\n        { type: RequirementType.HABILIDADE, name: 'Magias' },\n        { type: RequirementType.NIVEL, value: 8 },\n        { type: RequirementType.PERICIA, name: 'Misticismo' },\n      ],\n      [\n        { type: RequirementType.HABILIDADE, name: 'Magias' },\n        { type: RequirementType.NIVEL, value: 8 },\n        { type: RequirementType.PERICIA, name: 'Religião' },\n      ],\n    ],\n  },\n  ESCREVER_PERGAMINHO: {\n    name: 'Escrever Pergaminho',\n    description:\n      'Você pode usar a perícia Ofício (escriba) para fabricar pergaminhos com magias que conheça. Veja a página 121 para a regra de fabricar itens e a página e 327 para a regra de pergaminhos. De acordo com o mestre, você pode usar outros objetos similares, como runas, tabuletas de argila etc.',\n    type: GeneralPowerType.MAGIA,\n    requirements: [\n      [\n        { type: RequirementType.HABILIDADE, name: 'Magias' },\n        { type: RequirementType.PERICIA, name: 'Ofício' },\n      ],\n    ],\n  },\n  FOCO_EM_MAGIA: {\n    name: 'Foco em Magia',\n    description:\n      'Escolha uma magia. Seu custo diminui em –2 PM (não cumulativo com outras reduções de custo). Você pode escolher este poder outras vezes para magias diferentes.',\n    type: GeneralPowerType.MAGIA,\n    allowSeveralPicks: true,\n    requirements: [[{ type: RequirementType.HABILIDADE, name: 'Magias' }]],\n  },\n  MAGIA_ACELERADA: {\n    name: 'Magia Acelerada',\n    description:\n      'Muda a execução da magia para ação livre. Você só pode aplicar este aprimoramento em magias com execução de movimento, padrão ou completa e só pode lançar uma magia como ação livre por rodada. Custo: +4 PM.',\n    type: GeneralPowerType.DESTINO,\n    requirements: [\n      [{ type: RequirementType.HABILIDADE, name: 'Magias', value: 2 }],\n    ],\n  },\n  MAGIA_AMPLIADA: {\n    name: 'Magia Ampliada',\n    description:\n      'Aumenta o alcance da magia em um passo (de curto para médio, de médio para longo) ou dobra a área de efeito da magia. Por exemplo, uma Bola de Fogo ampliada tem seu alcance aumentado para longo ou sua área aumentada para 12m de raio. Custo: +2 PM.',\n    type: GeneralPowerType.MAGIA,\n    requirements: [[{ type: RequirementType.HABILIDADE, name: 'Magias' }]],\n  },\n  MAGIA: {\n    name: 'Magia Discreta',\n    description:\n      'Você lança a magia sem gesticular e falar, usando apenas concentração. Isso permite lançar magias com as mãos presas, amordaçado etc. Também permite lançar magias arcanas usando armadura sem teste de Misticismo. Outros personagens só percebem que você lançou uma magia se passarem num teste de Misticismo (CD 20). Custo: +2 PM.',\n    type: GeneralPowerType.MAGIA,\n    requirements: [[{ type: RequirementType.HABILIDADE, name: 'Magias' }]],\n  },\n  MAGIA_ILIMITADA: {\n    name: 'Magia Ilimitada',\n    description:\n      'Você soma seu modificador do atributo-chave no limite de PM que pode gastar numa magia. Por exemplo, um mago de 5º nível com Int 18 (+4) e este poder pode gastar até 9 PM em cada magia.',\n    type: GeneralPowerType.MAGIA,\n    requirements: [[{ type: RequirementType.HABILIDADE, name: 'Magias' }]],\n  },\n  PREPARAR_POCAO: {\n    name: 'Preparar Poção',\n    description:\n      'Você pode usar a perícia Ofício (alquimia) para fabricar poções com magias que conheça de 1º e 2º círculos. Veja a página 121 para a regra de fabricar itens e a página 327 para a regra de poções. Pré--requisitos: Habilidade de classe Magias, treinado em Ofício (alquimia).',\n    type: GeneralPowerType.MAGIA,\n    requirements: [\n      [\n        { type: RequirementType.HABILIDADE, name: 'Magias' },\n        { type: RequirementType.PERICIA, name: 'Ofício (Alquimia)' },\n      ],\n    ],\n  },\n};\n\nexport default magicPowers;\n","import { cloneDeep } from 'lodash';\nimport CharacterSheet from '../../interfaces/CharacterSheet';\nimport {\n  GeneralPower,\n  GeneralPowerType,\n  RequirementType,\n} from '../../interfaces/Poderes';\n\nconst tormentaPowers: Record<string, GeneralPower> = {\n  ANATOMIA_INSANA: {\n    name: 'Anatomia Insana',\n    description:\n      'Você tem 25% de chance (resultado “1” em 1d4) de ignorar o dano adicional de um acerto crítico ou ataque furtivo. A chance aumenta em +25% para cada dois outros poderes da Tormenta que você possui',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n  ANTENAS: {\n    name: 'Antenas',\n    description:\n      'Você recebe +1 em Iniciativa, Percepção e Vontade. Este bônus aumenta em +1 para cada dois outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n  ARMAMENTO_ABERRANTE: {\n    name: 'Armamento Aberrante',\n    description:\n      'Você pode gastar uma ação de movimento e 1 PM para produzir uma arma orgânica macabra — ela brota do seu braço, ombro ou costas como uma planta grotesca e então se desprende. Você pode produzir qualquer arma corpo a corpo ou de arremesso com a qual seja proficiente. O dano da arma aumenta em um passo para cada dois outros poderes da Tormenta que você possui. A arma dura pela cena, então se desfaz numa poça de gosma. Pré-requisito: outro poder da Tormenta.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [\n      [\n        {\n          type: RequirementType.PODER_TORMENTA,\n          value: 1,\n        },\n      ],\n    ],\n  },\n  ARTICULACOES_FLEXIVEIS: {\n    name: 'Articulações Flexíveis',\n    description:\n      'Você recebe +1 em Acrobacia, Furtividade e Reflexos. Este bônus aumenta em +1 para cada dois outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n  ASAS_INSETOIDES: {\n    name: 'Asas Insetoides',\n    description:\n      'Você pode gastar 1 PM para receber deslocamento de voo 9m até o fim da rodada. O deslocamento aumenta em 1,5m para cada outro poder da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [\n      [\n        {\n          type: RequirementType.PODER_TORMENTA,\n          value: 4,\n        },\n      ],\n    ],\n  },\n  CARAPACA: {\n    name: 'Carapaça',\n    description:\n      'Sua pele é recoberta por placas quitinosas. Você recebe +1 na Defesa (JÁ INCLUSO). Este bônus aumenta em +1 para cada dois outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n    // action(\n    //   sheet: CharacterSheet,\n    //   subSteps: { name: string; value: string }[]\n    // ): CharacterSheet {\n    //   const sheetClone = cloneDeep(sheet);\n\n    //   const tormentaPowersQtd = sheetClone.generalPowers.filter(\n    //     (power) => power.type === GeneralPowerType.TORMENTA\n    //   ).length;\n\n    //   const defenseBonus = Math.floor(tormentaPowersQtd / 2);\n\n    //   subSteps.push({\n    //     name: 'Carapaça',\n    //     value: `+${defenseBonus} na Defesa`,\n    //   });\n\n    //   sheetClone.defesa += defenseBonus;\n\n    //   return sheetClone;\n    // }, // TODO: Isso aqui tem que ser feito direitinho depois\n  },\n  CORPO_ABERRANTE: {\n    name: 'Corpo Aberrante',\n    description:\n      'Crostas vermelhas em várias partes de seu corpo tornam seus ataques mais perigosos. Seu dano desarmado aumenta em um passo, mais um passo para cada quatro outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [\n      [\n        {\n          type: RequirementType.PODER_TORMENTA,\n          value: 1,\n        },\n      ],\n    ],\n  },\n  DENTES_AFIADOS: {\n    name: 'Dentes Afiados',\n    description:\n      'Você recebe uma arma natural de mordida (dano 1d4, crítico x2, corte). Quando usa a ação atacar, pode gastar 1 PM para fazer um ataque corpo a corpo extra com a mordida.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n    action(\n      sheet: CharacterSheet,\n      subSteps: { name: string; value: string }[]\n    ): CharacterSheet {\n      const sheetClone = cloneDeep(sheet);\n      subSteps.push({ name: 'Dentes Afiados', value: 'Ataque \"Mordida\"' });\n      sheetClone.bag.addEquipment({\n        Arma: [\n          {\n            group: 'Arma',\n            nome: 'Mordida',\n            dano: '1d4',\n            critico: 'x2',\n            tipo: 'Corte',\n          },\n        ],\n      });\n\n      return sheetClone;\n    },\n  },\n  EMPUNHADURA_RUBRA: {\n    name: 'Empunhadura Rubra',\n    description:\n      'Você pode gastar 1 PM para cobrir suas mãos com uma carapaça rubra. Até o final da cena, você recebe +1 em Luta. Este bônus aumenta em +1 para cada dois outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n  MAOS_MEMBRANOSAS: {\n    name: 'Mãos Membranosas',\n    description:\n      'Você recebe +1 em Atletismo, Fortitude e testes de agarrar. Este bônus aumenta em +1 para cada dois outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n  MEMBROS_EXTRAS: {\n    name: 'Membros extras',\n    description:\n      'Você possui um par de patas insetoides que saem de suas costas, ombros ou flancos. Quando usa a ação atacar, pode gastar 2 PM para fazer um ataque corpo a corpo extra com cada um (dano 1d4, crítico x2, corte). Se possuir Ambidestria ou Estilo de Duas Armas, pode empunhar armas leves em suas patas insetoides (mas ainda precisa pagar 2 PM para atacar com elas e sofre a penalidade de –2 em todos os ataques).',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [\n      [\n        {\n          type: RequirementType.PODER_TORMENTA,\n          value: 4,\n        },\n      ],\n    ],\n  },\n  OLHOS_VERMELHOS: {\n    name: 'Olhos Vermelhos',\n    description:\n      'Você recebe visão no escuro e +1 em Intimidação. Este bônus aumenta em +1 para cada dois outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n  PELE_CORROMPIDA: {\n    name: 'Pele Corrompida',\n    description:\n      'Sua carne foi mesclada à matéria vermelha. Você recebe resistência a ácido, eletricidade, fogo, frio, luz e trevas 2. Esta RD aumenta em +2 para cada dois outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n  SANGUE_ACIDO: {\n    name: 'Sangue Ácido',\n    description:\n      'Quando você sofre dano por um ataque corpo a corpo, o atacante sofre 1 ponto de dano de ácido. Este dano aumenta em +1 para cada outro poder da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n  VISCO_RUBRO: {\n    name: 'Visco Rubro',\n    description:\n      'Você pode gastar 1 PM para expelir um líquido escuro, grosso e corrosivo. Até o final da cena, você recebe +1 nas rolagens de dano corpo a corpo. Este bônus aumenta em +1 para cada dois outros poderes da Tormenta que você possui.',\n    type: GeneralPowerType.TORMENTA,\n    requirements: [],\n  },\n};\n\nexport default tormentaPowers;\n","import combatPowers from './powers/combatPowers';\nimport grantedPowers from './powers/grantedPowers';\nimport destinyPowers from './powers/destinyPowers';\nimport spellPowers from './powers/spellPowers';\nimport tormentaPowers from './powers/tormentaPowers';\nimport { GeneralPower, GeneralPowers } from '../interfaces/Poderes';\n\nconst generalPowers: GeneralPowers = {\n  COMBATE: Object.values(combatPowers),\n  CONCEDIDOS: Object.values(grantedPowers),\n  DESTINO: Object.values(destinyPowers),\n  MAGIA: Object.values(spellPowers),\n  TORMENTA: Object.values(tormentaPowers),\n};\n\nexport default generalPowers;\n\nexport function getUnrestricedTormentaPowers(): GeneralPower[] {\n  return Object.values(tormentaPowers).filter(\n    (power) => power.requirements.length === 0\n  );\n}\n","import { GeneralPower } from './Poderes';\n\nexport type DivindadeNames =\n  | 'AHARADAK'\n  | 'OCEANO'\n  | 'TENEBRA'\n  | 'VALKARIA'\n  | 'WYNNA'\n  | 'LENA'\n  | 'SSZZAAS'\n  | 'THYATIS'\n  | 'ARSENAL'\n  | 'TANNATOH'\n  | 'ALLIHANNA'\n  | 'MARAH'\n  | 'KALLYADRANOCH'\n  | 'KHALMYR'\n  | 'THWOR'\n  | 'HYNINN'\n  | 'AZGHER'\n  | 'LINWU'\n  | 'MEGALOKK'\n  | 'NIMB';\n\nexport const allDivindadeNames: DivindadeNames[] = [\n  'AHARADAK',\n  'OCEANO',\n  'TENEBRA',\n  'VALKARIA',\n  'WYNNA',\n  'LENA',\n  'SSZZAAS',\n  'THYATIS',\n  'ARSENAL',\n  'TANNATOH',\n  'ALLIHANNA',\n  'MARAH',\n  'KALLYADRANOCH',\n  'KHALMYR',\n  'THWOR',\n  'HYNINN',\n  'AZGHER',\n  'LINWU',\n  'MEGALOKK',\n  'NIMB',\n];\nexport default interface Divindade {\n  name: string;\n  poderes: GeneralPower[];\n}\n\nexport type FaithProbability = {\n  [key in DivindadeNames]?: number;\n};\n","import generalPowers from '../data/poderes';\nimport PROFICIENCIAS from '../data/proficiencias';\nimport {\n  allDivindadeNames,\n  DivindadeNames,\n  FaithProbability,\n} from '../interfaces/Divindade';\nimport { GeneralPower } from '../interfaces/Poderes';\nimport Skill from '../interfaces/Skills';\n\nexport function getRandomItemFromArray<ElementType>(\n  array: ElementType[]\n): ElementType {\n  return array[Math.floor(Math.random() * array.length)];\n}\n\nexport function normalizeFaithProbabability(\n  faithP: FaithProbability\n): FaithProbability {\n  const sum = (Object.values(faithP) as number[]).reduce(\n    (acc, curr) => acc + curr\n  );\n\n  const newFaithP: FaithProbability = {};\n  Object.keys(faithP).forEach((key) => {\n    const typedKeys = key as DivindadeNames;\n    newFaithP[typedKeys] = (faithP[typedKeys] as number) / sum;\n  });\n  return newFaithP;\n}\n\nexport function mergeFaithProbabilities(\n  arr1: FaithProbability,\n  arr2: FaithProbability\n): FaithProbability {\n  const summedFaithProbability: FaithProbability = {};\n  allDivindadeNames.forEach((key) => {\n    const val1 = arr1[key] as number;\n    const val2 = arr2[key] as number;\n\n    if (val1 === 0 || val2 === 0) {\n      summedFaithProbability[key] = 0;\n    } else {\n      summedFaithProbability[key] = (val1 || 0) + (val2 || 0);\n    }\n  });\n\n  return normalizeFaithProbabability(summedFaithProbability);\n}\n\nexport function pickFaith(faithP: FaithProbability): DivindadeNames {\n  const normalized = normalizeFaithProbabability(faithP);\n  const probabilitySumArray: { divindade: DivindadeNames; sum: number }[] = [];\n\n  Object.entries(normalized).forEach(([key, value]) => {\n    const { length } = probabilitySumArray;\n\n    probabilitySumArray.push({\n      divindade: key as DivindadeNames,\n      sum: (probabilitySumArray[length - 1]?.sum || 0) + (value as number),\n    });\n  });\n\n  const randomNumber = Math.random();\n\n  for (let i = 0; i < probabilitySumArray.length; i += 1) {\n    if (randomNumber < probabilitySumArray[i].sum) {\n      return probabilitySumArray[i].divindade;\n    }\n  }\n\n  return probabilitySumArray[probabilitySumArray.length - 1].divindade;\n}\n\n// Returns an array with N selected item from array\nexport function pickFromArray<ElementType>(\n  array: ElementType[],\n  qtd: number\n): ElementType[] {\n  const picked: ElementType[] = [];\n  for (let index = 0; index < qtd; index += 1) {\n    const filtered = array.filter((element) => !picked.includes(element));\n    picked.push(getRandomItemFromArray(filtered));\n  }\n\n  return picked;\n}\n\nexport function removeDup<ElementType>(array: ElementType[]): ElementType[] {\n  return array.filter((element, idx) => array.indexOf(element) === idx);\n}\n\nexport function getRandomArbitrary(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport function rollDice(\n  qty: number,\n  dice: number,\n  discardLowestDiceQty = 0\n): number {\n  const results: number[] = [];\n  for (let i = 0; i < qty; i += 1) {\n    results.push(getRandomArbitrary(1, dice));\n  }\n\n  results.sort((a, b) => a - b);\n  let sum = 0;\n  for (let i = discardLowestDiceQty; i < qty; i += 1) {\n    sum += results[i];\n  }\n\n  return sum;\n}\n\ntype notRepeatedDefaultsTypes = 'power' | 'skill' | 'proficiencia';\ntype notRepeatedTypes = GeneralPower | Skill | string;\n\nconst generalPowersEmpty: GeneralPower[] = [];\n\nconst NOT_REPEATED_DEFAULTS: Record<\n  notRepeatedDefaultsTypes,\n  (GeneralPower | Skill | string)[]\n> = {\n  power: generalPowersEmpty.concat(...Object.values(generalPowers)),\n  skill: Object.values(Skill),\n  proficiencia: Object.values(PROFICIENCIAS),\n};\n\nexport function getNotUsedFromAllowed<T>(\n  used: T[],\n  type: notRepeatedDefaultsTypes,\n  allowed?: T[]\n): T[] {\n  return ((allowed || NOT_REPEATED_DEFAULTS[type]) as T[]).filter(\n    (element: T) => !used.includes(element)\n  );\n}\nexport function getNotRepeatedRandom<T extends notRepeatedTypes>(\n  used: T[],\n  type: notRepeatedDefaultsTypes,\n  allowed?: T[]\n): T {\n  const notRepeated = allowed\n    ? getNotUsedFromAllowed(used, type, allowed)\n    : getNotUsedFromAllowed(used, type);\n\n  return getRandomItemFromArray<T>(notRepeated);\n}\n","import { Atributo } from '../data/atributos';\n\nexport enum spellsCircles {\n  c1 = '1º Circulo',\n  c2 = '2º Circulo',\n  c3 = '3º Circulo',\n  c4 = '4º Circulo',\n  c5 = '5º Circulo',\n}\n\nexport type Spell = {\n  nome: string;\n  execucao: 'Padrão' | 'Movimento' | 'Completa' | 'Reação' | string;\n  alcance: 'Pessoal' | 'Toque' | 'Curto' | 'Médio' | 'Longo' | string;\n  alvo?: string;\n  area?: string;\n  duracao: 'Instantânea' | 'Cena' | string;\n  resistencia?: string;\n  spellCircle: spellsCircles;\n  manaExpense?: number;\n  manaReduction?: number;\n  customKeyAttr?: Atributo;\n  school: SpellSchool;\n};\n\nexport type SpellSchool =\n  | 'Abjur'\n  | 'Adiv'\n  | 'Conv'\n  | 'Encan'\n  | 'Evoc'\n  | 'Ilusão'\n  | 'Necro'\n  | 'Trans';\n\nexport const allSpellSchools: SpellSchool[] = [\n  'Abjur',\n  'Adiv',\n  'Conv',\n  'Encan',\n  'Evoc',\n  'Ilusão',\n  'Necro',\n  'Trans',\n];\n\nexport type SpellCircle = {\n  [key in SpellSchool]: Spell[];\n};\n","import { cloneDeep } from 'lodash';\nimport { pickFromArray } from '../../functions/randomUtils';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport { Spell, spellsCircles } from '../../interfaces/Spells';\nimport { Atributo } from '../atributos';\n\nexport const manaExpenseByCircle: Record<spellsCircles, number> = {\n  [spellsCircles.c1]: 1,\n  [spellsCircles.c2]: 3,\n  [spellsCircles.c3]: 6,\n  [spellsCircles.c4]: 10,\n  [spellsCircles.c5]: 15,\n};\n\nexport enum spellsCircle1Names {\n  abencoarAlimentos = 'abencoarAlimentos',\n  acalmarAnimal = 'acalmarAnimal',\n  armaduraArcana = 'armaduraArcana',\n  adagaMental = 'adagaMental',\n  alarme = 'alarme',\n  amedrontar = 'amedrontar',\n  areaEscorregadia = 'areaEscorregadia',\n  armaEspiritual = 'armaEspiritual',\n  armaMagica = 'armaMagica',\n  armamentoDaNatureza = 'armamentoDaNatureza',\n  aviso = 'aviso',\n  bencao = 'bencao',\n  caminhosDaNatureza = 'caminhosDaNatureza',\n  comando = 'comando',\n  compreensao = 'compreensao',\n  concentracaoDeCombate = 'concentracaoDeCombate',\n  conjurarMonstro = 'conjurarMonstro',\n  consagrar = 'consagrar',\n  controlarPlantas = 'controlarPlantas',\n  criarElementos = 'criarElementos',\n  criarIlusao = 'criarIlusao',\n  curarFerimentos = 'curarFerimentos',\n  despedacar = 'despedacar',\n  detectarAmeacas = 'detectarAmeacas',\n  disfarceIlusorio = 'disfarceIlusorio',\n  enfeiticar = 'enfeiticar',\n  escudoDaFe = 'escudoDaFe',\n  escuridao = 'escuridao',\n  explosaoDeChamas = 'explosaoDeChamas',\n  hipnotismo = 'hipnotismo',\n  imagemEspelhada = 'imagemEspelhada',\n  infligirFerimentos = 'infligirFerimentos',\n  lequeCromatico = 'lequeCromatico',\n  luz = 'luz',\n  nevoa = 'nevoa',\n  orientacao = 'orientacao',\n  perdicao = 'perdicao',\n  primorAtletico = 'primorAtletico',\n  profanar = 'profanar',\n  protecaoDivina = 'protecaoDivina',\n  quedaSuave = 'quedaSuave',\n  raioDoEnfraquecimento = 'raioDoEnfraquecimento',\n  resistenciaAEnergia = 'resistenciaAEnergia',\n  santuario = 'santuario',\n  setaInfalivelDeTalude = 'setaInfalivelDeTalude',\n  sono = 'sono',\n  suporteAmbiental = 'suporteAmbiental',\n  teia = 'teia',\n  toqueChocante = 'toqueChocante',\n  trancaArcana = 'trancaArcana',\n  tranquilidade = 'tranquilidade',\n  transmutarObjetos = 'transmutarObjetos',\n  visaoMistica = 'visaoMistica',\n  vitalidadeFantasma = 'vitalidadeFantasma',\n}\n\nexport enum spellsCircle2Names {\n  sussurosInsanos = 'sussurosInsanos',\n  augurio = 'augurio',\n}\n\nexport const spellsCircle1: Record<spellsCircle1Names, Spell> = {\n  [spellsCircle1Names.abencoarAlimentos]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Abençoar Alimentos',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: 'Alimento para 1 criatura',\n    duracao: 'Cena',\n    school: 'Trans',\n  },\n  [spellsCircle1Names.acalmarAnimal]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Acalmar Animal',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 animal',\n    duracao: 'Cena',\n    resistencia: 'Vontade anula',\n    school: 'Encan',\n  },\n  [spellsCircle1Names.adagaMental]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Adaga Mental',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 criatura',\n    duracao: 'Instantânea',\n    resistencia: 'Vontade parcial',\n    school: 'Encan',\n  },\n  [spellsCircle1Names.alarme]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Alarme',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    area: 'Esfera de 9m de raio',\n    duracao: '1 dia',\n    school: 'Abjur',\n  },\n  [spellsCircle1Names.amedrontar]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Amedrontar',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 animal ou humanoide de ND 2 ou menor',\n    duracao: 'Cena',\n    resistencia: 'Vontade parcial',\n    school: 'Necro',\n  },\n  [spellsCircle1Names.areaEscorregadia]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Área Escorregadia',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: 'Quadrado de 3m ou 1 objeto',\n    duracao: 'Cena',\n    resistencia: 'Reflexos',\n    school: 'Conv',\n  },\n  [spellsCircle1Names.armaEspiritual]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Arma Espiritual',\n    execucao: 'Padrão',\n    alcance: 'Pessoal',\n    alvo: 'Você',\n    duracao: 'Cena',\n    school: 'Conv',\n  },\n  [spellsCircle1Names.armaMagica]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Arma Mágica',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 arma',\n    duracao: 'Cena',\n    school: 'Trans',\n  },\n  [spellsCircle1Names.armaduraArcana]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Armadura Arcana',\n    execucao: 'Padrão',\n    alcance: 'Pessoal',\n    alvo: 'Você',\n    duracao: 'Cena',\n    school: 'Abjur',\n  },\n  [spellsCircle1Names.armamentoDaNatureza]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Armamento da Natureza',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 arma',\n    duracao: 'Cena',\n    school: 'Trans',\n  },\n  [spellsCircle1Names.aviso]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Aviso',\n    execucao: 'Movimento',\n    alcance: 'Longo',\n    alvo: '1 criatura',\n    duracao: 'Instantânea',\n    school: 'Adiv',\n  },\n  [spellsCircle1Names.bencao]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Bênção',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: 'Criaturas escolhidas',\n    duracao: 'Cena',\n    school: 'Encan',\n  },\n  [spellsCircle1Names.caminhosDaNatureza]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Caminhos da Natureza',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 arma',\n    duracao: 'Cena',\n    school: 'Conv',\n  },\n  [spellsCircle1Names.comando]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Comando',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 humanoide',\n    duracao: '1 rodada',\n    resistencia: 'Vontade anula',\n    school: 'Encan',\n  },\n  [spellsCircle1Names.compreensao]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Compreensão',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura ou texto',\n    duracao: 'Cena',\n    resistencia: 'Vontade anula',\n    school: 'Adiv',\n  },\n  [spellsCircle1Names.concentracaoDeCombate]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Concentração de Combate',\n    execucao: 'Livre',\n    alcance: 'Pessoal',\n    alvo: 'Você',\n    duracao: '1 rodada',\n    school: 'Adiv',\n  },\n  [spellsCircle1Names.conjurarMonstro]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Conjurar Monstro',\n    execucao: 'Completa',\n    alcance: 'Curto',\n    alvo: '1 criatura conjurada',\n    duracao: 'Sustentada',\n    school: 'Conv',\n  },\n  [spellsCircle1Names.consagrar]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Consagrar',\n    execucao: 'Padrão',\n    alcance: 'Longo',\n    area: 'Esfera com 9m de raio',\n    duracao: '1 dia',\n    school: 'Evoc',\n  },\n  [spellsCircle1Names.controlarPlantas]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Controlar Plantas',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    area: 'quadrado com 9m de lado',\n    duracao: 'Cena',\n    resistencia: 'Reflexos anula',\n    school: 'Trans',\n  },\n  [spellsCircle1Names.criarElementos]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Criar Elementos',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: 'Elemento escolhido',\n    duracao: 'Instantânea',\n    school: 'Conv',\n  },\n  [spellsCircle1Names.criarIlusao]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Criar Ilusão',\n    execucao: 'Padrão',\n    alcance: 'Médio',\n    alvo: 'Ilusão que se estende a até 4 cubos de 1,5m',\n    duracao: 'Cena',\n    resistencia: 'Vontade desacredita',\n    school: 'Ilusão',\n  },\n  [spellsCircle1Names.curarFerimentos]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Curar Ferimentos',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura',\n    duracao: 'Instantânea',\n    school: 'Evoc',\n  },\n  [spellsCircle1Names.despedacar]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Despedaçar',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 critura ou objeto mundano pequeno',\n    duracao: 'Instantânea',\n    resistencia: 'Fortitude parcial ou Reflexos anula',\n    school: 'Evoc',\n  },\n  [spellsCircle1Names.detectarAmeacas]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Detectar Ameaças',\n    execucao: 'Padrão',\n    alcance: 'Pessoal',\n    alvo: 'Esfera de 9m de raio',\n    duracao: 'Instantânea',\n    school: 'Adiv',\n  },\n  [spellsCircle1Names.disfarceIlusorio]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Disfarce Ilusório',\n    execucao: 'Padrão',\n    alcance: 'Pessoal',\n    alvo: 'Você',\n    duracao: 'Cena',\n    resistencia: 'Vontade desacredita',\n    school: 'Ilusão',\n  },\n  [spellsCircle1Names.enfeiticar]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Enfeitiçar',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 humanoide',\n    duracao: 'Cena',\n    resistencia: 'Vontade anula',\n    school: 'Encan',\n  },\n  [spellsCircle1Names.escudoDaFe]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Escudo da Fé',\n    execucao: 'Reação',\n    alcance: 'Curto',\n    alvo: '1 criatura',\n    duracao: '1 turno',\n    school: 'Abjur',\n  },\n  [spellsCircle1Names.escuridao]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Escuridão',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 objeto',\n    duracao: 'Cena',\n    resistencia: 'Vontade anula',\n    school: 'Necro',\n  },\n  [spellsCircle1Names.explosaoDeChamas]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Explosão de Chamas',\n    execucao: 'Padrão',\n    alcance: '6m',\n    area: 'Cone',\n    duracao: 'Instantânea',\n    school: 'Evoc',\n  },\n  [spellsCircle1Names.hipnotismo]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Hipnotismo',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: 'Criaturas escolhidas de ND 2 ou menor',\n    duracao: '1d4 rodadas',\n    resistencia: 'Vontade anula',\n    school: 'Encan',\n  },\n  [spellsCircle1Names.imagemEspelhada]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Imagem Espelhada',\n    execucao: 'Padrão',\n    alcance: 'Pessoal',\n    alvo: 'Você',\n    duracao: 'Cena',\n    school: 'Ilusão',\n  },\n  [spellsCircle1Names.infligirFerimentos]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Infligir Ferimentos',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura',\n    duracao: 'Instantânea',\n    resistencia: 'Fortitude reduz à metade',\n    school: 'Necro',\n  },\n  [spellsCircle1Names.lequeCromatico]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Leque Cromático',\n    execucao: 'Padrão',\n    alcance: '4,5m',\n    area: 'Cone',\n    duracao: 'Instantânea',\n    resistencia: 'Vontade anula',\n    school: 'Ilusão',\n  },\n  [spellsCircle1Names.luz]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Luz',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 objeto',\n    duracao: 'Cena',\n    resistencia: 'Vontade anula',\n    school: 'Evoc',\n  },\n  [spellsCircle1Names.nevoa]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Névoa',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    area: 'Nuvem com 6m de raio e altura',\n    duracao: 'Cena',\n    school: 'Conv',\n  },\n  [spellsCircle1Names.orientacao]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Orientação',\n    execucao: 'Movimentação',\n    alcance: 'Curto',\n    alvo: '1 criatura',\n    duracao: 'Cena',\n    school: 'Adiv',\n  },\n  [spellsCircle1Names.perdicao]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Perdição',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: 'Criaturas escolhidas',\n    duracao: 'Cena',\n    resistencia: 'Nenhuma',\n    school: 'Necro',\n  },\n  [spellsCircle1Names.primorAtletico]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Primor Atlético',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura',\n    duracao: 'Cena',\n    school: 'Trans',\n  },\n  [spellsCircle1Names.profanar]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Profanar',\n    execucao: 'Padrão',\n    alcance: 'Longo',\n    area: 'Esfera com 9m de raio',\n    duracao: '1 dia',\n    school: 'Necro',\n  },\n  [spellsCircle1Names.protecaoDivina]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Proteção Divina',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura',\n    duracao: 'Cena',\n    school: 'Abjur',\n  },\n  [spellsCircle1Names.quedaSuave]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Queda Suave',\n    execucao: 'Reação',\n    alcance: 'Curto',\n    alvo: '1 criatura ou objeto com até 200kg',\n    duracao: 'Até chegar ao solo ou cena, o que vier primeiro',\n    school: 'Trans',\n  },\n  [spellsCircle1Names.raioDoEnfraquecimento]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Raio do Enfraquecimento',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 criatura',\n    duracao: 'Cena',\n    resistencia: 'Fortitude parcial',\n    school: 'Necro',\n  },\n  [spellsCircle1Names.resistenciaAEnergia]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Resistência a Energia',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura',\n    duracao: 'Cena',\n    school: 'Abjur',\n  },\n  [spellsCircle1Names.santuario]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Santuário',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura',\n    duracao: 'Cena',\n    resistencia: 'Vontade anula',\n    school: 'Abjur',\n  },\n  [spellsCircle1Names.setaInfalivelDeTalude]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Seta Infalível de Talude',\n    execucao: 'Padrão',\n    alcance: 'Médio',\n    alvo: 'Até 2 criaturas',\n    duracao: 'Instantânea',\n    school: 'Evoc',\n  },\n  [spellsCircle1Names.sono]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Sono',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 criatura de ND 2 ou menor',\n    duracao: 'Cena',\n    resistencia: 'Vontade parcial',\n    school: 'Encan',\n  },\n  [spellsCircle1Names.suporteAmbiental]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Suporte Ambiental',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura',\n    duracao: '1 dia',\n    school: 'Abjur',\n  },\n  [spellsCircle1Names.teia]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Teia',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    area: 'Cubo com 6m de lado',\n    duracao: 'Cena',\n    resistencia: 'Reflexos anula',\n    school: 'Conv',\n  },\n  [spellsCircle1Names.toqueChocante]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Toque Chocante',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 criatura',\n    duracao: 'Instantânea',\n    resistencia: 'Fortitude reduz à metade',\n    school: 'Evoc',\n  },\n  [spellsCircle1Names.trancaArcana]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Tranca Arcana',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: '1 objeto Grande ou menor',\n    duracao: 'Permanente',\n    school: 'Abjur',\n  },\n  [spellsCircle1Names.tranquilidade]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Tranquilidade',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 animal ou humanoide',\n    duracao: 'Cena',\n    resistencia: 'Vontade parcial',\n    school: 'Encan',\n  },\n  [spellsCircle1Names.transmutarObjetos]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Transmutar Objetos',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: 'Matéria-prima, como madeeira, rochas, ossos',\n    duracao: 'Cena',\n    school: 'Trans',\n  },\n  [spellsCircle1Names.visaoMistica]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Visão Mística',\n    execucao: 'Padrão',\n    alcance: 'Toque',\n    alvo: 'Você',\n    duracao: 'Cena',\n    school: 'Adiv',\n  },\n  [spellsCircle1Names.vitalidadeFantasma]: {\n    spellCircle: spellsCircles.c1,\n    nome: 'Vitalidade Fantasma',\n    execucao: 'Padrão',\n    alcance: 'Pessoal',\n    alvo: 'Você',\n    duracao: 'Instantânea',\n    school: 'Necro',\n  },\n};\n\nexport const spellsCircle2: Record<spellsCircle2Names, Spell> = {\n  [spellsCircle2Names.augurio]: {\n    spellCircle: spellsCircles.c2,\n    nome: 'Augúrio',\n    execucao: 'Completa',\n    alcance: 'Pessoal',\n    alvo: 'Você',\n    duracao: 'Instatânea',\n    school: 'Adiv',\n  },\n  [spellsCircle2Names.sussurosInsanos]: {\n    spellCircle: spellsCircles.c2,\n    nome: 'Sussuros Insanos',\n    execucao: 'Padrão',\n    alcance: 'Curto',\n    alvo: '1 humanoide',\n    duracao: 'Cena',\n    resistencia: 'Vontade anula',\n    school: 'Encan',\n  },\n};\n\nfunction cheapenSpell(\n  spells: Spell[],\n  index: number,\n  manaReduction = 1\n): {\n  spells: Spell[];\n  stepValue?: string;\n} {\n  const spellsToChange = spells;\n  const { manaReduction: actualManaReduction = 0 } = spells[index];\n\n  if (actualManaReduction < manaReduction) {\n    spellsToChange[index] = {\n      ...spells[index],\n      manaReduction,\n    };\n\n    return {\n      spells: spellsToChange,\n      stepValue: `Redução de mana -${manaReduction} (${spellsToChange[index].nome})`,\n    };\n  }\n\n  return {\n    spells,\n  };\n}\n\nexport function addOrCheapenSpell(\n  sheet: CharacterSheet,\n  spell: Spell,\n  customKeyAttr?: Atributo\n): {\n  spells: Spell[];\n  stepValue?: string;\n} {\n  const index = sheet.spells.findIndex(\n    (sheetSpell) => spell.nome === sheetSpell.nome\n  );\n\n  const spellClone = cloneDeep(spell);\n\n  const spellToAdd = customKeyAttr\n    ? { ...spellClone, customKeyAttr }\n    : spellClone;\n\n  if (index < 0) {\n    return {\n      spells: [...sheet.spells, spellToAdd],\n      stepValue: `Adicionou magia ${spellToAdd.nome}`,\n    };\n  }\n\n  return cheapenSpell(sheet.spells, index);\n}\n\nfunction getRandomSpells(allowedSpells: Spell[], qtd: number) {\n  return pickFromArray(allowedSpells, qtd);\n}\n\nexport function addOrCheapenRandomSpells(\n  sheet: CharacterSheet,\n  substeps: SubStep[],\n  allowedSpells: Spell[],\n  stepName: string,\n  customKeyAttr: Atributo,\n  qtd = 2\n): void {\n  const sheetToChange = sheet;\n  const randomSpells = getRandomSpells(allowedSpells, qtd);\n\n  randomSpells.forEach((randomSpell) => {\n    const { spells, stepValue } = addOrCheapenSpell(\n      sheet,\n      randomSpell,\n      customKeyAttr\n    );\n\n    sheetToChange.spells = spells;\n\n    if (stepValue) {\n      substeps.push({\n        name: stepName,\n        value: stepValue,\n      });\n    }\n  });\n}\n","import { cloneDeep } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport { addOrCheapenSpell, spellsCircle1 } from '../magias/generalSpells';\n\nconst AGGELUS: Race = {\n  name: 'Suraggel (Aggelus)',\n  attributes: {\n    attrs: [\n      { attr: Atributo.SABEDORIA, mod: 4 },\n      { attr: Atributo.CARISMA, mod: 2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    AZGHER: 1,\n    KHALMYR: 1,\n    MARAH: 1,\n    THYATIS: 1,\n  },\n  abilities: [\n    {\n      name: 'Herança Divina',\n      description:\n        'Você é uma criatura do tipo espírito e recebe visão no escuro.',\n    },\n    {\n      name: 'Luz Sagrada',\n      description:\n        'Você recebe +2 em Diplomacia e Intuição. Além disso, pode lançar Luz (como uma magia divina; atributo-chave Carisma). Caso aprenda novamente essa magia, o custo para lançá-la diminui em –1 PM.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n\n        const { stepValue, spells } = addOrCheapenSpell(\n          sheetClone,\n          spellsCircle1.luz,\n          Atributo.CARISMA\n        );\n        sheetClone.spells = spells;\n\n        if (stepValue) {\n          substeps.push({\n            name: 'Luz Sagrada',\n            value: stepValue,\n          });\n        }\n\n        return sheetClone;\n      },\n    },\n  ],\n};\n\nexport default AGGELUS;\n","import _ from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\n\nconst ANAO: Race = {\n  name: 'Anão',\n  attributes: {\n    attrs: [\n      { attr: Atributo.CONSTITUICAO, mod: 4 },\n      { attr: Atributo.SABEDORIA, mod: 2 },\n      { attr: Atributo.DESTREZA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    ARSENAL: 1,\n    KHALMYR: 1,\n    LINWU: 1,\n    THWOR: 1,\n    TENEBRA: 1,\n  },\n  getDisplacement: () => 6,\n  abilities: [\n    {\n      name: 'Conhecimento das Rochas',\n      description:\n        'Você recebe visão no escuro e +2 em testes de Percepção e Sobrevivência realizados no subterrâneo.',\n    },\n    {\n      name: 'Devagar e Sempre',\n      description:\n        'Seu deslocamento é 6m (em vez de 9m). Porém, seu deslocamento não é reduzido por uso de armadura ou excesso de carga.',\n    },\n    {\n      name: 'Tradição de Heredrimm',\n      description:\n        'Você é perito nas armas tradicionais anãs, seja por ter treinado com elas, seja por usá-las como ferramentas de ofício. Para você, todos os machados, martelos, marretas e picaretas são armas simples. Você recebe +2 em ataques com essas armas. (Não contabilizado)',\n    },\n    {\n      name: 'Duro com Pedra',\n      description:\n        'Você recebe +3 pontos de vida no 1º nível e +1 por nível seguinte.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const finalPV = sheet.pv + 3;\n        substeps.push({\n          name: 'Duro com Pedra',\n          value: `+3 PV inicial (${sheet.pv} + 3 = ${finalPV})`,\n        });\n\n        const finalAddPV = sheet.classe.addpv + 1;\n        substeps.push({\n          name: 'Duro com Pedra',\n          value: `+1 PV por nível (${sheet.classe.addpv} + 1 = ${finalAddPV})`,\n        });\n\n        return _.merge(sheet, {\n          pv: finalPV,\n          classe: {\n            addpv: finalAddPV,\n          },\n        });\n      },\n    },\n  ],\n};\n\nexport default ANAO;\n","import { cloneDeep, merge } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport { addOrCheapenSpell, spellsCircle1 } from '../magias/generalSpells';\n\nexport const PLANTS_FRIEND_MANA_REDUCTION = 1;\n\nconst DAHLLAN: Race = {\n  name: 'Dahllan',\n  attributes: {\n    attrs: [\n      { attr: Atributo.SABEDORIA, mod: 4 },\n      { attr: Atributo.DESTREZA, mod: 2 },\n      { attr: Atributo.INTELIGENCIA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    ALLIHANNA: 1,\n    LENA: 1,\n    OCEANO: 1,\n    THWOR: 1,\n  },\n  abilities: [\n    {\n      name: 'Amiga das Plantas',\n      description:\n        'Você pode lançar a magia Controlar Plantas (atributo-chave Sabedoria). Caso aprenda novamente essa magia, seu custo diminui em –1 PM.',\n      action(sheet: CharacterSheet, subSteps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n        const { spells, stepValue } = addOrCheapenSpell(\n          sheet,\n          spellsCircle1.controlarPlantas,\n          Atributo.SABEDORIA\n        );\n\n        if (stepValue) {\n          subSteps.push({\n            name: 'Amiga das Plantas',\n            value: stepValue,\n          });\n        }\n\n        return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          spells,\n        });\n      },\n    },\n    {\n      name: 'Armadura de Allihanna',\n      description:\n        'Você pode gastar uma ação de movimento e 1 PM para transformar sua pele em casca de árvore, recebendo +2 na Defesa até o fim da cena.',\n    },\n    {\n      name: 'Empatia Selvagem',\n      description:\n        'Você pode se comunicar com animais por meio de linguagem corporal e vocalizações. Você pode usar Adestramento para mudar atitude e pedir favores de animais (veja Diplomacia, na página 117). Caso receba esta habilidade novamente, recebe +2 em Adestramento.',\n    },\n  ],\n};\n\nexport default DAHLLAN;\n","import { cloneDeep, merge } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\n\nconst ELFO: Race = {\n  name: 'Elfo',\n  attributes: {\n    attrs: [\n      { attr: Atributo.INTELIGENCIA, mod: 4 },\n      { attr: Atributo.DESTREZA, mod: 2 },\n      { attr: Atributo.CONSTITUICAO, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    ALLIHANNA: 1,\n    THWOR: 1,\n    KALLYADRANOCH: 1,\n    MARAH: 1,\n    WYNNA: 1,\n  },\n  getDisplacement: () => 12,\n  abilities: [\n    {\n      name: 'Graça de Glórienn',\n      description: 'Seu deslocamento é 12m (em vez de 9m).',\n    },\n    {\n      name: 'Herança Feérica',\n      description: 'Você recebe +1 ponto de mana por nível.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n\n        const finalAddPM = sheet.classe.addpm + 1;\n        substeps.push({\n          name: 'Herança Feérica',\n          value: `+1 PM por nível (${sheet.classe.addpm} + 1 = ${finalAddPM})`,\n        });\n\n        return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          classe: {\n            ...sheetClone.classe,\n            addpm: finalAddPM,\n          },\n        });\n      },\n    },\n    {\n      name: 'Sentidos Élficos',\n      description:\n        'Você recebe visão na penumbra e +2 em Misticismo e Percepção.',\n    },\n  ],\n};\n\nexport default ELFO;\n","import { raceSize, RaceSize } from '../../../interfaces/Race';\n\nexport const RACE_SIZES: Record<raceSize, RaceSize> = {\n  MINUSCULO: {\n    modifiers: {\n      maneuver: -5,\n      stealth: 5,\n    },\n    naturalRange: 1.5,\n    name: 'Minúsculo',\n  },\n  PEQUENO: {\n    modifiers: {\n      maneuver: -2,\n      stealth: 2,\n    },\n    naturalRange: 1.5,\n    name: 'Pequeno',\n  },\n  MEDIO: {\n    modifiers: {\n      maneuver: 0,\n      stealth: 0,\n    },\n    naturalRange: 1.5,\n    name: 'Médio',\n  },\n  GRANDE: {\n    modifiers: {\n      maneuver: 2,\n      stealth: -2,\n    },\n    name: 'Grande',\n    naturalRange: 1.5,\n  },\n  ENORME: {\n    modifiers: {\n      maneuver: 5,\n      stealth: -5,\n    },\n    name: 'Enorme',\n    naturalRange: 1.5,\n  },\n  COLOSSAL: {\n    modifiers: {\n      maneuver: 10,\n      stealth: -10,\n    },\n    name: 'Colossal',\n    naturalRange: 1.5,\n  },\n};\n","import Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport { RACE_SIZES } from './raceSizes/raceSizes';\n\nconst GOBLIN: Race = {\n  name: 'Goblin',\n  attributes: {\n    attrs: [\n      { attr: Atributo.DESTREZA, mod: 4 },\n      { attr: Atributo.INTELIGENCIA, mod: 2 },\n      { attr: Atributo.CARISMA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    HYNINN: 1,\n    MEGALOKK: 1,\n    NIMB: 1,\n    THWOR: 2,\n  },\n  size: RACE_SIZES.PEQUENO,\n  abilities: [\n    {\n      name: 'Engenhoso',\n      description:\n        'Você não sofre penalidades em testes de perícia por não usar kits. Se usar o kit, recebe +2 no teste de perícia.',\n    },\n    {\n      name: 'Espelunqueiro',\n      description:\n        'Você recebe visão no escuro e deslocamento de escalada igual ao seu deslocamento terrestre.',\n    },\n    {\n      name: 'Peste Esguia',\n      description:\n        'Seu tamanho é Pequeno (veja a página 106), mas seu deslocamento se mantém 9m. Apesar de pequenos, goblins são rápidos.',\n    },\n    {\n      name: 'Rato das Ruas',\n      description:\n        'Você recebe +2 em Fortitude e sua recuperação de PV e PM nunca é inferior ao seu nível.',\n    },\n  ],\n};\n\nexport default GOBLIN;\n","import Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\n\nconst LEFOU: Race = {\n  name: 'Lefou',\n  attributes: {\n    attrs: [\n      { attr: Atributo.CARISMA, mod: -2 },\n      { attr: 'any', mod: 2 },\n      { attr: 'any', mod: 2 },\n      { attr: 'any', mod: 2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 2,\n    THWOR: 1,\n  },\n  abilities: [\n    {\n      name: 'Cria da Tormenta',\n      description:\n        'Você é uma criatura do tipo monstro e recebe +5 em testes de resistência contra efeitos causados por lefeu e pela Tormenta.',\n    },\n    {\n      name: 'Deformidade',\n      description:\n        'Todo lefou possui defeitos físicos que, embora desagradáveis, conferem certas vantagens. Você recebe +2 em duas perícias a sua escolha. Cada um desses bônus conta como um poder da Tormenta. Você pode trocar um desses bônus por um poder da Tormenta a sua escolha. Esta habilidade não causa perda de Carisma. (NÃO INCLUSO)',\n    },\n  ],\n};\n\nexport default LEFOU;\n","import { cloneDeep, merge } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Equipment from '../../interfaces/Equipment';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\n\nconst chifres: Equipment = {\n  group: 'Arma',\n  nome: 'Chifres',\n  dano: '1d6',\n  critico: 'x2',\n  tipo: 'Perf.',\n};\n\nconst MINOTAURO: Race = {\n  name: 'Minotauro',\n  attributes: {\n    attrs: [\n      { attr: Atributo.FORCA, mod: 4 },\n      { attr: Atributo.CONSTITUICAO, mod: 2 },\n      { attr: Atributo.SABEDORIA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    ARSENAL: 1,\n    MEGALOKK: 1,\n    OCEANO: 1,\n    THWOR: 1,\n  },\n  abilities: [\n    {\n      name: 'Chifres',\n      description:\n        'Você possui uma arma natural de chifres (dano 1d6, crítico x2, perfuração). Quando usa a ação atacar, pode gastar 1 PM para fazer um ataque corpo a corpo extra com os chifres.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n        sheetClone.bag.addEquipment({\n          Arma: [chifres],\n        });\n\n        substeps.push({\n          name: 'Nova Arma',\n          value: `Chifres pode ser usado como arma.`,\n        });\n\n        return sheetClone;\n      },\n    },\n    {\n      name: 'Couro Rígido',\n      description:\n        'Sua pele é dura como a de um touro. Você recebe +1 na Defesa.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n        const finalDefense = sheetClone.defesa + 1;\n\n        substeps.push({\n          name: 'Couro Rígido',\n          value: `+1 defesa (${sheet.defesa} + 1 = ${finalDefense})`,\n        });\n\n        return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          defesa: finalDefense,\n        });\n      },\n    },\n    {\n      name: 'Faro',\n      description:\n        'Você tem olfato apurado. Você não fica desprevenido e sofre apenas camuflagem (em vez de camuflagem total) contra inimigos em alcance curto que não possa ver.',\n    },\n    {\n      name: 'Medo de Altura',\n      description:\n        'Se estiver adjacente a uma queda de 3m ou mais de altura (como um buraco ou penhasco), você fica abalado.',\n    },\n  ],\n};\n\nexport default MINOTAURO;\n","import { cloneDeep, merge } from 'lodash';\nimport { getRandomItemFromArray } from '../../functions/randomUtils';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport { addOrCheapenSpell, spellsCircle1 } from '../magias/generalSpells';\n\nconst QAREEN: Race = {\n  name: 'Qareen',\n  attributes: {\n    attrs: [\n      { attr: Atributo.CARISMA, mod: 4 },\n      { attr: Atributo.INTELIGENCIA, mod: 2 },\n      { attr: Atributo.SABEDORIA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    AZGHER: 1,\n    LENA: 1,\n    MARAH: 1,\n    NIMB: 1,\n    TENEBRA: 1,\n    THWOR: 1,\n    WYNNA: 1,\n  },\n  abilities: [\n    {\n      name: 'Desejos',\n      description:\n        'Se lançar uma magia que alguém tenha pedido desde seu último turno, o custo da magia diminui em –1 PM. Fazer um desejo ao qareen é uma ação livre.',\n    },\n    {\n      name: 'Resistência Elemental',\n      description:\n        'Conforme sua ascendência, você recebe resistência 10 a um tipo de dano. Escolha uma: frio (qareen da água), eletricidade (do ar), fogo (do fogo), ácido (da terra), luz (da luz) ou trevas (qareen das trevas).',\n    },\n    {\n      name: 'Tatuagem mística',\n      description:\n        'Você pode lançar uma magia de 1º círculo a sua escolha (atributo-chave Carisma). Caso aprenda novamente essa magia, seu custo diminui em –1 PM.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n        const randomSpell = getRandomItemFromArray(\n          Object.values(spellsCircle1)\n        );\n\n        const { stepValue, spells } = addOrCheapenSpell(\n          sheetClone,\n          randomSpell,\n          Atributo.CARISMA\n        );\n\n        if (stepValue) {\n          substeps.push({\n            name: 'Tatuagem Mística',\n            value: stepValue,\n          });\n        }\n\n        return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          spells,\n        });\n      },\n    },\n  ],\n};\n\nexport default QAREEN;\n","import { cloneDeep, merge } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\n\nconst GOLEM: Race = {\n  name: 'Golem',\n  attributes: {\n    attrs: [\n      { attr: Atributo.FORCA, mod: 4 },\n      { attr: Atributo.CONSTITUICAO, mod: 2 },\n      { attr: Atributo.CARISMA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    TANNATOH: 1,\n    WYNNA: 1,\n  },\n  getDisplacement: () => 6,\n  abilities: [\n    {\n      name: 'Canalizar Reparos',\n      description:\n        'Como uma ação completa, você pode gastar pontos de mana para recuperar pontos de vida, à taxa de 5 PV por PM.',\n    },\n    {\n      name: 'Chassi',\n      description:\n        'Seu corpo artificial é resistente, mas rígido. Você recebe +2 na Defesa, mas possui penalidade de armadura –2 e seu deslocamento é 6m. Você leva um dia para vestir ou remover uma armadura (pois precisa acoplar as peças dela a seu chassi).',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n        const { extraArmorPenalty = 0 } = sheetClone;\n\n        const finalDefense = sheetClone.defesa + 2;\n        const finalExtraArmorPenalty = extraArmorPenalty + 2;\n\n        substeps.push({\n          name: 'Chassi',\n          value: `+2 defesa (${sheet.defesa} + 2 = ${finalDefense})`,\n        });\n\n        substeps.push({\n          name: 'Chassi',\n          value: `+2 penalidade de armadura`,\n        });\n\n        return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          defesa: finalDefense,\n          extraArmorPenalty: finalExtraArmorPenalty,\n        });\n      },\n    },\n    {\n      name: 'Criatura Artificial',\n      description:\n        'Você é uma criatura do tipo construto. Recebe visão no escuro e imunidade a doenças, fadiga, sangramento, sono e venenos. Além disso, não precisa respirar, alimentar-se ou dormir. Por fim, não recupera pontos de vida por descanso e não se beneficia de habilidades de cura e itens ingeríveis (comidas, poções etc.). Você precisa ficar inerte por oito horas por dia para recarregar sua fonte de energia. Se fizer isso, recupera PM por descanso em condições normais (golens não são afetados por condições boas ou ruins de descanso).Você é uma criatura do tipo construto. Recebe visão no escuro e imunidade a doenças, fadiga, sangramento, sono e venenos. Além disso, não precisa respirar, alimentar-se ou dormir. Por fim, não recupera pontos de vida por descanso e não se beneficia de habilidades de cura e itens ingeríveis (comidas, poções etc.). Você precisa ficar inerte por oito horas por dia para recarregar sua fonte de energia. Se fizer isso, recupera PM por descanso em condições normais (golens não são afetados por condições boas ou ruins de descanso).',\n    },\n    {\n      name: 'Espírito Elemental',\n      description:\n        'Escolha entre água (frio), ar (eletricidade), fogo (fogo) e terra (ácido). Você é imune a dano causado por essa energia. Se fosse sofrer dano mágico dessa energia, em vez disso cura PV em quantidade igual à metade do dano. Por exemplo, se um golem com espírito elemental do fogo é atingido por uma Bola de Fogo que causa 30 pontos de dano, em vez de sofrer esse dano, ele recupera 15 PV.',\n    },\n    {\n      name: 'Sem Origem',\n      description:\n        'Como uma criatura artificial, você já foi construído “pronto”. Não teve uma infância — portanto, não tem direito a escolher uma origem e receber benefícios por ela.',\n    },\n  ],\n};\n\nexport default GOLEM;\n","import Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport { RACE_SIZES } from './raceSizes/raceSizes';\n\nconst HYNNE: Race = {\n  name: 'Hynne',\n  attributes: {\n    attrs: [\n      { attr: Atributo.DESTREZA, mod: 4 },\n      { attr: Atributo.CARISMA, mod: 2 },\n      { attr: Atributo.FORCA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    HYNINN: 1,\n    MARAH: 1,\n    OCEANO: 1,\n    THWOR: 1,\n  },\n  size: RACE_SIZES.PEQUENO,\n  getDisplacement: () => 6,\n  abilities: [\n    {\n      name: 'Arremessador',\n      description:\n        'Quando faz um ataque à distância com uma funda ou uma arma de arremesso, seu dano aumenta em um passo.',\n    },\n    {\n      name: 'Pequeno e Rechonchudo',\n      description:\n        'Seu tamanho é Pequeno (veja a página 106) e seu deslocamento é 6m. Você recebe +2 em Enganação e usa o modificador de Destreza para Atletismo (em vez de Força).',\n    },\n    {\n      name: 'Sorte Salvadora',\n      description:\n        'Quando faz um teste de resistência, você pode gastar 1 PM para rolar este teste novamente.',\n    },\n  ],\n};\n\nexport default HYNNE;\n","import { Atributo } from '../data/atributos';\nimport generalPowers from '../data/poderes';\nimport CharacterSheet from '../interfaces/CharacterSheet';\nimport { GeneralPower, RequirementType } from '../interfaces/Poderes';\nimport Skill from '../interfaces/Skills';\n\nexport function isPowerAvailable(\n  sheet: CharacterSheet,\n  power: GeneralPower\n): boolean {\n  return power.requirements.some((req) =>\n    req.every((rule) => {\n      switch (rule.type) {\n        case RequirementType.PODER: {\n          const allPowers = [\n            ...sheet.generalPowers,\n            ...(sheet.origin?.powers || []),\n          ];\n\n          return allPowers.some((currPower) => currPower.name === rule.name);\n        }\n        case RequirementType.ATRIBUTO: {\n          const attr = rule.name as Atributo;\n          return rule.name && sheet.atributos[attr].value >= (rule?.value || 0);\n        }\n        case RequirementType.PERICIA: {\n          const pericia = rule.name as Skill;\n          return rule.name && sheet.skills.includes(pericia);\n        }\n        case RequirementType.HABILIDADE: {\n          const result = sheet.classe.abilities.some(\n            (ability) => ability.name === rule.name\n          );\n          if (rule.not) return !result;\n          return result;\n        }\n        case RequirementType.PODER_TORMENTA: {\n          const qtdPowers = rule.value as number;\n          return (\n            sheet.generalPowers.filter(\n              (actualPower) => actualPower.type === 'TORMENTA'\n            ).length >=\n            qtdPowers + 1 // OTHER powers, so can't count itself\n          );\n        }\n        case RequirementType.PROFICIENCIA: {\n          const proficiencia = (rule.value as unknown) as string;\n          return rule.name && sheet.classe.proficiencias.includes(proficiencia);\n        }\n        case RequirementType.NIVEL: {\n          const nivel = rule.value as number;\n          return sheet.nivel >= nivel;\n        }\n        case RequirementType.CLASSE: {\n          const className = (rule.value as unknown) as string;\n          return rule.name && sheet.classe.name === className;\n        }\n        default:\n          return true;\n      }\n    })\n  );\n}\n\nexport function getPowersAllowedByRequirements(\n  sheet: CharacterSheet\n): GeneralPower[] {\n  return Object.values(generalPowers)\n    .flat()\n    .filter((power) => isPowerAvailable(sheet, power));\n}\n","import { cloneDeep } from 'lodash';\nimport { getPowersAllowedByRequirements } from '../../functions/powers';\nimport { getNotRepeatedRandom } from '../../functions/randomUtils';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\n\nfunction addSkillOrPower(sheet: CharacterSheet, substeps: SubStep[]) {\n  const shouldGetSkill = Math.random() > 0.5;\n\n  if (shouldGetSkill) {\n    const randomSkill = getNotRepeatedRandom(sheet.skills, 'skill');\n    sheet.skills.push(randomSkill);\n    substeps.push({\n      name: 'Versátil',\n      value: `Perícia treinada (${randomSkill})`,\n    });\n  } else {\n    const allowedPowers = getPowersAllowedByRequirements(sheet);\n    const randomPower = getNotRepeatedRandom(\n      sheet.generalPowers,\n      'power',\n      allowedPowers\n    );\n    sheet.generalPowers.push(randomPower);\n    substeps.push({\n      name: 'Versátil',\n      value: `Poder geral recebido (${randomPower.name})`,\n    });\n  }\n\n  return sheet;\n}\n\nconst HUMANO: Race = {\n  name: 'Humano',\n  attributes: {\n    attrs: [\n      { attr: 'any', mod: 2 },\n      { attr: 'any', mod: 2 },\n      { attr: 'any', mod: 2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    VALKARIA: 1,\n    THWOR: 1,\n  },\n  abilities: [\n    {\n      name: 'Versátil',\n      description:\n        'Você se torna treinado em duas perícias a sua escolha (não precisam ser da sua classe). Você pode trocar uma dessas perícias por um poder geral a sua escolha.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n\n        const randomSkill = getNotRepeatedRandom(sheetClone.skills, 'skill');\n        sheetClone.skills.push(randomSkill);\n\n        substeps.push({\n          name: 'Versátil',\n          value: `Perícia treinada (${randomSkill})`,\n        });\n\n        addSkillOrPower(sheetClone, substeps);\n\n        return sheetClone;\n      },\n    },\n  ],\n};\n\nexport default HUMANO;\n","import { cloneDeep, merge } from 'lodash';\nimport { getNotRepeatedRandom } from '../../functions/randomUtils';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst KLIREN: Race = {\n  name: 'Kliren',\n  attributes: {\n    attrs: [\n      { attr: Atributo.INTELIGENCIA, mod: 4 },\n      { attr: Atributo.CARISMA, mod: 2 },\n      { attr: Atributo.FORCA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    TANNATOH: 1,\n    THWOR: 1,\n  },\n  abilities: [\n    {\n      name: 'Híbrido',\n      description:\n        'Sua natureza multifacetada fez com que você aprendesse conhecimentos variados. Você se torna treinado em uma perícia a sua escolha (não precisa ser da sua classe).Sua natureza multifacetada fez com que você aprendesse conhecimentos variados. Você se torna treinado em uma perícia a sua escolha (não precisa ser da sua classe).',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n        const randomSkill = getNotRepeatedRandom(sheetClone.skills, 'skill');\n        substeps.push({\n          name: 'Híbrido',\n          value: `Perícia treinada (${randomSkill})`,\n        });\n\n        return merge(sheetClone, {\n          skills: [...sheetClone.skills, randomSkill],\n        });\n      },\n    },\n    {\n      name: 'Lógica Gnômica',\n      description:\n        'Quando faz um teste de atributo ou perícia, você pode gastar 2 PM para substituir o modificador de atributo utilizado por Inteligência. Por exemplo, ao fazer um teste de Atletismo você pode gastar 2 PM para usar seu modificador de Inteligência em vez do modificador de Força.Quando faz um teste de atributo ou perícia, você pode gastar 2 PM para substituir o modificador de atributo utilizado por Inteligência. Por exemplo, ao fazer um teste de Atletismo você pode gastar 2 PM para usar seu modificador de Inteligência em vez do modificador de Força.',\n    },\n    {\n      name: 'Ossos Frágeis',\n      description:\n        'Você sofre 1 ponto de dano adicional por dado de dano de impacto. Por exemplo, se for atingido por uma clava (dano 1d6), sofre 1d6+1 pontos de dano. Se cair de 3m de altura (dano 2d6), sofre 2d6+2 pontos de dano.',\n    },\n    {\n      name: 'Vanguardista',\n      description:\n        'Você recebe proficiência em armas de fogo e +2 em testes de Ofício (um qualquer, a sua escolha).',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n\n        if (!sheetClone.classe.proficiencias.includes(PROFICIENCIAS.FOGO)) {\n          sheetClone.classe.proficiencias.push(PROFICIENCIAS.FOGO);\n          substeps.push({\n            name: 'Vanguardista',\n            value: 'Proficiência com armas de fogo',\n          });\n        }\n\n        return sheetClone;\n      },\n    },\n  ],\n};\n\nexport default KLIREN;\n","import Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\n\nconst MEDUSA: Race = {\n  name: 'Medusa',\n  attributes: {\n    attrs: [\n      { attr: Atributo.DESTREZA, mod: 4 },\n      { attr: Atributo.CARISMA, mod: 2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    KALLYADRANOCH: 1,\n    MEGALOKK: 1,\n    SSZZAAS: 1,\n    TENEBRA: 1,\n    THWOR: 1,\n  },\n  abilities: [\n    {\n      name: 'Cria de Megalokk',\n      description:\n        'Você é uma criatura do tipo monstro e recebe visão no escuro.',\n    },\n    {\n      name: 'Natureza Venenosa',\n      description:\n        'Você recebe resistência a veneno 5 e pode gastar uma ação de movimento e 1 PM para envenenar uma arma que esteja empunhando. A arma causa +1d12 pontos de dano de veneno. O veneno dura até você acertar um ataque ou até o fim da cena (o que acontecer primeiro).',\n    },\n    {\n      name: 'Olhar Atordoante',\n      description:\n        'Você pode gastar uma ação de movimento e 1 PM para forçar uma criatura em alcance curto a fazer um teste de Fortitude (CD Car). Se a criatura falhar, fica atordoada por 1 rodada. Se passar, fica imune a esta habilidade por um dia.',\n    },\n  ],\n};\n\nexport default MEDUSA;\n","import Race, { RaceSize } from '../../../interfaces/Race';\nimport { RACE_SIZES } from '../raceSizes/raceSizes';\n\nexport const DEFAULT_RACE_SIZE = RACE_SIZES.MEDIO;\nexport const DEFAULT_RACE_DISPLACEMENT = 9;\n\nexport function getDefaultSize(race: Race): RaceSize {\n  if (race.size) {\n    return race.size;\n  }\n\n  return DEFAULT_RACE_SIZE;\n}\n\nexport function getDefaultDisplacement(race: Race): number {\n  if (race.getDisplacement) {\n    return race.getDisplacement(race);\n  }\n\n  return DEFAULT_RACE_DISPLACEMENT;\n}\n\nexport function getRaceSize(race: Race): RaceSize {\n  if (race.getSize) {\n    return race.getSize(race);\n  }\n\n  return getDefaultSize(race);\n}\n\nexport function getRaceDisplacement(race: Race): number {\n  if (race.getDisplacement) {\n    return race.getDisplacement(race);\n  }\n\n  return getDefaultDisplacement(race);\n}\n","import { cloneDeep } from 'lodash';\nimport Race from '../../interfaces/Race';\nimport {\n  getNotRepeatedRandom,\n  getRandomItemFromArray,\n} from '../../functions/randomUtils';\nimport { getRaceDisplacement, getRaceSize } from './functions/functions';\nimport { Atributo } from '../atributos';\nimport HUMANO from './humano';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport { getPowersAllowedByRequirements } from '../../functions/powers';\n\nfunction addSkillOrGeneralPower(sheet: CharacterSheet, substeps: SubStep[]) {\n  const shouldGetSkill = Math.random() > 0.5;\n\n  if (shouldGetSkill) {\n    const randomSkill = getNotRepeatedRandom(sheet.skills, 'skill');\n    sheet.skills.push();\n    substeps.push({\n      name: 'Memória Póstuma',\n      value: `Perícia treinada (${randomSkill})`,\n    });\n  } else {\n    const allowedPowers = getPowersAllowedByRequirements(sheet);\n    const randomPower = getNotRepeatedRandom(\n      sheet.generalPowers,\n      'power',\n      allowedPowers\n    );\n    sheet.generalPowers.push(randomPower);\n    substeps.push({\n      name: 'Memória Póstuma',\n      value: `Poder geral recebido (${randomPower.name})`,\n    });\n  }\n}\n\nfunction getAndApplyRandomOldRaceAbility(\n  sheet: CharacterSheet,\n  substeps: SubStep[]\n) {\n  if (sheet.raca.oldRace?.abilities) {\n    const randomAbility = getRandomItemFromArray(sheet.raca.oldRace.abilities);\n    sheet.raca.abilities?.push(randomAbility);\n    substeps.push({\n      name: 'Memória Póstuma',\n      value: `${sheet.raca.oldRace.name} (${randomAbility.name})`,\n    });\n    if (randomAbility.action) {\n      return randomAbility.action(sheet, substeps);\n    }\n  }\n\n  return sheet;\n}\n\nconst OSTEON: Race = {\n  name: 'Osteon',\n  attributes: {\n    attrs: [\n      { attr: Atributo.CONSTITUICAO, mod: -2 },\n      { attr: 'any', mod: 2 },\n      { attr: 'any', mod: 2 },\n      { attr: 'any', mod: 2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    TENEBRA: 1,\n    THWOR: 1,\n  },\n  setup: (race, allRaces) => {\n    const validRaces = allRaces.filter(\n      (element) => element.name !== 'Golem' && element.name !== 'Osteon'\n    );\n\n    return {\n      ...race,\n      oldRace: getRandomItemFromArray(validRaces),\n    };\n  },\n  getDisplacement(race) {\n    if (race.oldRace) {\n      return getRaceDisplacement(race.oldRace);\n    }\n\n    return getRaceDisplacement(race);\n  },\n  getSize(race) {\n    if (race.oldRace) {\n      return getRaceSize(race.oldRace);\n    }\n\n    return getRaceSize(race);\n  },\n  abilities: [\n    {\n      name: 'Armadura Óssea',\n      description: 'Você recebe resistência a corte, frio e perfuração 5.',\n    },\n    {\n      name: 'Memória Póstuma',\n      description:\n        'Você se torna treinado em uma perícia (não precisa ser da sua classe) ou recebe um poder geral a sua escolha. Como alternativa, você pode ser um osteon de outra raça humanoide que não humano. Neste caso, você ganha uma habilidade dessa raça a sua escolha. Se a raça era de tamanho diferente de Médio, você também possui sua categoria de tamanho.',\n      action(sheet: CharacterSheet, subSteps: SubStep[]): CharacterSheet {\n        let sheetClone = cloneDeep(sheet);\n\n        if (sheet.raca.oldRace) {\n          if (sheet.raca.oldRace.name === HUMANO.name) {\n            addSkillOrGeneralPower(sheetClone, subSteps);\n          } else if (sheet.raca.oldRace.abilities) {\n            sheetClone = getAndApplyRandomOldRaceAbility(sheetClone, subSteps);\n          }\n        }\n\n        return sheetClone;\n      },\n    },\n    {\n      name: 'Natureza Esquelética',\n      description:\n        'Você é uma criatura do tipo morto-vivo. Recebe visão no escuro e imunidade a doenças, fadiga, sangramento, sono e venenos. Além disso, não precisa respirar, alimentar-se ou dormir. Por fim, habilidades mágicas de cura causam dano a você e você não se beneficia de itens ingeríveis (comidas, poções etc.), mas dano de trevas recupera seus PV.',\n    },\n  ],\n};\nexport default OSTEON;\n","import { cloneDeep } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport {\n  addOrCheapenRandomSpells,\n  spellsCircle1,\n} from '../magias/generalSpells';\n\nconst seaSongSpells = [\n  spellsCircle1.amedrontar,\n  spellsCircle1.comando,\n  spellsCircle1.despedacar,\n  spellsCircle1.enfeiticar,\n  spellsCircle1.hipnotismo,\n  spellsCircle1.sono,\n];\n\nconst SEREIA: Race = {\n  name: 'Sereia',\n  attributes: {\n    attrs: [\n      { attr: 'any', mod: 2 },\n      { attr: 'any', mod: 2 },\n      { attr: 'any', mod: 2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    OCEANO: 1,\n    THWOR: 1,\n  },\n  abilities: [\n    {\n      name: 'Canção dos Mares',\n      description:\n        'Você pode lançar duas das magias a seguir: Amedrontar, Comando, Despedaçar, Enfeitiçar, Hipnotismo ou Sono (atributo-chave Carisma). Caso aprenda novamente uma dessas magias, seu custo diminui em –1 PM.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n\n        addOrCheapenRandomSpells(\n          sheetClone,\n          substeps,\n          seaSongSpells,\n          'Canção dos Mares',\n          Atributo.CARISMA\n        );\n\n        return sheetClone;\n      },\n    },\n    {\n      name: 'Mestre do Tridente',\n      description:\n        'Para você, o tridente é uma arma simples. Além disso, você recebe +2 em rolagens de dano com azagaias, lanças e tridentes',\n    },\n    {\n      name: 'Transformação Anfíbia',\n      description:\n        'Você pode respirar debaixo d’água e possui uma cauda que fornece deslocamento de natação 12m. Quando fora d’água, sua cauda desaparece e dá lugar a pernas (deslocamento 9m). Se permanecer mais de um dia sem contato com água, você não recupera PM com descanso até voltar para a água (ou, pelo menos, tomar um bom banho!).',\n    },\n  ],\n};\n\nexport default SEREIA;\n","import { cloneDeep } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport {\n  addOrCheapenRandomSpells,\n  spellsCircle1,\n} from '../magias/generalSpells';\n\nconst fairySpells = [\n  spellsCircle1.criarIlusao,\n  spellsCircle1.enfeiticar,\n  spellsCircle1.luz,\n  spellsCircle1.sono,\n];\n\nconst SILFIDE: Race = {\n  name: 'Sílfide',\n  attributes: {\n    attrs: [\n      { attr: Atributo.CARISMA, mod: 4 },\n      { attr: Atributo.DESTREZA, mod: 2 },\n      { attr: Atributo.FORCA, mod: -4 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    ALLIHANNA: 1,\n    HYNINN: 1,\n    NIMB: 1,\n    WYNNA: 1,\n  },\n  abilities: [\n    {\n      name: 'Asas de Borboleta',\n      description:\n        'Seu tamanho é Minúsculo. Você pode pairar a 1,5m do chão com deslocamento 9m. Isso permite que você ignore terreno difícil e o torna imune a dano por queda (a menos que esteja inconsciente). Você pode gastar 1 PM por rodada para voar com deslocamento de 12m.',\n    },\n    {\n      name: 'Espírito da Natureza',\n      description:\n        'Você é uma criatura do tipo espírito, recebe visão na penumbra e pode falar com animais livremente.',\n    },\n    {\n      name: 'Magia das Fadas',\n      description:\n        'Você pode lançar duas das magias a seguir (todas atributo-chave Carisma): Criar Ilusão, Enfeitiçar, Luz (como uma magia arcana) e Sono. Caso aprenda novamente uma dessas magias, seu custo diminui em –1 PM.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n\n        addOrCheapenRandomSpells(\n          sheetClone,\n          substeps,\n          fairySpells,\n          'Magia das Fadas',\n          Atributo.CARISMA\n        );\n\n        return sheetClone;\n      },\n    },\n  ],\n};\n\nexport default SILFIDE;\n","import { cloneDeep } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\nimport { addOrCheapenSpell, spellsCircle1 } from '../magias/generalSpells';\n\nconst SULFURE: Race = {\n  name: 'Suraggel (Sulfure)',\n  attributes: {\n    attrs: [\n      { attr: Atributo.DESTREZA, mod: 4 },\n      { attr: Atributo.INTELIGENCIA, mod: 2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    KALLYADRANOCH: 1,\n    TENEBRA: 1,\n  },\n  abilities: [\n    {\n      name: 'Herança Divina',\n      description:\n        'Você é uma criatura do tipo espírito e recebe visão no escuro.',\n    },\n    {\n      name: 'Sombras Profanas',\n      description:\n        'Você recebe +2 em Enganação e Furtividade. Além disso, pode lançar Escuridão (como uma magia divina; atributo-chave Inteligência). Caso aprenda novamente essa magia, o custo para lançá-la diminui em –1 PM.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n\n        const { stepValue, spells } = addOrCheapenSpell(\n          sheetClone,\n          spellsCircle1.escuridao,\n          Atributo.INTELIGENCIA\n        );\n        sheetClone.spells = spells;\n\n        if (stepValue) {\n          substeps.push({\n            name: 'Sombras Profanas',\n            value: stepValue,\n          });\n        }\n\n        return sheetClone;\n      },\n    },\n  ],\n};\n\nexport default SULFURE;\n","import { cloneDeep, merge } from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport Equipment from '../../interfaces/Equipment';\nimport Race from '../../interfaces/Race';\nimport { Atributo } from '../atributos';\n\nconst mordida: Equipment = {\n  group: 'Arma',\n  nome: 'Mordida',\n  dano: '1d6',\n  critico: 'x2',\n  tipo: 'Perf.',\n};\n\nconst TROG: Race = {\n  name: 'Trog',\n  attributes: {\n    attrs: [\n      { attr: Atributo.CONSTITUICAO, mod: 4 },\n      { attr: Atributo.FORCA, mod: 2 },\n      { attr: Atributo.INTELIGENCIA, mod: -2 },\n    ],\n  },\n  faithProbability: {\n    AHARADAK: 1,\n    MEGALOKK: 1,\n    TENEBRA: 1,\n    THWOR: 1,\n  },\n  abilities: [\n    {\n      name: 'Mau Cheiro',\n      description:\n        'Você pode gastar uma ação padrão e 2 PM para expelir um gás fétido. Todas as criaturas (exceto trogs) em alcance curto devem passar em um teste de Fortitude contra veneno (CD Con) ou ficarão enjoadas durante 1d6 rodadas. Uma criatura que passe no teste de resistência fica imune a esta habilidade por um dia.',\n    },\n    {\n      name: 'Mordida',\n      description:\n        'Você possui uma arma natural de mordida (dano 1d6, crítico x2, perfuração). Quando usa a ação atacar, pode gastar 1 PM para fazer um ataque corpo a corpo extra com a mordida.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n        sheetClone.bag.addEquipment({\n          Arma: [mordida],\n        });\n\n        substeps.push({\n          name: 'Nova Arma',\n          value: `Mordida pode ser usado como arma.`,\n        });\n\n        return sheetClone;\n      },\n    },\n    {\n      name: 'Reptiliano',\n      description:\n        'Você é uma criatura do tipo monstro e recebe visão no escuro, +1 na Defesa (JÁ INCLUSO) e, se estiver sem armadura ou roupas pesadas, +5 em Furtividade.',\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = cloneDeep(sheet);\n\n        substeps.push({\n          name: 'Reptiliano',\n          value: `+1 na Defesa`,\n        });\n\n        return merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          defesa: sheetClone.defesa + 1,\n        });\n      },\n    },\n    {\n      name: 'Sangue Frio',\n      description:\n        'Você sofre 1 ponto de dano adicional por dado de dano de frio.',\n    },\n  ],\n};\n\nexport default TROG;\n","import _ from 'lodash';\nimport AGGELUS from './races/aggelus';\nimport ANAO from './races/anao';\nimport DAHLLAN from './races/dahllan';\nimport ELFO from './races/elfo';\nimport GOBLIN from './races/goblin';\nimport LEFEU from './races/lefou';\nimport MINOTAURO from './races/minotauro';\nimport QAREEN from './races/qareen';\nimport GOLEM from './races/golem';\nimport HYNNE from './races/hynne';\nimport HUMANO from './races/humano';\nimport KLIREN from './races/kliren';\nimport MEDUSA from './races/medusa';\nimport OSTEON from './races/osteon';\nimport SEREIA from './races/sereia';\nimport SILFIDE from './races/silfide';\nimport SULFURE from './races/sulfure';\nimport TROG from './races/trog';\nimport Race from '../interfaces/Race';\n\nconst RACAS = [\n  AGGELUS,\n  ANAO,\n  DAHLLAN,\n  ELFO,\n  GOBLIN,\n  LEFEU,\n  MINOTAURO,\n  QAREEN,\n  GOLEM,\n  HYNNE,\n  HUMANO,\n  KLIREN,\n  MEDUSA,\n  OSTEON,\n  SEREIA,\n  SILFIDE,\n  SULFURE,\n  TROG,\n];\n\nexport default RACAS;\n\nexport function getRaceByName(name: string): Race {\n  const race = _.cloneDeep(RACAS.find((element) => element.name === name));\n  if (race) {\n    if (race.setup) {\n      return race.setup(race, RACAS);\n    }\n    return race;\n  }\n\n  const defaultRace = _.cloneDeep(RACAS[0]);\n  if (defaultRace.setup) {\n    return defaultRace.setup(defaultRace, RACAS);\n  }\n  return defaultRace;\n}\n","import _ from 'lodash';\nimport { getRandomItemFromArray } from '../../functions/randomUtils';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport {\n  ClassDescription,\n  ClassAbility,\n  SpellPath,\n} from '../../interfaces/Class';\nimport { RequirementType } from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\ntype ArcanistaSubtypes = 'Bruxo' | 'Mago' | 'Feiticeiro';\nconst allArcanistaSubtypes: ArcanistaSubtypes[] = [\n  'Bruxo',\n  'Mago',\n  'Feiticeiro',\n];\n\nconst spellPaths: Record<ArcanistaSubtypes, SpellPath> = {\n  Bruxo: {\n    initialSpells: 3,\n    spellType: 'Arcane',\n    qtySpellsLearnAtLevel: () => 1,\n    spellCircleAvailableAtLevel: (level) => {\n      if (level < 5) return 1;\n      if (level < 9) return 2;\n      if (level < 13) return 3;\n      if (level < 17) return 4;\n      return 5;\n    },\n    keyAttribute: Atributo.INTELIGENCIA,\n  },\n  Mago: {\n    initialSpells: 4,\n    spellType: 'Arcane',\n    qtySpellsLearnAtLevel: (level) => ([5, 9, 13, 17].includes(level) ? 2 : 1),\n    spellCircleAvailableAtLevel: (level) => {\n      if (level < 5) return 1;\n      if (level < 9) return 2;\n      if (level < 13) return 3;\n      if (level < 17) return 4;\n      return 5;\n    },\n    keyAttribute: Atributo.INTELIGENCIA,\n  },\n  Feiticeiro: {\n    initialSpells: 3,\n    spellType: 'Arcane',\n    qtySpellsLearnAtLevel: (level) => (level % 2 === 1 ? 1 : 0),\n    spellCircleAvailableAtLevel: (level) => {\n      if (level < 5) return 1;\n      if (level < 9) return 2;\n      if (level < 13) return 3;\n      if (level < 17) return 4;\n      return 5;\n    },\n    keyAttribute: Atributo.CARISMA,\n  },\n};\n\nconst classAbilities: Record<ArcanistaSubtypes, ClassAbility> = {\n  Bruxo: {\n    name: 'Caminho do Arcanista',\n    text:\n      'A magia é um poder incrível, capaz de alterar a realidade. Esse poder tem fontes distintas e cada uma opera conforme suas próprias regras. Você é um bruxo, capaz de lançar magias através de um foco como uma varinha, cajado, chapéu, etc.',\n    nivel: 1,\n  },\n  Mago: {\n    name: 'Caminho do Arcanista',\n    text:\n      'A magia é um poder incrível, capaz de alterar a realidade. Esse poder tem fontes distintas e cada uma opera conforme suas próprias regras. Você é um mago, capaz de lançar magia através de todo o seu estudo mágico. Seu livro de magias contém todas as suas magias, e a cada dia você pode preparar até metade de suas magias para usar durante o dia.',\n    nivel: 1,\n  },\n  Feiticeiro: {\n    name: 'Caminho do Arcanista',\n    text:\n      'A magia é um poder incrível, capaz de alterar a realidade. Esse poder tem fontes distintas e cada uma opera conforme suas próprias regras. Você é um feiticeiro, capaz de lançar magias atráves de um poder inato que corre no seu sangue.',\n    nivel: 1,\n  },\n};\n\nconst feiticeiroPaths: ClassAbility[] = [\n  {\n    name: 'Linhagem Dracônica',\n    text:\n      'Um de seus antepassados foi um majestoso dragão. Escolha um tipo de dano entre ácido, eletricidade, fogo ou frio. Básica: Você soma seu modificador de Carisma em seus pontos de vida iniciais e recebe resistência ao tipo de dano escolhido 5. (ADICIONE VOCÊ MESMO)',\n    nivel: 1,\n  },\n  {\n    name: 'Linhagem Feérica',\n    text:\n      'Seu sangue foi tocado pelas fadas. Básica: Você se torna treinado em Enganação e aprende uma magia de 1º círculo de encantamento ou ilusão, arcana ou divina, a sua escolha. (ADICIONE VOCÊ MESMO)',\n    nivel: 1,\n  },\n  {\n    name: 'Linhagem Rubra',\n    text:\n      'Seu sangue foi corrompido pela Tormenta. Básica: Você recebe um poder da Tormenta. Quando adquire um poder da Tormenta, você pode aplicar a penalidade em Carisma a outro atributo. Sua relação com a invasão aberrante lhe permite sacrificar partes específicas de seu ser. (ADICIONE VOCÊ MESMO)',\n    nivel: 1,\n  },\n];\n\nconst ARCANISTA: ClassDescription = {\n  name: 'Arcanista',\n  pv: 8,\n  addpv: 2,\n  pm: 6,\n  addpm: 6,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.MISTICISMO, Skill.VONTADE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 1,\n    list: [Skill.CONHECIMENTO, Skill.INICIATIVA, Skill.OFICIO, Skill.PERCEPCAO],\n  },\n  proficiencias: [PROFICIENCIAS.SIMPLES, PROFICIENCIAS.LEVES],\n  abilities: [\n    {\n      name: 'Magias',\n      text:\n        'Você pode lançar magias arcanas de 1º círculo. A cada quatro níveis, pode lançar magias de um círculo maior (2o círculo no 5o nível, 3o círculo no 9o nível e assim por diante).',\n      nivel: 1,\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = _.cloneDeep(sheet);\n\n        let keyAttr = 'INT';\n        let keyAttrMod = sheet.atributos.Inteligência.mod;\n        if (sheet.classe.subname === 'Feiticeiro') {\n          keyAttr = 'CAR';\n          keyAttrMod = sheet.atributos.Carisma.mod;\n        }\n\n        const finalPM = sheet.pm + keyAttrMod;\n        substeps.push({\n          name: 'Magias',\n          value: `+(Mod ${keyAttr}) PMs inicias (${sheet.pm} + ${keyAttrMod} = ${finalPM})`,\n        });\n\n        return _.merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          pm: finalPM,\n        });\n      },\n    },\n    {\n      name: 'Alta Arcana',\n      text:\n        'No 20º nível, seu domínio das artes arcanas é total. O custo em PM de suas magias arcanas é reduzido à metade (após aplicar aprimoramentos e quaisquer outros efeitos que reduzam custo).',\n      nivel: 20,\n    },\n  ],\n  powers: [\n    {\n      name: 'Arcano de Batalha',\n      text:\n        'Você soma o bônus de seu atributo-chave nas rolagens de dano para magias e para seu Raio Arcano (caso possua).',\n      requirements: [],\n    },\n    {\n      name: 'Aumento de Atributo',\n      text:\n        'Você recebe +2 em um atributo a sua escolha (NÃO CONTABILIZADO). Você pode escolher este poder várias vezes. A partir da segunda vez que escolhê-lo para o mesmo atributo, o aumento diminui para +1.',\n      canRepeat: true,\n      requirements: [],\n    },\n    {\n      name: 'Caldeirão do Bruxo',\n      text:\n        'Você pode criar poções, como se tivesse o poder geral Preparar Poção. Se tiver ambos, você pode criar poções de 3º círculo.',\n      requirements: [\n        [\n          { type: RequirementType.TIPO_ARCANISTA, name: 'Bruxo' },\n          { type: RequirementType.PERICIA, name: Skill.OFICIO_ALQUIMIA },\n        ],\n      ],\n    },\n    {\n      name: 'Conhecimento Mágico',\n      text:\n        'Você aprende duas magias de qualquer círculo que possa lançar. Você pode escolher este poder quantas vezes quiser.',\n      canRepeat: true,\n      requirements: [],\n    },\n    {\n      name: 'Contramágica Aprimorada',\n      text:\n        'Uma vez por rodada, você pode fazer uma contramágica como uma reação (veja a página 164).',\n      requirements: [[{ type: RequirementType.MAGIA, name: 'Dissipar Magia' }]],\n    },\n    {\n      name: 'Envolto em Mistério',\n      text:\n        'Sua aparência e postura assombrosas o permitem manipular e assustar pessoas ignorantes ou supersticiosas. O mestre define o que exatamente você pode fazer e quem se encaixa nessa descrição. Como regra geral, você recebe +5 em Enganação e Intimidação contra pessoas não treinadas em Conhecimento ou Misticismo.',\n      requirements: [],\n    },\n    {\n      name: 'Escriba Arcano',\n      text:\n        'Você pode aprender magias copiando os textos de pergaminhos e grimórios de outros magos. Aprender uma magia dessa forma exige um dia de trabalho e T$ 250 em matérias-primas por PM necessário para lançar a magia. Assim, aprender uma magia de 3º círculo (6 PM) exige 6 dias de trabalho e o gasto de T$ 1.500.',\n      requirements: [[{ type: RequirementType.TIPO_ARCANISTA, name: 'Mago' }]],\n    },\n    {\n      name: 'Especialista em Escola',\n      text:\n        'Escolha uma escola de magia. A CD para resistir a suas magias dessa escola aumenta em +2.',\n      requirements: [\n        [{ type: RequirementType.TIPO_ARCANISTA, name: 'Bruxo' }],\n        [{ type: RequirementType.TIPO_ARCANISTA, name: 'Mago' }],\n      ],\n    },\n    {\n      name: 'Familiar',\n      text: 'Você possui um animal de estimação mágico (ver página 36).',\n      requirements: [],\n    },\n    {\n      name: 'Fluxo de Mana',\n      text:\n        'Você pode manter dois efeitos sustentados ativos simultaneamente com apenas uma ação livre, pagando o custo de cada efeito separadamente.',\n      requirements: [[{ type: RequirementType.NIVEL, value: 10 }]],\n    },\n    {\n      name: 'Foco Vital',\n      text:\n        'Se você estiver segurando seu foco e sofrer dano que o levaria a 0 PV ou menos, você fica com 1 PV e o foco perde pontos de vida igual ao valor excedente, até ser destruído.',\n      requirements: [[{ type: RequirementType.TIPO_ARCANISTA, name: 'Bruxo' }]],\n    },\n    {\n      name: 'Fortalecimento Arcano',\n      text:\n        'A CD para resistir a suas magias aumenta em +1. Se você puder lançar magias de 4º círculo, em vez disso ela aumenta em +2.',\n      requirements: [],\n    },\n    {\n      name: 'Herança Aprimorada',\n      text: 'Você recebe a herança aprimorada de sua linhagem sobrenatural.',\n      requirements: [\n        [\n          { type: RequirementType.TIPO_ARCANISTA, name: 'Feiticeiro' },\n          { type: RequirementType.NIVEL, value: 6 },\n        ],\n      ],\n    },\n    {\n      name: 'Herança Superior',\n      text: 'Você recebe a herança superior de sua linhagem sobrenatural.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Herança Aprimorada' },\n          { type: RequirementType.NIVEL, value: 11 },\n        ],\n      ],\n    },\n    {\n      name: 'Magia Pungente',\n      text:\n        'Quando lança uma magia, você pode pagar 1 PM para aumentar em +2 a CD para resistir a ela.',\n      requirements: [],\n    },\n    {\n      name: 'Mestre em Escola',\n      text:\n        'Escolha uma escola de magia. O custo para lançar magias dessa escola diminui em –1 PM.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Especialista em Escola' },\n          { type: RequirementType.NIVEL, value: 8 },\n        ],\n      ],\n    },\n    {\n      name: 'Poder Mágico',\n      text:\n        'Você recebe +1 ponto de mana por nível de arcanista. Quando sobe de nível, os PM que recebe por este poder aumentam de acordo. Por exemplo, se escolher este poder no 4º nível, recebe 4 PM. Quando subir para o 5º nível, recebe +1 PM e assim por diante. Você pode escolher este poder uma segunda vez, para um total de +2 PM por nível.',\n      requirements: [],\n    },\n    {\n      name: 'Raio Arcano',\n      text:\n        'Você pode gastar uma ação padrão para disparar um raio num alvo em alcance curto que causa 1d6 pontos de dano de essência. Esse dano aumenta em +1d6 para cada círculo de magia acima do 1º que você puder lançar. O alvo pode fazer um teste de Reflexos (CD atributo-chave) para reduzir o dano à metade.',\n      requirements: [],\n    },\n    {\n      name: 'Raio Elemental',\n      text:\n        'Quando usa Raio Arcano, você pode pagar 1 PM para que ele cause dano de um tipo de energia a sua escolha, entre ácido, eletricidade, fogo, frio ou trevas. Se o alvo falhar no teste de Reflexos, sofre uma condição, de acordo com o tipo de energia. Veja a descrição das condições no Apêndice. Ácido: vulnerável por uma rodada. Eletricidade: ofuscado por uma rodada. Fogo: fica em chamas. Frio: lento por uma rodada. Trevas: não pode ser curado por uma rodada.',\n      requirements: [[{ type: RequirementType.PODER, name: 'Raio Elemental' }]],\n    },\n    {\n      name: 'Raio Poderoso',\n      text:\n        'Os dados de dano do seu Raio Arcano aumentam para d8 e o alcance dele aumenta para médio.',\n      requirements: [[{ type: RequirementType.PODER, name: 'Raio Poderoso' }]],\n    },\n    {\n      name: 'Tinta do Mago',\n      text:\n        'Você pode criar pergaminhos, como se tivesse o poder Escrever Pergaminho. Se tiver ambos, seu custo para criar pergaminhos é reduzido à metade.',\n      requirements: [\n        [\n          { type: RequirementType.TIPO_ARCANISTA, name: 'MAGO' },\n          { type: RequirementType.PERICIA, name: Skill.CONHECIMENTO },\n        ],\n      ],\n    },\n  ],\n  probDevoto: 0.3,\n  faithProbability: {\n    AZGHER: 1,\n    KALLYADRANOCH: 1,\n    NIMB: 1,\n    SSZZAAS: 1,\n    TANNATOH: 1,\n    TENEBRA: 1,\n    VALKARIA: 1,\n    WYNNA: 1,\n  },\n  attrPriority: [Atributo.INTELIGENCIA],\n  setup: (classe) => {\n    const modifiedClasse = _.cloneDeep(classe);\n    const subtype = getRandomItemFromArray(allArcanistaSubtypes);\n    modifiedClasse.subname = subtype;\n    modifiedClasse.spellPath = spellPaths[subtype];\n    modifiedClasse.abilities.push(classAbilities[subtype]);\n    if (subtype === 'Feiticeiro') {\n      modifiedClasse.abilities.push(getRandomItemFromArray(feiticeiroPaths));\n      modifiedClasse.attrPriority = [Atributo.CARISMA];\n    }\n\n    return modifiedClasse;\n  },\n};\n\nexport default ARCANISTA;\n","import { ClassDescription } from '../../interfaces/Class';\nimport { RequirementType } from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst BARBARO: ClassDescription = {\n  name: 'Bárbaro',\n  pv: 24,\n  addpv: 6,\n  pm: 3,\n  addpm: 3,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.LUTA, Skill.FORTITUDE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 4,\n    list: [\n      Skill.ADESTRAMENTO,\n      Skill.ATLETISMO,\n      Skill.CAVALGAR,\n      Skill.INICIATIVA,\n      Skill.INTIMIDACAO,\n      Skill.OFICIO,\n      Skill.PERCEPCAO,\n      Skill.PONTARIA,\n      Skill.SOBREVIVENCIA,\n      Skill.VONTADE,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.ESCUDOS,\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.MARCIAIS,\n    PROFICIENCIAS.SIMPLES,\n  ],\n  abilities: [\n    {\n      name: 'Furia',\n      text:\n        'Você pode gastar 2 PM para invocar uma fúria selvagem, tornando-se temível em combate. Você recebe +2 em testes de ataque e rolagens de dano corpo a corpo, mas não pode fazer nenhuma ação que exija calma e concentração (como usar a perícia Furtividade ou lançar magias). A cada cinco níveis, pode gastar +2 PM para aumentar os bônus em +1. A Fúria termina se, ao fim da rodada, você não tiver atacado nem sido alvo de um efeito (ataque, habilidade, magia...) hostil.',\n      nivel: 1,\n    },\n    {\n      name: 'Instinto Selvagem',\n      text:\n        'Você recebe +1 em Percepção e Reflexos. A cada seis níveis, esse bônus aumenta em +1.',\n      nivel: 3,\n    },\n    {\n      name: 'Resistência a Dano',\n      text:\n        'Graças a seu vigor e força de vontade, você ignora parte de seus ferimentos. Você recebe resistência a dano 2 (todo dano que sofre é reduzido em 2). A cada três níveis, sua RD aumenta em 2, até um máximo de RD 10 no 17º nível.',\n      nivel: 5,\n    },\n    {\n      name: 'Fúria Titânica',\n      text:\n        'No 20º nível, o bônus que você recebe nos testes de ataque e rolagens de dano quando usa Fúria é dobrado. Por exemplo, se gastar 8 PM, em vez de um bônus de +5, recebe um bônus de +10',\n      nivel: 20,\n    },\n  ],\n  powers: [\n    {\n      name: 'Alma de Bronze',\n      text:\n        'Quando entra em fúria, você recebe uma quantidade de pontos de vida temporários igual a metade do seu nível + mod. Força.',\n      requirements: [],\n    },\n    {\n      name: 'Aumento de Atributo',\n      text:\n        'Você recebe +2 em um atributo a sua escolha. Você pode escolher este poder várias vezes. A partir da segunda vez que escolhê-lo para o mesmo atributo, o aumento diminui para +1.',\n      canRepeat: true,\n      requirements: [],\n    },\n    {\n      name: 'Brado Assustador',\n      text:\n        'Você pode gastar uma ação de movimento e 1 PM para soltar um berro feroz. Todos os inimigos em alcance curto devem fazer um teste de Vontade (CD Car). Um inimigo que falhe fica abalado até o fim da cena. Um inimigo que passe se torna imune a esta habilidade até o fim do dia.',\n      requirements: [\n        [{ type: RequirementType.PERICIA, name: Skill.INTIMIDACAO }],\n      ],\n    },\n    {\n      name: 'Crítico Brutal',\n      text:\n        'Seu multiplicador de crítico com ataques corpo a corpo aumenta em +1. Por exemplo, se fizer um crítico com um machado de batalha, seu multiplicador será x4, em vez de x3.',\n      requirements: [[{ type: RequirementType.NIVEL, value: 6 }]],\n    },\n    {\n      name: 'Destruidor',\n      text:\n        'Quando causa dano com uma arma corpo a corpo de duas mãos, você pode rolar novamente qualquer resultado 1 ou 2 das rolagens de dano da arma.',\n      requirements: [\n        [{ type: RequirementType.ATRIBUTO, name: 'Força', value: 13 }],\n      ],\n    },\n    {\n      name: 'Espírito Inquebrável',\n      text:\n        'Enquanto está em fúria, você não fica inconsciente por estar com 0 ou menos pontos de vida (você ainda morre se chegar em um valor negativo igual à metade de seus PV máximos).',\n      requirements: [[{ type: RequirementType.PODER, name: 'Alma de Bronze' }]],\n    },\n    {\n      name: 'Esquiva Sobrenatural',\n      text:\n        'Seus instintos ficam tão apurados que você consegue reagir ao perigo antes que seus sentidos percebam. Você nunca fica surpreendido.',\n      requirements: [],\n    },\n    {\n      name: 'Força Indomável',\n      text:\n        'Você pode gastar 1 PM para somar seu nível em um teste de Força ou Atletismo. Você pode usar esta habilidade depois de rolar o dado, mas deve usá-la antes de o mestre dizer se você passou ou não.',\n      requirements: [],\n    },\n    {\n      name: 'Frenesi',\n      text:\n        'Se estiver em fúria e usar a ação atacar para fazer um ataque corpo a corpo, você pode gastar 2 PM para fazer um ataque adicional.',\n      requirements: [],\n    },\n    {\n      name: 'Fúria da Savana',\n      text:\n        'Seu deslocamento aumenta em +3m. Quando usa Fúria, você aplica o bônus em ataque e dano também a armas de arremesso.',\n      requirements: [],\n    },\n    {\n      name: 'Fúria Raivosa',\n      text:\n        'Se sua Fúria for terminar por você não ter atacado nem sido alvo de um efeito hostil, você pode pagar 1 PM para continuar em fúria nesta rodada. Se você atacar ou for atacado na rodada seguinte, sua fúria continua normalmente.',\n      requirements: [],\n    },\n    {\n      name: 'Golpe Poderoso',\n      text:\n        'Ao acertar um ataque corpo a corpo, você pode gastar 1 PM para causar um dado de dano extra do mesmo tipo (por exemplo, com um montante, causa +1d6, para um dano total de 3d6; com um machado de guerra, causa +1d12).',\n      requirements: [],\n    },\n    {\n      name: 'Ímpeto',\n      text:\n        'Você pode gastar 1 PM para aumentar seu deslocamento em +6m por uma rodada.',\n      requirements: [],\n    },\n    {\n      name: 'Investida Imprudente',\n      text:\n        'Quando faz uma investida, você pode aumentar sua penalidade em Defesa pela investida para –5 para receber um bônus de +1d8 na rolagem de dano deste ataque.',\n      requirements: [],\n    },\n    {\n      name: 'Pele de Aço',\n      text: 'O bônus de Pele de Ferro aumenta para +5.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Pele de Ferro' },\n          { type: RequirementType.NIVEL, value: 8 },\n        ],\n      ],\n    },\n    {\n      name: 'Pele de Ferro',\n      text:\n        'Você recebe +2 na Defesa, mas apenas se não estiver usando armadura pesada.',\n      requirements: [],\n    },\n    {\n      name: 'Sangue dos Inimigos',\n      text:\n        'Enquanto está em fúria, quando faz um acerto crítico ou reduz um inimigo a 0 PV, você recebe um bônus cumulativo de +1 em testes de ataque e rolagens de dano, limitado pelo seu nível, até o fim da cena.',\n      requirements: [[]],\n    },\n    {\n      name: 'Superstição',\n      text:\n        'Você odeia magia, o que faz com que seja mais resistente a ela. Você recebe resistência a magia +2.',\n      requirements: [],\n    },\n    {\n      name: 'Totem Espiritual',\n      text:\n        'Você soma seu bônus de Sabedoria no seu total de pontos de mana. Escolha um animal totêmico (veja o quadro). Você pode lançar uma magia definida pelo animal escolhido (atributo-chave Sabedoria).',\n      requirements: [\n        [\n          { type: RequirementType.ATRIBUTO, name: 'Sabedoria', value: 13 },\n          { type: RequirementType.NIVEL, value: 4 },\n        ],\n      ],\n    },\n    {\n      name: 'Vigor Primal',\n      text:\n        'Você pode gastar uma ação de movimento e 1 PM para recuperar 1d12 pontos de vida. Para cada 2 PM extras que você gastar, cura +1d12 PV (pode gastar 3 PM para recuperar 2d12 PV, 5 PM para recuperar 3d12 PV e assim por diante).',\n      requirements: [],\n    },\n  ],\n  probDevoto: 0.3,\n  faithProbability: {\n    ALLIHANNA: 1,\n    ARSENAL: 1,\n    AZGHER: 1,\n    MEGALOKK: 1,\n    NIMB: 1,\n    OCEANO: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.FORCA, Atributo.CONSTITUICAO],\n};\n\nexport default BARBARO;\n","import _ from 'lodash';\nimport { pickFromArray } from '../../functions/randomUtils';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport { ClassDescription } from '../../interfaces/Class';\nimport { RequirementType } from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { allSpellSchools } from '../../interfaces/Spells';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst BARDO: ClassDescription = {\n  name: 'Bardo',\n  pv: 12,\n  addpv: 3,\n  pm: 4,\n  addpm: 4,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.ATUACAO, Skill.REFLEXOS],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 6,\n    list: [\n      Skill.ACROBACIA,\n      Skill.CAVALGAR,\n      Skill.CONHECIMENTO,\n      Skill.DIPLOMACIA,\n      Skill.ENGANACAO,\n      Skill.FURTIVIDADE,\n      Skill.INICIATIVA,\n      Skill.INTUICAO,\n      Skill.INVESTIGACAO,\n      Skill.JOGATINA,\n      Skill.LADINAGEM,\n      Skill.LUTA,\n      Skill.MISTICISMO,\n      Skill.NOBREZA,\n      Skill.PERCEPCAO,\n      Skill.PONTARIA,\n      Skill.RELIGIAO,\n      Skill.VONTADE,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.SIMPLES,\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.MARCIAIS,\n  ],\n  abilities: [\n    {\n      name: 'Inspiração',\n      text:\n        'Você pode gastar uma ação padrão e 2 PM para inspirar as pessoas com sua música (ou outro tipo de arte, como dança). Você e todos os seus aliados em alcance curto ganham +1 em testes de perícia até o fim da cena. A cada quatro níveis, pode gastar +2 PM para aumentar o bônus em +1.',\n      nivel: 1,\n    },\n    {\n      name: 'Magias',\n      text:\n        'Escolha três escolas de magia. Uma vez feita, essa escolha não pode ser mudada. Você pode lançar magias arcanas de 1º círculo que pertençam a essas escolas. À medida que sobe de nível, pode lançar magias de círculos maiores (2º círculo no 6º nível, 3º círculo no 10º nível e 4º círculo no 14º nível). Você começa com duas magias de 1º círculo. A cada nível par (2º, 4º etc.), aprende uma magia de qualquer círculo e escola que possa lançar. Você pode lançar essas magias vestindo armaduras leves sem precisar de testes de Misticismo. Seu atributo-chave para lançar magias é Carisma e você soma seu bônus de Carisma no seu total de PM. Veja o Capítulo 4 para as regras de magia.',\n      nivel: 1,\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = _.cloneDeep(sheet);\n\n        const finalPM = sheet.pm + sheet.atributos.Carisma.mod;\n        substeps.push({\n          name: 'Magias',\n          value: `+(Mod CAR) PMs inicias (${sheet.pm} + ${sheet.atributos.Carisma.mod} = ${finalPM})`,\n        });\n\n        return _.merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          pm: finalPM,\n        });\n      },\n    },\n    {\n      name: 'Eclético',\n      text:\n        'A partir do 2º nível, você pode gastar 1 PM para receber todos os benefícios de ser treinado em uma perícia por um teste.',\n      nivel: 2,\n    },\n    {\n      name: 'Artista Completo',\n      text:\n        'Você pode usar Inspiração como uma ação livre. Enquanto estiver sob efeito de sua Inspiração, qualquer habilidade de bardo (incluindo magias) que você usar tem seu custo em PM reduzido pela metade (após aplicar quaisquer outras habilidades que reduzam o custo).',\n      nivel: 20,\n    },\n  ],\n  powers: [\n    {\n      name: 'Arte Mágica.',\n      text:\n        'Enquanto você estiver sob efeito de sua habilidade Inspiração, a CD para resistir a suas magias de bardo aumenta em +2.',\n      requirements: [],\n    },\n    {\n      name: 'Aumentar Repertório',\n      text:\n        'Você aprende duas magias de qualquer círculo que possa lançar. Elas devem pertencer às escolas que você sabe usar, mas podem ser arcanas ou divinas. Você pode escolher este poder quantas vezes quiser.',\n      canRepeat: true,\n      requirements: [],\n    },\n    {\n      name: 'Aumento de Atributo',\n      text:\n        'Você recebe +2 em um atributo a sua escolha. Você pode escolher este poder várias vezes. A partir da segunda vez que escolhê-lo para o mesmo atributo, o aumento diminui para +1.',\n      requirements: [],\n      canRepeat: true,\n    },\n    {\n      name: 'Canção Assustadora',\n      text:\n        'Você pode gastar uma ação padrão e 1 PM para forçar todas as criaturas a sua escolha em alcance curto a fazer um teste de Vontade (CD Car). Uma criatura que falhe fica abalada até o fim da cena. Uma criatura que passe se torna imune a esta habilidade até o fim do dia.',\n      requirements: [],\n    },\n    {\n      name: 'Dança das Lâminas',\n      text:\n        'Quando você lança uma magia com execução de uma ação padrão, pode gastar 1 PM para fazer um ataque corpo a corpo como uma ação livre.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Esgrima Mágica' },\n          { type: RequirementType.NIVEL, value: 10 },\n        ],\n      ],\n    },\n    {\n      name: 'Esgrima Mágica',\n      text:\n        'Sua arte mescla esgrima e magia, transformando dança em golpes. Enquanto estiver sob efeito de Inspiração, você pode substituir testes de Luta por testes de Atuação, mas apenas se estiver empunhando armas leves ou de uma mão.',\n      requirements: [],\n    },\n    {\n      name: 'Estrelato',\n      text:\n        'Suas apresentações o tornaram famoso, fazendo com que você seja reconhecido e bem tratado por aqueles que apreciam a arte. Por outro lado, pode ser difícil passar despercebido, especialmente em grandes cidades. Quando usa Atuação para impressionar uma plateia, o bônus recebido em perícias baseadas em Carisma aumenta para +5.',\n      requirements: [[{ type: RequirementType.NIVEL, value: 6 }]],\n    },\n    {\n      name: 'Fascinar',\n      text:\n        'Você pode gastar uma ação padrão e 1 PM para fascinar uma criatura a sua escolha em alcance curto. Faça um teste de Atuação oposto pelo teste de Vontade da criatura. Se você passar, ela fica fascinada enquanto você se concentrar (uma ação padrão por rodada). Se a criatura passar, fica imune a este efeito por um dia.',\n      requirements: [],\n    },\n    {\n      name: 'Fascinar em Massa',\n      text:\n        'Quando usa Fascinar, você pode gastar 2 PM extras. Se fizer isso, afeta todas as criaturas a sua escolha em alcance curto (você faz um único teste de Atuação, oposto pelo teste de Vontade de cada criatura).',\n      requirements: [[{ type: RequirementType.PODER, name: 'Fascinar' }]],\n    },\n    {\n      name: 'Golpe Elemental',\n      text:\n        'Enquanto estiver sob efeito de Inspiração, sempre que você acertar um ataque corpo a corpo, pode gastar 1 PM para causar 1d6 de dano adicional de ácido, eletricidade, fogo ou frio, a sua escolha. Para cada quatro níveis que possuir, pode gastar +1 PM para aumentar o dano em +1d6.',\n      requirements: [[{ type: RequirementType.PODER, name: 'Golpe Mágico' }]],\n    },\n    {\n      name: 'Golpe Mágico',\n      text:\n        'Enquanto estiver sob efeito de Inspiração, sempre que você acertar um ataque corpo a corpo em um inimigo, recebe 2 PM temporários. Você pode ganhar um máximo de PM temporários por cena igual ao seu nível. PM temporários desaparecem no final da cena.',\n      requirements: [[{ type: RequirementType.PODER, name: 'Esgrima Mágica' }]],\n    },\n    {\n      name: 'Inspiração Marcial',\n      text:\n        'Quando você usa Inspiração, você e seus aliados aplicam o bônus recebido em rolagens de dano (além de testes de perícia).',\n      requirements: [],\n    },\n    {\n      name: 'Lendas e Histórias',\n      text:\n        'Você possui um acervo mental de relatos, canções e folclore, sendo um arquivo vivo de assuntos gerais. Além de outros benefícios a critério do mestre, você pode gastar 1 PM para rolar novamente um teste recém realizado de Conhecimento, Misticismo, Nobreza ou Religião para informação, identificar criaturas ou identificar itens mágicos.',\n      requirements: [\n        [{ type: RequirementType.ATRIBUTO, name: 'Inteligência', value: 13 }],\n      ],\n    },\n    {\n      name: 'Manipular',\n      text:\n        'Você pode gastar 1 PM para forçar uma criatura que esteja fascinada a fazer um teste de Vontade (CD Car). Se a criatura falhar, sofre o efeito da magia Enfeitiçar até o fim da cena. Se passar, fica imune a esta habilidade por um dia. Usar esta habilidade não conta como uma ameaça à criatura fascinada.',\n      requirements: [[{ type: RequirementType.PODER, name: 'Fascinar' }]],\n    },\n    {\n      name: 'Manipular em Massa',\n      text:\n        'Quando usa Manipular, você pode gastar 2 PM extras. Se fizer isso, afeta todas as criaturas a sua escolha em alcance curto.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Fascinar em Massa' },\n          { type: RequirementType.NIVEL, value: 10 },\n        ],\n      ],\n    },\n    {\n      name: 'Melodia Curativa',\n      text:\n        'Você pode gastar uma ação padrão e 1 PM para gerar um efeito curativo. Você e todos os seus aliados em alcance curto recuperam 1d6 PV. Para cada 2 PM extras que você gastar, cura +1d6 PV (ou seja, pode gastar 3 PM para recuperar 2d6 PV, 5 PM para recuperar 3d6 PV e assim por diante).',\n      requirements: [],\n    },\n    {\n      name: 'Melodia Restauradora',\n      text:\n        'Quando você usa Melodia Curativa, pode gastar 2 PM extras. Se fizer isso, escolha uma das condições a seguir: abalado, apavorado, alquebrado, atordoado, cego, confuso, esmorecido, exausto, fatigado, frustrado ou surdo. Você remove a condição escolhida de quaisquer aliados a sua escolha afetados pela Melodia Curativa.',\n      requirements: [\n        [{ type: RequirementType.PODER, name: 'Melodia Curativa' }],\n      ],\n    },\n    {\n      name: 'Mestre dos Sussurros',\n      text:\n        'Você é dissimulado, atento para rumores e ótimo em espalhar fofocas. Quando faz um teste de Investigação para obter informação ou um teste de Enganação para intriga, você rola dois dados e usa o melhor resultado. Além disso, pode fazer esses testes em ambientes sociais (taverna, festival, corte...) sem custo e em apenas uma hora (em vez de um dia).',\n      requirements: [\n        [\n          { type: RequirementType.ATRIBUTO, name: 'Carisma', value: 13 },\n          { type: RequirementType.PERICIA, name: 'Enganação' },\n          { type: RequirementType.PERICIA, name: 'Investigação' },\n        ],\n      ],\n    },\n    {\n      name: 'Paródia',\n      text:\n        'Uma vez por rodada, quando vê alguém lançando uma magia em alcance médio, você pode pagar 1 PM e fazer um teste de Atuação (CD 15 + custo em PM da magia). Se passar, até o final de seu próximo turno você pode lançar essa magia.',\n      requirements: [],\n    },\n    {\n      name: 'Prestidigitação',\n      text:\n        'Quando faz uma ação padrão qualquer, você pode aproveitar seus gestos para lançar uma magia de ilusão. Faça um teste de Atuação (CD 15 + custo em PM da magia). Se passar, você lança a magia como uma ação livre. Outros personagens só percebem que você lançou uma magia se passarem num teste de Misticismo (CD 20). Se falhar, a magia não funciona, mas você gasta os PM mesmo assim.',\n      requirements: [],\n    },\n  ],\n  probDevoto: 0.3,\n  faithProbability: {\n    HYNINN: 1,\n    MARAH: 1,\n    NIMB: 1,\n    SSZZAAS: 1,\n    TANNATOH: 1,\n    TENEBRA: 1,\n    VALKARIA: 1,\n    WYNNA: 1,\n  },\n  attrPriority: [Atributo.CARISMA],\n  setup: (classe) => {\n    const modifiedClasse = _.cloneDeep(classe);\n    modifiedClasse.spellPath = {\n      initialSpells: 2,\n      spellType: 'Arcane',\n      qtySpellsLearnAtLevel: (level) => (level % 2 === 0 ? 1 : 0),\n      schools: pickFromArray(allSpellSchools, 3),\n      spellCircleAvailableAtLevel: (level) => {\n        if (level < 6) return 1;\n        if (level < 10) return 2;\n        if (level < 14) return 3;\n        return 4;\n      },\n      keyAttribute: Atributo.CARISMA,\n    };\n\n    return modifiedClasse;\n  },\n};\n\nexport default BARDO;\n","import { ClassDescription } from '../../interfaces/Class';\nimport { RequirementType } from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst BUCANEIRO: ClassDescription = {\n  name: 'Bucaneiro',\n  pv: 16,\n  addpv: 4,\n  pm: 3,\n  addpm: 3,\n  periciasbasicas: [\n    {\n      type: 'or',\n      list: [Skill.LUTA, Skill.PONTARIA],\n    },\n    {\n      type: 'and',\n      list: [Skill.REFLEXOS],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 4,\n    list: [\n      Skill.ACROBACIA,\n      Skill.ATLETISMO,\n      Skill.ATUACAO,\n      Skill.ENGANACAO,\n      Skill.FORTITUDE,\n      Skill.FURTIVIDADE,\n      Skill.INICIATIVA,\n      Skill.INTIMIDACAO,\n      Skill.JOGATINA,\n      Skill.LUTA,\n      Skill.OFICIO,\n      Skill.PERCEPCAO,\n      Skill.PILOTAGEM,\n      Skill.PONTARIA,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.MARCIAIS,\n    PROFICIENCIAS.SIMPLES,\n  ],\n  abilities: [\n    {\n      name: 'Audácia',\n      text:\n        'Quando faz um teste de perícia, você pode gastar 2 PM para receber um bônus igual ao seu modificador de Carisma no teste. Você não pode usar esta habilidade em testes de ataque.',\n      nivel: 1,\n    },\n    {\n      name: 'Insolência',\n      text:\n        'Você soma seu bônus de Carisma na Defesa, limitado pelo seu nível. Esta habilidade exige liberdade de movimentos; você não pode usá-la se estiver de armadura pesada ou na condição imóvel.',\n      nivel: 1,\n    },\n    {\n      name: 'Evasão',\n      text:\n        'Quando sofre um ataque que permite um teste de Reflexos para reduzir o dano à metade, você não sofre dano algum se passar. Você ainda sofre dano normal se falhar no teste de Reflexos. Esta habilidade exige liberdade de movimentos; você não pode usá-la se estiver de armadura pesada ou na condição imóvel.',\n      nivel: 2,\n    },\n    {\n      name: 'Esquiva Sagaz',\n      text:\n        'Você recebe +1 na Defesa. Esse bônus aumenta em +1 a cada quatro níveis. Esta habilidade exige liberdade de movimentos; você não pode usá-la se estiver de armadura pesada ou na condição imóvel.',\n      nivel: 3,\n    },\n    {\n      name: 'Panache',\n      text:\n        'Sempre que faz um acerto crítico em combate ou reduz um inimigo a 0 PV, você recupera 1 PM.',\n      nivel: 5,\n    },\n    {\n      name: 'Evasão Aprimorada',\n      text:\n        'Quando sofre um ataque que permite um teste de Reflexos para reduzir o dano à metade, você não sofre dano algum se passar e sofre apenas metade do dano se falhar. Esta habilidade exige liberdade de movimentos; você não pode usá-la se estiver de armadura pesada ou na condição imóvel.',\n      nivel: 10,\n    },\n    {\n      name: 'Sorte de Nimb',\n      text:\n        'O bucaneiro está acostumado a encarar os piores desafios e rir na cara deles — pois sabe que tem a sorte ao seu lado. Você pode gastar 5 PM para rolar novamente um teste recém realizado. Qualquer resultado 11 ou mais na segunda rolagem será considerado um 20 natural.',\n      nivel: 20,\n    },\n  ],\n  powers: [\n    {\n      name: 'Abusar dos Fracos',\n      text:\n        'Quando ataca uma criatura sob efeito de uma condição de medo, seu dano aumenta em um passo.',\n      requirements: [\n        [{ type: RequirementType.PODER, name: 'Flagelo dos Mares' }],\n      ],\n    },\n    {\n      name: 'Amigos no Porto',\n      text:\n        'Quando chega em uma comunidade portuária, você pode gastar 2 PM para fazer um teste de Carisma (CD 10). Se passar, encontra um amigo para o qual pode pedir um favor (veja a perícia Diplomacia) ou que pode ajudá-lo como um aliado por uma cena.',\n      requirements: [\n        [\n          { type: RequirementType.ATRIBUTO, name: 'Carisma', value: 13 },\n          { type: RequirementType.NIVEL, value: 6 },\n        ],\n      ],\n    },\n    {\n      name: 'Aparar',\n      text:\n        'Uma vez por rodada, quando é atingido por um ataque corpo a corpo, você pode gastar 1 PM para apará-lo. Faça um teste de ataque. Se o resultado do seu teste for maior que o do oponente, você evita o ataque. Você só pode usar este poder se estiver usando uma arma leve ou ágil.',\n      requirements: [[{ type: RequirementType.PODER, name: 'Esgrimia' }]],\n    },\n    {\n      name: 'Apostador',\n      text:\n        'Você pode gastar um dia para encontrar e participar de uma mesa de wyrt ou outro jogo de azar. Escolha um valor e faça um teste de Jogatina contra a CD correspondente: T$ 100 (CD 15), T$ 250 (CD 20), T$ 500 (CD 25), T$ 1.000 (CD 30), T$ 2.500 (CD 35) e assim por diante. Se passar, você ganha o valor escolhido (ou um item ou favor equivalente, a critério do mestre). Se falhar, você perde esse mesmo valor. A critério do mestre, o lugar onde você está pode impossibilitar o uso deste poder ou limitá-lo a uma vez por semana ou mês.',\n      requirements: [[{ type: RequirementType.PERICIA, name: 'Jogatina' }]],\n    },\n    {\n      name: 'Ataque Acrobático',\n      text:\n        'Quando se aproxima de um inimigo com uma pirueta ou pulo (em termos de jogo, usando Acrobacia ou Atletismo para se mover) e o ataca no mesmo turno, você recebe +2 em seu teste de ataque e na rolagem de dano.',\n      requirements: [],\n    },\n    {\n      name: 'Aumento de Atributo',\n      text:\n        'Você recebe +2 em um atributo a sua escolha. Você pode escolher este poder várias vezes. A partir da segunda vez que escolhê-lo para o mesmo atributo, o aumento diminui para +1.',\n      requirements: [],\n      canRepeat: true,\n    },\n    {\n      name: 'Aventureiro Ávido',\n      text:\n        'Uma vez por rodada, você pode gastar 5 PM para realizar uma ação padrão ou de movimento adicional. Se possuir o poder Surto Heroico, em vez disso seu custo diminui em –2 PM.',\n      requirements: [],\n    },\n    {\n      name: 'Bravata Audaz',\n      text:\n        'Você jura fazer uma façanha específica, como roubar o tesouro de Sckhar ou ganhar um beijo do príncipe e da princesa até o fim do baile. Se cumprir a bravata, seu limite máximo de PM aumenta em +2d6 até o fim da aventura.',\n      requirements: [],\n    },\n    {\n      name: 'Bravata Imprudente',\n      text:\n        'Na primeira rodada de um combate, você pode jurar derrotar seus inimigos com uma restrição a sua escolha, como lutar com uma mão nas costas, de guarda aberta (em termos de jogo, desprevenido), de olhos vendados (cego) etc. Uma restrição só é válida se prejudicá-lo (por exemplo, lutar com uma mão nas costas só vale como restrição se você luta com duas armas). O mestre tem a palavra final sobre a validade de uma restrição. Você sofre a penalidade durante todo o combate, mas, se vencer, recebe +2 nos testes de ataque e na margem de ameaça até o fim da aventura.',\n      requirements: [],\n    },\n    {\n      name: 'En Garde',\n      text:\n        'Você pode gastar uma ação de movimento e 1 PM para assumir postura de luta. Até o fim da cena, se estiver usando uma arma leve ou ágil, você recebe +2 na Defesa e na margem de ameaça.',\n      requirements: [[{ type: RequirementType.PODER, name: 'Esgrimista' }]],\n    },\n    {\n      name: 'Esgrimista',\n      text:\n        'Quando usa uma arma leve ou ágil, você soma seu bônus de Inteligência nas rolagens de dano (limitado pelo seu nível).',\n      requirements: [\n        [{ type: RequirementType.ATRIBUTO, name: 'Inteligência', value: 13 }],\n      ],\n    },\n    {\n      name: 'Flagelo dos Mares',\n      text:\n        'Você aprende e pode lançar Amedrontar (atributo-chave Carisma). Esta não é uma habilidade mágica e provém de sua capacidade de incutir medo em seus inimigos.',\n      requirements: [[{ type: RequirementType.PERICIA, name: 'Intimidação' }]],\n    },\n    {\n      name: 'Folião',\n      text:\n        'Você tem facilidade em criar amizades durante festas, de noitadas em tavernas a bailes na corte. O mestre define exatamente o que você pode fazer com este poder. Como regra geral, a atitude de todas as pessoas em relação a você durante uma festa melhora em uma categoria.',\n      requirements: [\n        [{ type: RequirementType.ATRIBUTO, name: 'Carisma', value: 13 }],\n      ],\n    },\n    {\n      name: 'Grudar o Cano',\n      text:\n        'Quando faz um ataque à distância com uma arma de fogo contra um oponente adjacente, você não sofre a penalidade de –5 no teste de ataque e aumenta seu dano em um passo. Pré-requisito: treinado em Luta, Pistoleiro.',\n      requirements: [],\n    },\n    {\n      name: 'Pernas do Mar',\n      text:\n        'Você está acostumado à superfície oscilante do convés. Você recebe +2 em Acrobacia e Atletismo e não fica desprevenido quando está se equilibrando ou escalando.',\n      requirements: [],\n    },\n    {\n      name: 'Pistoleiro',\n      text:\n        'Você recebe proficiência com armas de fogo e +2 nas rolagens de dano com essas armas.',\n      requirements: [],\n    },\n    {\n      name: 'Presença Paralisante',\n      text: 'Você soma seu bônus de Carisma em Iniciativa.',\n      requirements: [\n        [{ type: RequirementType.ATRIBUTO, name: 'Carisma', value: 13 }],\n      ],\n    },\n    {\n      name: 'Ripostar',\n      text:\n        'Quando usa a habilidade aparar e evita o ataque, você pode gastar 1 PM. Se fizer isso, pode fazer um ataque corpo a corpo imediato contra o inimigo que o atacou (se ele estiver em alcance).',\n      requirements: [[{ type: RequirementType.PODER, name: 'Aparar' }]],\n    },\n    {\n      name: 'Touché',\n      text:\n        'Quando se aproxima de um inimigo e o ataca com uma arma leve ou ágil no mesmo turno, você pode gastar 2 PM para aumentar seu dano em um passo e receber +5 na margem de ameaça.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Esgrimista' },\n          { type: RequirementType.NIVEL, value: 10 },\n        ],\n      ],\n    },\n  ],\n  probDevoto: 0.3,\n  faithProbability: {\n    HYNINN: 1,\n    NIMB: 1,\n    OCEANO: 1,\n    SSZZAAS: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.FORCA, Atributo.DESTREZA, Atributo.INTELIGENCIA],\n};\n\nexport default BUCANEIRO;\n","import { ClassDescription } from '../../interfaces/Class';\nimport { RequirementType } from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst CACADOR: ClassDescription = {\n  name: 'Caçador',\n  pv: 16,\n  addpv: 4,\n  pm: 4,\n  addpm: 4,\n  periciasbasicas: [\n    {\n      type: 'or',\n      list: [Skill.LUTA, Skill.PONTARIA],\n    },\n    {\n      type: 'and',\n      list: [Skill.SOBREVIVENCIA],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 6,\n    list: [\n      Skill.ADESTRAMENTO,\n      Skill.ATLETISMO,\n      Skill.CAVALGAR,\n      Skill.CURA,\n      Skill.FORTITUDE,\n      Skill.FURTIVIDADE,\n      Skill.INICIATIVA,\n      Skill.INVESTIGACAO,\n      Skill.LUTA,\n      Skill.OFICIO,\n      Skill.PERCEPCAO,\n      Skill.PONTARIA,\n      Skill.REFLEXOS,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.MARCIAIS,\n    PROFICIENCIAS.ESCUDOS,\n    PROFICIENCIAS.SIMPLES,\n  ],\n  abilities: [\n    {\n      name: 'Marca da Presa',\n      text:\n        'Você pode gastar uma ação de movimento e 1 PM para analisar uma criatura em alcance curto. Até o fim da cena, você recebe +1d4 nas rolagens de dano contra essa criatura. A cada quatro níveis, você pode gastar +1 PM para aumentar o bônus de dano (veja a tabela da classe).',\n      nivel: 1,\n    },\n    {\n      name: 'Rastreador',\n      text:\n        'Você recebe +2 em Sobrevivência. Além disso, pode se mover com seu deslocamento normal enquanto rastreia sem sofrer penalidades no teste de Sobrevivência.',\n      nivel: 1,\n    },\n    {\n      name: 'Explorador',\n      text:\n        'Escolha um tipo de terreno entre aquático, ártico, colina, deserto, floresta, montanha, pântano, planície, subterrâneo ou urbano. A partir do 11º nível, você também pode escolher área de Tormenta. Quando estiver no tipo de terreno escolhido, você soma seu bônus de Sabedoria (mínimo +1) na Defesa e nos testes de Acrobacia, Atletismo, Furtividade, Percepção e Sobrevivência. A cada quatro níveis, escolha outro tipo de terreno para receber o bônus ou aumente o bônus em um tipo de terreno já escolhido em +2.',\n      nivel: 3,\n    },\n    {\n      name: 'Caminho do Explorador',\n      text:\n        'Você pode atravessar terrenos difíceis sem sofrer redução em seu deslocamento e a CD para rastrear você aumenta em +10. Esta habilidade só funciona em terrenos nos quais você tenha a habilidade Explorador.',\n      nivel: 5,\n    },\n    {\n      name: 'Mestre Caçador',\n      text:\n        'No 20º nível, você pode usar a habilidade Marca da Presa como uma ação livre. Além disso, quando usa a habilidade, pode gastar +5 PM para aumentar sua margem de ameaça contra a criatura em +2. Se você reduz uma criatura contra a qual usou Marca da Presa a 0 pontos de vida, recupera 5 PM.',\n      nivel: 20,\n    },\n  ],\n  powers: [\n    {\n      name: 'Ambidestria',\n      text:\n        'Se estiver usando duas armas (e pelo menos uma delas for leve) e fizer a ação atacar, você pode fazer dois ataques, um com cada arma. Se fizer isso, sofre –2 em todos os testes de ataque até o seu próximo turno.',\n      requirements: [\n        [{ type: RequirementType.ATRIBUTO, name: 'Destreza', value: 15 }],\n      ],\n    },\n    {\n      name: 'Armadilha: Arataca.',\n      text:\n        'A vítima sofre 2d6 pontos de dano de perfuração e fica agarrada. Uma criatura agarrada pode escapar com uma ação padrão e um teste de Acrobacia ou Atletismo (CD Sab).',\n      requirements: [],\n    },\n    {\n      name: 'Armadilha: Espinhos',\n      text:\n        'A vítima sofre 6d6 pontos de dano de perfuração. Um teste de Reflexos (CD Sab) reduz o dano à metade.',\n      requirements: [],\n    },\n    {\n      name: 'Armadilha: Laço',\n      text:\n        'A vítima deve fazer um teste de Reflexos (CD Sab). Se passar, fica caída. Se falhar, fica agarrada. Uma criatura agarrada pode se soltar com uma ação padrão e um teste de Força ou Acrobacia (CD Sab).',\n      requirements: [],\n    },\n    {\n      name: 'Armadilha: Rede',\n      text:\n        'Todas as criaturas na área devem fazer um teste de Reflexos (CD Sab) para não ficarem enredadas. Uma vítima pode se libertar com uma ação padrão e um teste de Acrobacia ou Atletismo (CD 25). Além disso, a área ocupada pela rede é considerada terreno difícil.',\n      requirements: [],\n    },\n    {\n      name: 'Arqueiro',\n      text:\n        'Se estiver usando uma arma de ataque à distância, você soma seu bônus de Sabedoria nas rolagens de dano (limitado pelo seu nível).',\n      requirements: [\n        [{ type: RequirementType.ATRIBUTO, name: 'Sabedoria', value: 13 }],\n      ],\n    },\n    {\n      name: 'Aumento de Atributo',\n      text:\n        'Você recebe +2 em um atributo a sua escolha. Você pode escolher este poder várias vezes. A partir da segunda vez que escolhê-lo para o mesmo atributo, o aumento diminui para +1.',\n      requirements: [],\n      canRepeat: true,\n    },\n    {\n      name: 'Bote',\n      text:\n        'Se estiver empunhando duas armas e fizer uma investida, você pode pagar 1 PM para fazer um ataque adicional com sua arma secundária.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Ambidestria' },\n          { type: RequirementType.NIVEL, value: 6 },\n        ],\n      ],\n    },\n    {\n      name: 'Camuflagem',\n      text:\n        'Você pode gastar 2 PM para usar a perícia Furtividade para se esconder mesmo sem cobertura disponível.',\n      requirements: [[{ type: RequirementType.NIVEL, value: 6 }]],\n    },\n    {\n      name: 'Chuva de Lâminas',\n      text:\n        'Quando usa Ambidestria, você pode pagar 2 PM para fazer um ataque adicional com sua arma primária.',\n      requirements: [\n        [\n          { type: RequirementType.ATRIBUTO, name: 'Destreza', value: 19 },\n          { type: RequirementType.PODER, name: 'Ambidestria' },\n          { type: RequirementType.NIVEL, value: 12 },\n        ],\n      ],\n    },\n    {\n      name: 'Companheiro Animal',\n      text:\n        'Você recebe um companheiro animal. Veja o quadro na página 62. Pré-requisito: treinado em Adestramento.',\n      requirements: [],\n    },\n    {\n      name: 'Elo com a Natureza',\n      text:\n        'Você soma seu bônus de Sabedoria em seu total de pontos de mana e aprende e pode lançar Caminhos da Natureza (atributo-chave Sabedoria).',\n      requirements: [\n        [\n          { type: RequirementType.ATRIBUTO, name: 'Sabedoria', value: 13 },\n          { type: RequirementType.NIVEL, value: 3 },\n        ],\n      ],\n    },\n    {\n      name: 'Emboscar',\n      text:\n        'Você pode gastar 2 PM para realizar uma ação padrão adicional em seu turno. Você só pode usar este poder na primeira rodada de um combate.',\n      requirements: [[{ type: RequirementType.PERICIA, name: 'Furtividade' }]],\n    },\n    {\n      name: 'Empatia Selvagem',\n      text:\n        'Você pode se comunicar com animais por meio de linguagem corporal e vocalizações. Você pode usar Adestramento com animais para mudar atitude e pedir favores (veja Diplomacia, na página 117).',\n      requirements: [],\n    },\n    {\n      name: 'Escaramuça',\n      text:\n        'Quando se move 6m ou mais, você recebe +2 em Defesa e Reflexos e +1d8 nas rolagens de dano de ataques corpo a corpo e à distância em alcance curto até o início de seu próximo turno. Você não pode usar esta habilidade se estiver vestindo armadura pesada.',\n      requirements: [\n        [\n          { type: RequirementType.ATRIBUTO, name: 'Destreza', value: 15 },\n          { type: RequirementType.NIVEL, value: 6 },\n        ],\n      ],\n    },\n    {\n      name: 'Escaramuça Superior',\n      text:\n        'Quando usa Escaramuça, seus bônus aumentam para +5 em Defesa e Reflexos e +1d12 em rolagens de dano.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Escaramuça' },\n          { type: RequirementType.NIVEL, value: 12 },\n        ],\n      ],\n    },\n    {\n      name: 'Espreitar',\n      text:\n        'Quando usa a habilidade Marca da Presa, você recebe um bônus de +1 em testes de perícia contra a criatura marcada. Esse bônus aumenta em +1 para cada PM adicional gasto na habilidade e também dobra com a habilidade Inimigo.',\n      requirements: [],\n    },\n    {\n      name: 'Ervas Curativas',\n      text:\n        'Você pode gastar uma ação completa e uma quantidade de PM a sua escolha (limitado pelo seu bônus de Sabedoria) para aplicar ervas que curam ou desintoxicam em você ou num aliado adjacente. Para cada PM que gastar, cura 2d6 PV ou remove uma condição envenenado afetando o alvo.',\n      requirements: [],\n    },\n    {\n      name: 'Ímpeto',\n      text:\n        'Você pode gastar 1 PM para aumentar seu deslocamento em +6m por uma rodada.',\n      requirements: [],\n    },\n    {\n      name: 'Inimigo de (Criatura)',\n      text:\n        'Escolha um tipo de criatura entre animal, construto, espírito, monstro ou morto-vivo, ou duas raças humanoides (por exemplo, orcs e gnolls, ou elfos e qareen). Quando você usa a habilidade Marca da Presa contra uma criatura do tipo ou da raça escolhida, dobra os dados de bônus no dano. O nome desta habilidade varia de acordo com o tipo de criatura escolhida (Inimigo de Monstros, Inimigo de Mortos-Vivos etc.). Você pode escolher este poder outras vezes para inimigos diferentes.',\n      requirements: [],\n    },\n    {\n      name: 'Olho do Falcão',\n      text:\n        'Você pode usar a habilidade Marca da Presa em criaturas em alcance longo.',\n      requirements: [],\n    },\n    {\n      name: 'Ponto Fraco',\n      text:\n        'Quando usa a habilidade Marca da Presa, seus ataques contra a criatura marcada recebem +2 na margem de ameaça. Esse bônus dobra com a habilidade Inimigo.',\n      requirements: [],\n    },\n  ],\n  probDevoto: 0.3,\n  faithProbability: {\n    ALLIHANNA: 1,\n    AZGHER: 1,\n    MEGALOKK: 1,\n    OCEANO: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.DESTREZA, Atributo.SABEDORIA],\n};\n\nexport default CACADOR;\n","import { ClassDescription } from '../../interfaces/Class';\nimport { RequirementType } from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst CAVALEIRO: ClassDescription = {\n  name: 'Cavaleiro',\n  pv: 20,\n  addpv: 5,\n  pm: 3,\n  addpm: 3,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.LUTA, Skill.FORTITUDE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 2,\n    list: [\n      Skill.ADESTRAMENTO,\n      Skill.ATLETISMO,\n      Skill.CAVALGAR,\n      Skill.DIPLOMACIA,\n      Skill.GUERRA,\n      Skill.INICIATIVA,\n      Skill.INTIMIDACAO,\n      Skill.NOBREZA,\n      Skill.PERCEPCAO,\n      Skill.VONTADE,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.MARCIAIS,\n    PROFICIENCIAS.PESADAS,\n    PROFICIENCIAS.ESCUDOS,\n    PROFICIENCIAS.SIMPLES,\n  ],\n  abilities: [\n    {\n      name: 'Código de Honra',\n      text:\n        'Cavaleiros distinguem-se de meros combatentes por seguir um código de conduta. Fazem isto para mostrar que estão acima dos mercenários e bandoleiros que infestam os campos de batalha. Você não pode atacar um oponente pelas costas (em termos de jogo, não pode se beneficiar do bônus de flanquear), caído, desprevenido ou incapaz de lutar. Se violar o código, você perde todos os seus PM e só pode recuperá-los a partir do próximo dia. Rebaixar-se ao nível dos covardes e desesperados abala a autoconfiança que eleva o cavaleiro.',\n      nivel: 1,\n    },\n    {\n      name: 'Baluarte',\n      text:\n        'Você pode gastar 1 PM para receber +2 na Defesa e nos testes de resistência até o início do seu próximo turno. A cada quatro níveis, pode gastar +1 PM para aumentar o bônus em +2.',\n      nivel: 1,\n    },\n    {\n      name: 'Duelo',\n      text:\n        'Você pode gastar 2 PM para escolher um inimigo em alcance curto e receber +1 em testes de ataque e rolagens de dano contra ele até o fim da cena. Se atacar outro inimigo, o bônus termina. Para cada 2 PM extras que você gastar, o bônus aumenta em +1.',\n      nivel: 2,\n    },\n    {\n      name: 'Caminho do Cavaleiro',\n      text:\n        'Escolha entre Bastião ou Montaria. Bastião: Se estiver usando armadura pesada, você recebe resistência a dano 5 (cumulativa com a RD fornecida por Especialização em Armadura). Montaria: Você recebe um cavalo de guerra com o qual possui +5 em testes de Adestramento e Cavalgar. Ele fornece os benefícios de um aliado iniciante de seu tipo. No 11º nível, passa a fornecer os benefícios de um aliado veterano e, no 17º nível, de um aliado mestre. De acordo com o mestre, você pode receber outro tipo de montaria. Veja a lista de aliados no Capítulo 6: O Mestre. Caso a montaria morra, você pode comprar outra pelo preço normal e treiná-la para receber os benefícios deste poder com uma semana de trabalho.',\n      nivel: 5,\n    },\n    {\n      name: 'Resoluto',\n      text:\n        'Você pode gastar 1 PM para refazer um teste de resistência contra uma condição (como abalado, paralisado etc.) que esteja o afetando. O segundo teste recebe um bônus de +5 e, se você passar, cancela o efeito. Você só pode usar esta habilidade uma vez por efeito.',\n      nivel: 11,\n    },\n    {\n      name: 'Bravura Final',\n      text:\n        'Sua virtude vence a morte. Se for reduzido a 0 ou menos PV, você pode continuar consciente e agindo normalmente. Se fizer isso, deve gastar 5 PM no início de cada um de seus turnos. Caso contrário, cai inconsciente ou morto, conforme seus PV atuais.',\n      nivel: 20,\n    },\n  ],\n  powers: [\n    {\n      name: 'Armadura da Honra',\n      text:\n        'No início de cada cena, você recebe uma quantidade de pontos de vida temporários igual a 5 + seu bônus de Carisma. Os PV temporários duram até o final da cena.',\n      requirements: [],\n    },\n    {\n      name: 'Aumento de Atributo',\n      text:\n        'Você recebe +2 em um atributo a sua escolha. Você pode escolher este poder várias vezes. A partir da segunda vez que escolhê-lo para o mesmo atributo, o aumento diminui para +1.',\n      requirements: [],\n      canRepeat: true,\n    },\n    {\n      name: 'Autoridade Feudal',\n      text:\n        'Você possui autoridade sobre pessoas comuns (qualquer pessoa sem um título de nobreza ou uma posição numa igreja reconhecida pelo Reinado). Você pode gastar 2 PM para conclamar o povo a realizar uma tarefa para você. Em termos de jogo, passa automaticamente em um teste de perícia com CD máxima igual ao seu nível +5. O tempo necessário para conclamar o povo é o tempo do uso da perícia em questão. Esta habilidade só pode ser usada em locais onde sua posição carregue alguma influência (a critério do mestre).',\n      requirements: [[{ type: RequirementType.NIVEL, value: 6 }]],\n    },\n    {\n      name: 'Desprezar os Covardes',\n      text:\n        'Você recebe resistência a dano 5 se estiver caído, desprevenido ou flanqueado.',\n      requirements: [],\n    },\n    {\n      name: 'Escudeiro',\n      text:\n        'Você recebe os serviços de um escudeiro, um aliado especial que cuida de seu equipamento. Suas armas recebem um bônus de +1 em rolagens de dano e sua armadura concede +1 em Defesa. Além disso, você pode pagar 1 PM para receber ajuda do escudeiro em combate. Você recebe uma ação de movimento que pode usar para se levantar, sacar um item ou trazer sua montaria. O escudeiro não conta em seu limite de aliados. Caso ele morra, você pode treinar outro com um mês de trabalho.',\n      requirements: [],\n    },\n    {\n      name: 'Especialização em Armadura',\n      text:\n        'Se estiver usando armadura pesada, você recebe resistência a dano 5 (cumulativa com a RD fornecida por Bastião).',\n      requirements: [[{ type: RequirementType.NIVEL, value: 12 }]],\n    },\n    {\n      name: 'Estandarte',\n      text:\n        'Sua flâmula torna-se célebre, um símbolo de inspiração para seus aliados. No início de cada cena, você e todos os aliados que possam ver seu estandarte recebem um número de PM temporários igual ao seu bônus de Carisma (mínimo 1). PM temporários desaparecem no final da cena.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Título' },\n          { type: RequirementType.NIVEL, value: 14 },\n        ],\n      ],\n    },\n    {\n      name: 'Etiqueta',\n      text:\n        'Você pode gastar 1 PM para rolar novamente um teste recém realizado de Diplomacia ou Nobreza.',\n      requirements: [],\n    },\n    {\n      name: 'Investida Destruidora',\n      text:\n        'Quando faz a ação investida, você pode gastar 2 PM. Se fizer isso, causa +2d8 pontos de dano. Você deve usar esta habilidade antes de rolar o ataque.',\n      requirements: [],\n    },\n    {\n      name: 'Montaria Corajosa',\n      text:\n        'Sua montaria concede +1d6 em rolagens de dano corpo a corpo (cumulativo com qualquer bônus que ela já forneça como aliado).',\n      requirements: [[{ type: RequirementType.PODER, name: 'Montaria' }]],\n    },\n    {\n      name: 'Pajem',\n      text:\n        'Você recebe os serviços de um pajem, um aliado especial que o auxilia em pequenos afazeres. Você recebe +2 em Diplomacia, por estar sempre aprumado, e sua recuperação de PV e PM aumenta em +1 por nível, por estar sempre confortável. O pajem pode executar pequenas tarefas, como entregar mensagens e comprar itens, e não conta em seu limite de aliados. Caso ele morra, você pode treinar outro com uma semana de trabalho.',\n      requirements: [],\n    },\n    {\n      name: 'Postura de Combate: Aríete Implacável',\n      text:\n        'Ao assumir esta postura, você aumenta o bônus de ataque em investidas em +2. Para cada 2 PM adicionais que gastar quando assumir a postura, aumenta o bônus de ataque em +1. Além disso, se fizer uma investida contra um objeto, causa +2d8 de dano. Você precisa se deslocar todos os turnos para manter esta postura ativa.',\n      requirements: [],\n    },\n    {\n      name: 'Postura de Combate: Castigo de Ferro',\n      text:\n        'Sempre que um aliado adjacente sofrer um ataque corpo a corpo, você pode gastar 1 PM para fazer um ataque na criatura que o atacou como uma reação.',\n      requirements: [],\n    },\n    {\n      name: 'Postura de Combate: Foco de Batalha',\n      text:\n        'Sempre que um inimigo atacá-lo, você recebe 1 PM temporário. Pontos de mana temporários desaparecem no final da cena.',\n      requirements: [],\n    },\n    {\n      name: 'Postura de Combate: Muralha Intransponível.',\n      text:\n        'Para assumir esta postura você precisa estar empunhando um escudo. Você recebe +1 na Defesa e em Reflexos. Além disso, quando sofre um ataque que permite um teste de Reflexos para reduzir o dano à metade, não sofre nenhum dano se passar. Para cada 2 PM adicionais que gastar quando assumir a postura, aumenta esse bônus em +1. Por fim, enquanto mantiver esta postura, seu deslocamento é reduzido para 3m.',\n      requirements: [],\n    },\n    {\n      name: 'Postura de Combate: Provocação Petulante',\n      text:\n        'Enquanto esta postura estiver ativa, todos os inimigos que iniciarem seus turnos dentro de seu alcance curto devem fazer um teste de Vontade (CD Car). Se falharem, devem atacar você nessa rodada.',\n      requirements: [],\n    },\n    {\n      name: 'Postura de Combate: Torre Inabalável',\n      text:\n        'Você assume uma postura defensiva que o torna imune a qualquer tentativa de tirá-lo do lugar, de forma mundana ou mágica. Enquanto mantiver a postura, você não pode se deslocar, mas recebe um bônus na Defesa igual a seu bônus de Constituição e pode substituir testes de Reflexos e Vontade por testes de Fortitude.',\n      requirements: [],\n    },\n    {\n      name: 'Solidez',\n      text:\n        'Se estiver usando um escudo, você aplica o bônus na Defesa recebido pelo escudo em testes de resistência.',\n      requirements: [],\n    },\n    {\n      name: 'Título',\n      text:\n        'Você adquire um título de nobreza. Converse com o mestre para definir os benefícios exatos de seu título. Como regra geral, você recebe 10 TO por nível de cavaleiro no início de cada aventura (rendimentos dos impostos) ou a ajuda de um aliado veterano (um membro de sua corte).',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Autoridade Feudal' },\n          { type: RequirementType.NIVEL, value: 10 },\n        ],\n      ],\n    },\n    {\n      name: 'Torre Armada',\n      text:\n        'Quando um inimigo erra um ataque contra você, você pode gastar 1 PM. Se fizer isso, recebe +5 em rolagens de dano contra esse inimigo até o fim de seu próximo turno.',\n      requirements: [],\n    },\n  ],\n  probDevoto: 0.5,\n  faithProbability: {\n    ARSENAL: 1,\n    AZGHER: 1,\n    KALLYADRANOCH: 1,\n    KHALMYR: 1,\n    LINWU: 1,\n    THYATIS: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.FORCA, Atributo.CONSTITUICAO],\n};\n\nexport default CAVALEIRO;\n","import Divindade from '../../interfaces/Divindade';\nimport grantedPowers from '../powers/grantedPowers';\n\nconst AHARADAK: Divindade = {\n  name: 'Aharadak',\n  poderes: [\n    grantedPowers.AFINIDADE_COM_A_TORMENTA,\n    grantedPowers.PERCEPCAO_TEMPORAL,\n    grantedPowers.REJEICAO_DIVINA,\n  ],\n};\n\nexport default AHARADAK;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst ALLIHANNA: Divindade = {\n  name: 'Allihanna',\n  poderes: [\n    GRANTED_POWERS.DEDO_VERDE,\n    GRANTED_POWERS.DESCANSO_NATURAL,\n    GRANTED_POWERS.VOZ_DA_NATUREZA,\n  ],\n};\n\nexport default ALLIHANNA;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst ARSENAL: Divindade = {\n  name: 'Arsenal',\n  poderes: [\n    GRANTED_POWERS.CONJURAR_ARMA,\n    GRANTED_POWERS.CORAGEM_TOTAL,\n    GRANTED_POWERS.SANGUE_DE_FERRO,\n  ],\n};\n\nexport default ARSENAL;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst AZGUER: Divindade = {\n  name: 'Azguer',\n  poderes: [\n    GRANTED_POWERS.ESPADA_SOLAR,\n    GRANTED_POWERS.HABITANTE_DO_DESERTO,\n    GRANTED_POWERS.INIMIGO_DE_TENEBRA,\n  ],\n};\n\nexport default AZGUER;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst HYNINN: Divindade = {\n  name: 'Hynnin',\n  poderes: [\n    GRANTED_POWERS.FARSA_DO_FINGIDOR,\n    GRANTED_POWERS.FORMA_DE_MACACO,\n    GRANTED_POWERS.GOLPISTA_DIVINO,\n  ],\n};\n\nexport default HYNINN;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst KALLYADRANOCH: Divindade = {\n  name: 'Kallyadranoch',\n  poderes: [\n    GRANTED_POWERS.AURA_DE_MEDO,\n    GRANTED_POWERS.ESCAMAS_DRACONICAS,\n    GRANTED_POWERS.SERVOS_DO_DRAGAO,\n  ],\n};\n\nexport default KALLYADRANOCH;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst KHALMYR: Divindade = {\n  name: 'Khalmyr',\n  poderes: [\n    GRANTED_POWERS.CORAGEM_TOTAL,\n    GRANTED_POWERS.DOM_DA_VERDADE,\n    GRANTED_POWERS.ESPADA_JUSTICEIRA,\n  ],\n};\n\nexport default KHALMYR;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst LENA: Divindade = {\n  name: 'Lena',\n  poderes: [\n    GRANTED_POWERS.ATAQUE_PIEDOSO,\n    GRANTED_POWERS.AURA_RESTAURADORA,\n    GRANTED_POWERS.CURA_GENTIL,\n    GRANTED_POWERS.CURANDEIRA_PERFEITA,\n  ],\n};\n\nexport default LENA;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst LINWU: Divindade = {\n  name: 'Lin-Wu',\n  poderes: [\n    GRANTED_POWERS.CORAGEM_TOTAL,\n    GRANTED_POWERS.KIAI_DIVINO,\n    GRANTED_POWERS.MENTE_VAZIA,\n  ],\n};\n\nexport default LINWU;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst MARAH: Divindade = {\n  name: 'Marah',\n  poderes: [\n    GRANTED_POWERS.AURA_DA_PAZ,\n    GRANTED_POWERS.PALAVRAS_DE_BONDADE,\n    GRANTED_POWERS.TALENTO_ARTISTICO,\n  ],\n};\n\nexport default MARAH;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst MEGALOKK: Divindade = {\n  name: 'Megalokk',\n  poderes: [\n    GRANTED_POWERS.OLHAR_AMEDRONTADOR,\n    GRANTED_POWERS.URRO_DIVINO,\n    GRANTED_POWERS.VOZ_DOS_MONSTROS,\n  ],\n};\n\nexport default MEGALOKK;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst NIMB: Divindade = {\n  name: 'Nimb',\n  poderes: [\n    GRANTED_POWERS.PODER_OCULTO,\n    GRANTED_POWERS.SORTE_DOS_LOUCOS,\n    GRANTED_POWERS.TRANSMISSAO_DA_LOUCURA,\n  ],\n};\n\nexport default NIMB;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst OCEANO: Divindade = {\n  name: 'Oceano',\n  poderes: [\n    GRANTED_POWERS.ANFIBIO,\n    GRANTED_POWERS.ARSENAL_DAS_PROFUNDEZAS,\n    GRANTED_POWERS.MESTRE_DOS_MARES,\n  ],\n};\n\nexport default OCEANO;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst SSZZAAS: Divindade = {\n  name: 'Sszzaas',\n  poderes: [\n    GRANTED_POWERS.ASTUCIA_DA_SERPENTE,\n    GRANTED_POWERS.PRESAS_VENENOSAS,\n    GRANTED_POWERS.SANGUE_OFIDICO,\n  ],\n};\n\nexport default SSZZAAS;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst TANNATOH: Divindade = {\n  name: 'Tanna-Toh',\n  poderes: [\n    GRANTED_POWERS.CONHECIMENTO_ENCICLOPEDICO,\n    GRANTED_POWERS.MENTE_ANALITICA,\n    GRANTED_POWERS.VOZ_DA_CIVILIZACAO,\n  ],\n};\n\nexport default TANNATOH;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst TENEBRA: Divindade = {\n  name: 'Tenebra',\n  poderes: [\n    GRANTED_POWERS.CARICIA_SOMBRIA,\n    GRANTED_POWERS.MANTO_DA_PENUMBRA,\n    GRANTED_POWERS.VISAO_NAS_TREVAS,\n  ],\n};\n\nexport default TENEBRA;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst THWOR: Divindade = {\n  name: 'Thwor',\n  poderes: [\n    GRANTED_POWERS.FURIA_DIVINA,\n    GRANTED_POWERS.OLHAR_AMEDRONTADOR,\n    GRANTED_POWERS.TROPAS_DUYSHIDAKK,\n  ],\n};\n\nexport default THWOR;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst THYATIS: Divindade = {\n  name: 'Thyatis',\n  poderes: [GRANTED_POWERS.ATAQUE_PIEDOSO, GRANTED_POWERS.DOM_DA_PROFECIA],\n};\n\nexport default THYATIS;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst VALKARIA: Divindade = {\n  name: 'Valkaria',\n  poderes: [\n    GRANTED_POWERS.ARMAS_DA_AMBICAO,\n    GRANTED_POWERS.CORAGEM_TOTAL,\n    GRANTED_POWERS.LIBERADE_DIVINA,\n  ],\n};\n\nexport default VALKARIA;\n","import Divindade from '../../interfaces/Divindade';\nimport GRANTED_POWERS from '../powers/grantedPowers';\n\nconst WYNNA: Divindade = {\n  name: 'Wynna',\n  poderes: [\n    GRANTED_POWERS.BENCAO_DO_MANA,\n    GRANTED_POWERS.CENTELHA_MAGICA,\n    GRANTED_POWERS.ESCUDO_MAGICO,\n    GRANTED_POWERS.TEURGISTA_MISTICO,\n  ],\n};\n\nexport default WYNNA;\n","import { FaithProbability } from '../interfaces/Divindade';\nimport AHARADAK from './divindades/aharadak';\nimport ALLIHANNA from './divindades/allihanna';\nimport ARSENAL from './divindades/arsenal';\nimport AZGHER from './divindades/azgher';\nimport HYNINN from './divindades/hyninn';\nimport KALLYADRANOCH from './divindades/kallyadranoch';\nimport KHALMYR from './divindades/khalmyr';\nimport LENA from './divindades/lena';\nimport LINWU from './divindades/lin-wu';\nimport MARAH from './divindades/marah';\nimport MEGALOKK from './divindades/megalokk';\nimport NIMB from './divindades/nimb';\nimport OCEANO from './divindades/oceano';\nimport SSZZAAS from './divindades/sszzaas';\nimport TANNATOH from './divindades/tanna-toh';\nimport TENEBRA from './divindades/tenebra';\nimport THWOR from './divindades/thwor';\nimport THYATIS from './divindades/thyatis';\nimport VALKARIA from './divindades/valkaria';\nimport WYNNA from './divindades/wynna';\n\nexport const DivindadeEnum = {\n  AHARADAK,\n  OCEANO,\n  TENEBRA,\n  VALKARIA,\n  WYNNA,\n  LENA,\n  SSZZAAS,\n  THYATIS,\n  ARSENAL,\n  TANNATOH,\n  ALLIHANNA,\n  MARAH,\n  KALLYADRANOCH,\n  KHALMYR,\n  THWOR,\n  HYNINN,\n  AZGHER,\n  LINWU,\n  MEGALOKK,\n  NIMB,\n};\n\nconst DIVINDADES = [\n  AHARADAK,\n  OCEANO,\n  TENEBRA,\n  VALKARIA,\n  WYNNA,\n  LENA,\n  SSZZAAS,\n  THYATIS,\n  ARSENAL,\n  TANNATOH,\n  ALLIHANNA,\n  MARAH,\n  KALLYADRANOCH,\n  KHALMYR,\n  THWOR,\n  HYNINN,\n  AZGHER,\n  LINWU,\n  MEGALOKK,\n  NIMB,\n];\n\nexport const standardFaithProbability: FaithProbability = {\n  AHARADAK: 1,\n  OCEANO: 1,\n  TENEBRA: 1,\n  VALKARIA: 1,\n  WYNNA: 1,\n  LENA: 1,\n  SSZZAAS: 1,\n  THYATIS: 1,\n  ARSENAL: 1,\n  TANNATOH: 1,\n  ALLIHANNA: 1,\n  MARAH: 1,\n  KALLYADRANOCH: 1,\n  KHALMYR: 1,\n  THWOR: 1,\n  HYNINN: 1,\n  AZGHER: 1,\n  LINWU: 1,\n  MEGALOKK: 1,\n  NIMB: 1,\n};\n\nexport default DIVINDADES;\n","import ARCANISTA from './classes/arcanista';\nimport BARBARO from './classes/barbaro';\nimport BARDO from './classes/bardo';\nimport BUCANEIRO from './classes/bucaneiro';\nimport CACADOR from './classes/cacador';\nimport CAVALEIRO from './classes/cavaleiro';\nimport CLERIGO from './classes/clerigo';\nimport DRUIDA from './classes/druida';\nimport GUERREIRO from './classes/guerreiro';\nimport INVENTOR from './classes/inventor';\nimport LADINO from './classes/ladino';\nimport LUTADOR from './classes/lutador';\nimport NOBRE from './classes/nobre';\nimport PALADINO from './classes/paladino';\n\nconst CLASSES = [\n  ARCANISTA,\n  BARBARO,\n  BARDO,\n  BUCANEIRO,\n  CACADOR,\n  CAVALEIRO,\n  CLERIGO,\n  DRUIDA,\n  GUERREIRO,\n  INVENTOR,\n  LADINO,\n  LUTADOR,\n  NOBRE,\n  PALADINO,\n];\n\nexport default CLASSES;\n","import _ from 'lodash';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport { ClassDescription } from '../../interfaces/Class';\nimport { RequirementType } from '../../interfaces/Poderes';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport { standardFaithProbability } from '../divindades';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst CLERIGO: ClassDescription = {\n  name: 'Clérigo',\n  pv: 16,\n  addpv: 4,\n  pm: 5,\n  addpm: 5,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.RELIGIAO, Skill.VONTADE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 2,\n    list: [\n      Skill.CONHECIMENTO,\n      Skill.CURA,\n      Skill.DIPLOMACIA,\n      Skill.FORTITUDE,\n      Skill.INICIATIVA,\n      Skill.INTUICAO,\n      Skill.LUTA,\n      Skill.MISTICISMO,\n      Skill.NOBREZA,\n      Skill.OFICIO,\n      Skill.PERCEPCAO,\n    ],\n  },\n  proficiencias: [PROFICIENCIAS.SIMPLES, PROFICIENCIAS.LEVES],\n  abilities: [\n    {\n      name: 'Devoto',\n      text:\n        'Você se torna devoto de um deus maior. Você deve obedecer às Obrigações & Restrições de seu deus, mas, em troca, ganha os Poderes Concedidos dele. Veja a lista de deuses na página 97. Como alternativa, você pode cultuar o Panteão como um todo. Não recebe nenhum Poder Concedido, mas sua única Obrigação & Restrição é não usar armas cortantes ou perfurantes (porque derramam sangue, algo que clérigos do Panteão consideram proibido). O nome desta habilidade varia de acordo com a divindade escolhida: Devoto de Azgher, Devoto de Thyatis... ou Devoto dos Deuses, se escolher cultuar o Panteão como um todo.',\n      nivel: 1,\n    },\n    {\n      name: 'Magias',\n      text:\n        'Você pode lançar magias divinas de 1º círculo. A cada quatro níveis, pode lançar magias de um círculo maior (2º círculo no 5º nível, 3º círculo no 9º nível e assim por diante). Você começa com três magias de 1º círculo. A cada nível, aprende uma magia de qualquer círculo que possa lançar. Seu atributo-chave para lançar magias é Sabedoria e você soma seu bônus de Sabedoria no seu total de PM. Veja o Capítulo 4 para as regras de magia.',\n      nivel: 1,\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = _.cloneDeep(sheet);\n\n        const finalPM = sheet.pm + sheet.atributos.Sabedoria.mod;\n        substeps.push({\n          name: 'Magias',\n          value: `+(Mod SAB) PMs inicias (${sheet.pm} + ${sheet.atributos.Sabedoria.mod} = ${finalPM})`,\n        });\n\n        return _.merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          pm: finalPM,\n        });\n      },\n    },\n    {\n      name: 'Mão da Divindade',\n      text:\n        'Você pode gastar uma ação completa e 15 PM para canalizar a energia de seu deus. Ao fazer isso, você lança três magias divinas quaisquer (de qualquer círculo, incluindo magias que você não conhece), como uma ação livre e sem gastar PM (mas ainda precisa pagar outros custos). Você pode aplicar aprimoramentos, mas precisa pagar por eles. Após usar esta habilidade, você fica atordoado por 1d4 rodadas. Corpos mortais não foram feitos para lidar com tanto poder.',\n      nivel: 20,\n    },\n  ],\n  powers: [\n    {\n      name: 'Abençoar Arma',\n      text:\n        'Você se torna proficiente na arma preferida de sua divindade. Se estiver empunhando essa arma, pode gastar uma ação de movimento e 3 PM para infundi-la com poder divino. Até o final da cena, a arma emite luz dourada ou púrpura (como uma tocha) e você pode usar seu modificador de Sabedoria em testes de ataque e rolagens de dano com ela (em vez do modificador padrão). Além disso, o dano da arma aumenta em um passo e ela é considerada mágica para propósitos de resistência a dano.',\n      requirements: [],\n    },\n    {\n      name: 'Aumento de Atributo',\n      text:\n        'Você recebe +2 em um atributo a sua escolha. Você pode escolher este poder várias vezes. A partir da segunda vez que escolhê-lo para o mesmo atributo, o aumento diminui para +1.',\n      requirements: [],\n      canRepeat: true,\n    },\n    {\n      name: 'Autoridade Eclesiástica',\n      text:\n        'Você possui uma posição formal em uma igreja reconhecida pelos outros membros de sua fé. Os efeitos deste poder variam de acordo com a igreja e o deus — clérigos de Khalmyr, por exemplo, possuem autoridade como juízes no Reinado — e ficam a cargo do mestre. Como regra geral, você recebe +5 em testes de Diplomacia ou Intimidação ao lidar com devotos de sua divindade e paga metade do preço de itens alquímicos, poções e serviços em templos de sua divindade.',\n      requirements: [[{ type: RequirementType.NIVEL, value: 5 }]],\n    },\n    {\n      name: 'Canalizar Energia Positiva/Negativa',\n      text:\n        'Você pode gastar uma ação padrão e 1 PM para liberar uma onda de energia positiva ou negativa (de acordo com sua divindade) que afeta todas as criaturas em alcance curto. Energia positiva cura 1d6 pontos de dano em criaturas vivas a sua escolha e causa 1d6 pontos de dano de luz em mortos-vivos. Energia negativa tem o efeito inverso — causa dano de trevas em criaturas vivas a sua escolha e cura mortos-vivos. Uma criatura que sofra dano tem direito a um teste de Vontade (CD Car) para reduzi-lo à metade. Para cada 2 PM extras que você gastar, a cura ou dano aumenta em +1d6 PV (ou seja, pode gastar 3 PM para curar 2d6 PV, 5 PM para curar 3d6 PV e assim por diante).',\n      requirements: [],\n    },\n    {\n      name: 'Canalizar Amplo',\n      text:\n        'Quando você usa a habilidade Canalizar Energia, pode gastar +2 PM para aumentar o alcance dela para médio.',\n      requirements: [\n        [\n          {\n            type: RequirementType.PODER,\n            name: 'Canalizar Energia Positiva/Negativa',\n          },\n        ],\n      ],\n    },\n    {\n      name: 'Comunhão Vital',\n      text:\n        'Quando lança uma magia que cure uma criatura, você pode pagar +2 PM para que outra criatura em alcance curto (incluindo você mesmo) recupere uma quantidade de pontos de vida igual à metade dos PV da cura original.',\n      requirements: [],\n    },\n    {\n      name: 'Conhecimento Mágico',\n      text:\n        'Você aprende duas magias divinas de qualquer círculo que possa lançar. Você pode escolher este poder quantas vezes quiser.',\n      requirements: [],\n      canRepeat: true,\n    },\n    {\n      name: 'Expulsar/Comandar Mortos-Vivos',\n      text:\n        'Você pode usar uma ação padrão e 3 PM para expulsar (se sua divindade canaliza energia positiva) ou comandar (se canaliza energia negativa) todos os mortos-vivos em alcance curto. Mortos-vivos expulsos ficam apavorados por 1d6 rodadas. Mortos-vivos comandados ficam sob suas ordens; entretanto, o nível somado de mortos-vivos sob seu comando ao mesmo tempo não pode exceder o seu próprio nível +3. Dar uma ordem a mortos-vivos é uma ação de movimento. Mortos-vivos têm direito a um teste de Vontade (CD Car) para evitar qualquer destes efeitos.',\n      requirements: [\n        [\n          {\n            type: RequirementType.PODER,\n            name: 'Canalizar Energia Positiva/Negativa',\n          },\n        ],\n      ],\n    },\n    {\n      name: 'Liturgia Mágica',\n      text:\n        'Você pode gastar uma ação de movimento para executar uma breve liturgia de sua fé. Se fizer isso, a CD para resistir à sua próxima magia divina (desde que lançada até o final de seu próximo turno) aumenta em +2.',\n      requirements: [],\n    },\n    {\n      name: 'Magia Sagrada/Profana',\n      text:\n        'Quando lança uma magia divina que causa dano, você pode gastar +1 PM. Se fizer isso, muda o tipo de dano da magia para luz ou trevas (de acordo com a sua divindade).',\n      requirements: [],\n    },\n    {\n      name: 'Mestre Celebrante',\n      text:\n        'O número de pessoas que você afeta com uma missa aumenta em dez vezes e os benefícios que elas recebem dobram.',\n      requirements: [\n        [{ type: RequirementType.PODER, name: 'Missa: Bênção da Vida' }],\n        [{ type: RequirementType.PODER, name: 'Missa: Chamado às Armas' }],\n        [{ type: RequirementType.PODER, name: 'Missa: Elevação do Espírito' }],\n        [{ type: RequirementType.PODER, name: 'Missa: Escudo Divino' }],\n        [{ type: RequirementType.PODER, name: 'Missa: Superar as Limitações' }],\n      ],\n    },\n    {\n      name: 'Missa: Bênção da Vida',\n      text:\n        'Você abençoa os presentes com energia positiva. Os participantes recebem pontos de vida temporários em um valor igual ao seu nível + seu bônus de Sabedoria.',\n      requirements: [],\n    },\n    {\n      name: 'Missa: Chamado às Armas',\n      text:\n        'Sua prece fortalece o espírito de luta. Os participantes recebem +1 em testes de ataque e rolagens de dano.',\n      requirements: [],\n    },\n    {\n      name: 'Missa: Elevação do Espírito',\n      text:\n        'Você inflama a determinação dos ouvintes. Os participantes recebem pontos de mana temporários em um valor igual ao seu bônus de Sabedoria.',\n      requirements: [],\n    },\n    {\n      name: 'Missa: Escudo Divino',\n      text:\n        'Sua fé protege os ouvintes. Os participantes recebem +1 em Defesa e testes de resistência.',\n      requirements: [],\n    },\n    {\n      name: 'Missa: Superar as Limitações',\n      text:\n        'Você encoraja os ouvintes a superar suas próprias habilidades. Cada participante recebe +1d6 num único teste a sua escolha.',\n      requirements: [],\n    },\n    {\n      name: 'Prece de Combate',\n      text:\n        'Quando lança uma magia divina com tempo de conjuração de uma ação padrão em si mesmo, você pode gastar +2 PM para lançá-la como uma ação de movimento.',\n      requirements: [],\n    },\n    {\n      name: 'Símbolo Sagrado Abençoado',\n      text:\n        'Você pode gastar uma ação de movimento e 1 PM para fazer uma prece e energizar seu símbolo sagrado até o fim da cena. Um símbolo sagrado energizado emite uma luz dourada ou prateada (se sua divindade canaliza energia positiva) ou púrpura ou avermelhada (se canaliza energia negativa) que ilumina como uma tocha. Enquanto você estiver empunhando um símbolo sagrado energizado, o custo em PM para lançar suas magias divinas diminui em 1.',\n      requirements: [],\n    },\n  ],\n  probDevoto: 0.95,\n  qtdPoderesConcedidos: 'all',\n  faithProbability: standardFaithProbability,\n  attrPriority: [Atributo.SABEDORIA],\n  setup: (classe) => {\n    const modifiedClasse = _.cloneDeep(classe);\n    modifiedClasse.spellPath = {\n      initialSpells: 3,\n      spellType: 'Divine',\n      qtySpellsLearnAtLevel: () => 1,\n      spellCircleAvailableAtLevel: (level) => {\n        if (level < 5) return 1;\n        if (level < 9) return 2;\n        if (level < 13) return 3;\n        if (level < 17) return 4;\n        return 5;\n      },\n      keyAttribute: Atributo.SABEDORIA,\n    };\n\n    return modifiedClasse;\n  },\n};\n\nexport default CLERIGO;\n","import _ from 'lodash';\nimport { pickFromArray } from '../../functions/randomUtils';\nimport CharacterSheet, { SubStep } from '../../interfaces/CharacterSheet';\nimport { ClassDescription } from '../../interfaces/Class';\nimport { RequirementType } from '../../interfaces/Poderes';\nimport Skills from '../../interfaces/Skills';\nimport { allSpellSchools } from '../../interfaces/Spells';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst DRUIDA: ClassDescription = {\n  name: 'Druida',\n  pv: 16,\n  addpv: 4,\n  pm: 4,\n  addpm: 4,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skills.SOBREVIVENCIA, Skills.VONTADE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 4,\n    list: [\n      Skills.ADESTRAMENTO,\n      Skills.ATLETISMO,\n      Skills.CAVALGAR,\n      Skills.CONHECIMENTO,\n      Skills.CURA,\n      Skills.FORTITUDE,\n      Skills.INICIATIVA,\n      Skills.INTUICAO,\n      Skills.LUTA,\n      Skills.MISTICISMO,\n      Skills.OFICIO,\n      Skills.PERCEPCAO,\n      Skills.RELIGIAO,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.SIMPLES,\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.ESCUDOS,\n  ],\n  abilities: [\n    {\n      name: 'Devoto',\n      text:\n        'Você se torna devoto de uma divindade disponível para druidas (Allihanna, Megalokk ou Oceano). Você deve obedecer às Obrigações & Restrições de seu deus, mas, em troca, ganha os Poderes Concedidos dele. O nome desta habilidade muda de acordo com a divindade escolhida: Devoto de Allihanna, Devoto de Megalokk ou Devoto de Oceano.',\n      nivel: 1,\n    },\n    {\n      name: 'Empatia Selvagem',\n      text:\n        'Você pode se comunicar com animais por meio de linguagem corporal e vocalizações. Você pode usar Adestramento com animais para mudar atitude e pedir favores (veja Diplomacia, na página 117).',\n      nivel: 1,\n    },\n    {\n      name: 'Magias',\n      text:\n        'Escolha três escolas de magia. Uma vez feita, essa escolha não pode ser mudada. Você pode lançar magias divinas de 1º círculo que pertençam a essas escolas. À medida que sobe de nível, pode lançar magias de círculos maiores (2º círculo no 6º nível, 3º círculo no 10º nível e 4º círculo no 14º nível). Você começa com duas magias de 1º círculo. A cada nível par (2º, 4º etc.), aprende uma magia de qualquer círculo e escola que possa lançar. Seu atributo-chave para lançar magias é Sabedoria e você soma seu bônus de Sabedoria no seu total de PM. Veja o Capítulo 4 para as regras de magia.',\n      nivel: 1,\n      action(sheet: CharacterSheet, substeps: SubStep[]): CharacterSheet {\n        const sheetClone = _.cloneDeep(sheet);\n\n        const finalPM = sheet.pm + sheet.atributos.Sabedoria.mod;\n        substeps.push({\n          name: 'Magias',\n          value: `+(Mod SAB) PMs inicias (${sheet.pm} + ${sheet.atributos.Sabedoria.mod} = ${finalPM})`,\n        });\n\n        return _.merge<CharacterSheet, Partial<CharacterSheet>>(sheetClone, {\n          pm: finalPM,\n        });\n      },\n    },\n    {\n      name: 'Caminho dos Ermos',\n      text:\n        'Você pode atravessar terrenos difíceis sem sofrer redução em seu deslocamento e a CD para rastreá-lo aumenta em +10. Esta habilidade só funciona em terrenos naturais.',\n      nivel: 2,\n    },\n    {\n      name: 'Força da Natureza',\n      text:\n        'Você diminui o custo de todas as suas magias em –2 PM e aumenta a CD delas em +2. Os bônus dobram (–4 PM e +4 na CD) se você estiver em terrenos naturais.',\n      nivel: 20,\n    },\n  ],\n  powers: [\n    {\n      name: 'Aspecto do Inverno',\n      text:\n        'Você recebe resistência a frio 5 e suas magias que causam dano de frio causam +1 ponto de dano por dado. Durante o inverno, suas magias de druida custam −1 PM.',\n      requirements: [[]],\n    },\n    {\n      name: 'Aspecto do Outono',\n      text:\n        'Você aprende uma magia de necromancia, arcana ou divina, de qualquer círculo que possa lançar. Você pode gastar 1 PM para impor uma penalidade de –2 nos testes de resistência de todos os inimigos em alcance médio até o início do seu próximo turno. Durante o outono, suas magias de druida custam −1 PM.',\n      requirements: [[]],\n    },\n    {\n      name: 'Aspecto da Primavera',\n      text:\n        'Você recebe +1 em Carisma e suas magias de cura curam +1 PV por dado. Durante a primavera, suas magias de druida custam −1 PM.',\n      requirements: [[]],\n    },\n    {\n      name: 'Aspecto do Verão',\n      text:\n        'Você recebe +2 em Iniciativa e pode gastar 1 PM para cobrir suas armas ou armas naturais com chamas, causando +1d6 pontos de dano de fogo até o fim da cena. Durante o verão, suas magias de druida custam −1 PM.',\n      requirements: [[]],\n    },\n    {\n      name: 'Aumento de Atributo',\n      text:\n        'Você recebe +2 em um atributo a sua escolha. Você pode escolher este poder várias vezes. A partir da segunda vez que escolhê-lo para o mesmo atributo, o aumento diminui para +1.',\n      requirements: [[]],\n      canRepeat: true,\n    },\n    {\n      name: 'Companheiro Animal',\n      text:\n        'Você recebe um companheiro animal. Veja o quadro a seguir para detalhes.',\n      requirements: [[{ type: RequirementType.PERICIA, name: 'Adestramento' }]],\n    },\n    {\n      name: 'Companheiro Animal Adicional',\n      text:\n        'Você recebe um companheiro animal adicional, de um tipo diferente dos que já tenha. Você pode escolher este poder quantas vezes quiser, mas ainda está sujeito ao limite de aliados que pode ter (veja a página 246)',\n      requirements: [\n        [\n          { type: RequirementType.ATRIBUTO, name: 'Carisma', value: 15 },\n          { type: RequirementType.PODER, name: 'Companheiro Animal' },\n          { type: RequirementType.NIVEL, value: 7 },\n        ],\n      ],\n      canRepeat: true,\n    },\n    {\n      name: 'Companheiro Animal Aprimorado',\n      text:\n        'Escolha um de seus companheiros animais. Esse animal recebe um segundo tipo diferente, ganhando os bônus equivalentes. Por exemplo, se você tiver um companheiro guardião, pode adicionar o tipo fortão a ele, tornando-o um guardião fortão que concede +2 na Defesa e +1d8 nas rolagens de dano corpo a corpo.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Companheiro Animal' },\n          { type: RequirementType.NIVEL, value: 8 },\n        ],\n      ],\n    },\n    {\n      name: 'Companheiro Animal Lendário',\n      text:\n        'Escolha um de seus companheiros animais. Esse animal passa a dobrar seus bônus concedidos. No caso de companheiros que concedem dados de bônus, o número de dados aumenta em 1.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Companheiro Animal' },\n          { type: RequirementType.NIVEL, value: 18 },\n        ],\n      ],\n    },\n    {\n      name: 'Companheiro Animal Mágico',\n      text:\n        'Escolha um de seus companheiros animais. Esse animal recebe um segundo tipo diferente, entre destruidor ou médico, ganhando os bônus equivalentes.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Companheiro Animal' },\n          { type: RequirementType.NIVEL, value: 8 },\n        ],\n      ],\n    },\n    {\n      name: 'Coração da Selva',\n      text: 'Você recebe +2 em Fortitude e se torna imune a venenos.',\n      requirements: [[]],\n    },\n    {\n      name: 'Espírito dos Equinócios',\n      text:\n        'Sua alma e corpo estão em equilíbrio. Você pode gastar 1 PM para escolher 10 em um teste de resistência.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Aspecto da Primavera' },\n          { type: RequirementType.PODER, name: 'Aspecto do Outono' },\n          { type: RequirementType.NIVEL, value: 10 },\n        ],\n      ],\n    },\n    {\n      name: 'Espírito dos Solstícios',\n      text:\n        'Você transita entre os extremos do mundo natural. Quando lança uma magia, pode gastar +4 PM para maximizar os efeitos numéricos variáveis dela. Por exemplo, uma magia Curar Ferimentos aprimorada para curar 5d8+5 PV irá curar automaticamente 45 PV, sem a necessidade de rolar dados. Uma magia sem efeitos variáveis não pode ser afetada por este poder.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Aspecto do Inverno' },\n          { type: RequirementType.PODER, name: 'Aspecto do Verão' },\n          { type: RequirementType.NIVEL, value: 10 },\n        ],\n      ],\n    },\n    {\n      name: 'Força dos Penhascos',\n      text:\n        'Você recebe +2 em Fortitude. Se estiver pisando em rocha sólida, pode gastar 1 PM e uma reação para receber RD 10 contra um ataque.',\n      requirements: [[]],\n    },\n    {\n      name: 'Forma Primal',\n      text:\n        'Quando usa Forma Selvagem, você pode se transformar em uma fera primal. Você recebe os benefícios de dois tipos de animais (bônus iguais não se acumulam; use o que você quiser de cada tipo).',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Forma Selvagem', value: 2 },\n          { type: RequirementType.NIVEL, value: 18 },\n        ],\n      ],\n    },\n    {\n      name: 'Forma Selvagem',\n      text:\n        'Você pode se transformar em um tipo de animal. Veja a seguir. Você pode escolher este poder diversas vezes. A cada vez, aprende uma forma selvagem diferente.',\n      requirements: [[]],\n      canRepeat: true,\n    },\n    {\n      name: 'Liberdade da Pradaria',\n      text:\n        'Você recebe +2 em Reflexos. Se estiver ao ar livre, você pode gastar 1 PM sempre que lançar uma magia para aumentar o alcance dela em um passo (de toque para curto, de curto para médio etc.).',\n      requirements: [[]],\n    },\n    {\n      name: 'Magia Natural',\n      text: 'Você pode lançar magias em forma selvagem.',\n      requirements: [\n        [\n          { type: RequirementType.PODER, name: 'Forma Selvagem' },\n          { type: RequirementType.NIVEL, value: 8 },\n        ],\n      ],\n    },\n    {\n      name: 'Presas Afiadas',\n      text:\n        'A margem de ameaça de suas armas naturais em forma selvagem aumenta em +2.',\n      requirements: [[{ type: RequirementType.PODER, name: 'Forma Selvagem' }]],\n    },\n    {\n      name: 'Segredos da Natureza',\n      text:\n        'Você aprende duas magias de qualquer círculo que possa lançar. Elas devem pertencer às escolas que você sabe usar, mas podem ser arcanas ou divinas. Você pode escolher este poder quantas vezes quiser.',\n      requirements: [[]],\n    },\n    {\n      name: 'Tranquilidade dos Lagos',\n      text:\n        'Você recebe +2 em Vontade. Se estiver em alcance médio de um lago, rio ou equivalente, pode gastar 1 PM uma vez por rodada para repetir um teste de resistência recém realizado.',\n      requirements: [[]],\n    },\n  ],\n  probDevoto: 1,\n  qtdPoderesConcedidos: 'all',\n  faithProbability: {\n    AHARADAK: 0,\n    OCEANO: 1,\n    TENEBRA: 0,\n    VALKARIA: 0,\n    WYNNA: 0,\n    LENA: 0,\n    SSZZAAS: 0,\n    THYATIS: 0,\n    ARSENAL: 0,\n    TANNATOH: 0,\n    ALLIHANNA: 1,\n    MARAH: 0,\n    KALLYADRANOCH: 0,\n    KHALMYR: 0,\n    THWOR: 0,\n    HYNINN: 0,\n    AZGHER: 0,\n    LINWU: 0,\n    MEGALOKK: 1,\n    NIMB: 0,\n  },\n  attrPriority: [Atributo.SABEDORIA],\n  setup: (classe) => {\n    const modifiedClasse = _.cloneDeep(classe);\n    modifiedClasse.spellPath = {\n      initialSpells: 2,\n      spellType: 'Divine',\n      qtySpellsLearnAtLevel: (level) => (level % 2 === 0 ? 1 : 0),\n      schools: pickFromArray(allSpellSchools, 3),\n      spellCircleAvailableAtLevel: (level) => {\n        if (level < 6) return 1;\n        if (level < 10) return 2;\n        if (level < 14) return 3;\n        return 4;\n      },\n      keyAttribute: Atributo.SABEDORIA,\n    };\n\n    return modifiedClasse;\n  },\n};\n\nexport default DRUIDA;\n","import { ClassDescription } from '../../interfaces/Class';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst GUERREIRO: ClassDescription = {\n  name: 'Guerreiro',\n  pv: 20,\n  addpv: 5,\n  pm: 3,\n  addpm: 3,\n  periciasbasicas: [\n    {\n      type: 'or',\n      list: [Skill.LUTA, Skill.PONTARIA],\n    },\n    {\n      type: 'and',\n      list: [Skill.FORTITUDE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 2,\n    list: [\n      Skill.ADESTRAMENTO,\n      Skill.ATLETISMO,\n      Skill.CAVALGAR,\n      Skill.GUERRA,\n      Skill.INICIATIVA,\n      Skill.INTIMIDACAO,\n      Skill.LUTA,\n      Skill.OFICIO,\n      Skill.PERCEPCAO,\n      Skill.PONTARIA,\n      Skill.REFLEXOS,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.MARCIAIS,\n    PROFICIENCIAS.PESADAS,\n    PROFICIENCIAS.ESCUDOS,\n    PROFICIENCIAS.SIMPLES,\n  ],\n  abilities: [\n    {\n      name: 'Ataque Especial',\n      text:\n        'Quando faz um ataque, você pode gastar 1 PM para receber +4 no teste de ataque ou na rolagem de dano. A cada quatro níveis, pode gastar +1 PM para aumentar o bônus em +4. Você pode dividir os bônus igualmente. Por exemplo, no 17º nível, pode gastar 5 PM para receber +20 no ataque, +20 no dano ou +10 no ataque e +10 no dano.',\n      nivel: 1,\n    },\n  ],\n  powers: [],\n  probDevoto: 0.3,\n  faithProbability: {\n    ARSENAL: 1,\n    AZGHER: 1,\n    KALLYADRANOCH: 1,\n    KHALMYR: 1,\n    LINWU: 1,\n    THYATIS: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.FORCA, Atributo.DESTREZA, Atributo.CONSTITUICAO],\n};\n\nexport default GUERREIRO;\n","import { ClassDescription } from '../../interfaces/Class';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst INVENTOR: ClassDescription = {\n  name: 'Inventor',\n  pv: 12,\n  addpv: 3,\n  pm: 4,\n  addpm: 4,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.OFICIO, Skill.VONTADE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 4,\n    list: [\n      Skill.CONHECIMENTO,\n      Skill.CURA,\n      Skill.DIPLOMACIA,\n      Skill.FORTITUDE,\n      Skill.INICIATIVA,\n      Skill.INVESTIGACAO,\n      Skill.LUTA,\n      Skill.MISTICISMO,\n      Skill.OFICIO,\n      Skill.PILOTAGEM,\n      Skill.PONTARIA,\n      Skill.PERCEPCAO,\n    ],\n  },\n  proficiencias: [PROFICIENCIAS.LEVES, PROFICIENCIAS.SIMPLES],\n  abilities: [\n    {\n      name: 'Engenhosidade',\n      text:\n        'Quando faz um teste de perícia, você pode gastar 2 PM para receber um bônus igual ao seu modificador de Inteligência no teste. Você não pode usar esta habilidade em testes de ataque.',\n      nivel: 1,\n    },\n    {\n      name: 'Protótipo',\n      text:\n        'Você começa o jogo com um item superior com uma modificação ou 10 itens alquímicos, com preço total de até T$ 500. Veja o Capítulo 3: Equipamento para a lista de itens.',\n      nivel: 1,\n    },\n  ],\n  powers: [],\n  probDevoto: 0.3,\n  faithProbability: {\n    HYNINN: 1,\n    NIMB: 1,\n    SSZZAAS: 1,\n    TANNATOH: 1,\n    THYATIS: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.INTELIGENCIA],\n};\n\nexport default INVENTOR;\n","import { ClassDescription } from '../../interfaces/Class';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst LADINO: ClassDescription = {\n  name: 'Ladino',\n  pv: 12,\n  addpv: 3,\n  pm: 4,\n  addpm: 4,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.LADINAGEM, Skill.REFLEXOS],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 8,\n    list: [\n      Skill.ACROBACIA,\n      Skill.ATLETISMO,\n      Skill.ATUACAO,\n      Skill.CAVALGAR,\n      Skill.CONHECIMENTO,\n      Skill.DIPLOMACIA,\n      Skill.ENGANACAO,\n      Skill.FURTIVIDADE,\n      Skill.INICIATIVA,\n      Skill.INTIMIDACAO,\n      Skill.INTUICAO,\n      Skill.INVESTIGACAO,\n      Skill.JOGATINA,\n      Skill.LUTA,\n      Skill.OFICIO,\n      Skill.PERCEPCAO,\n      Skill.PONTARIA,\n      Skill.PILOTAGEM,\n    ],\n  },\n  proficiencias: [PROFICIENCIAS.LEVES, PROFICIENCIAS.SIMPLES],\n  abilities: [\n    {\n      name: 'Ataque Furtivo',\n      text:\n        'Você sabe atingir os pontos vitais de um inimigo distraído. Uma vez por rodada, quando atinge um alvo desprevenido com um ataque corpo a corpo ou em alcance curto, ou um alvo que esteja flanqueando, você causa 1d6 pontos de dano adicional. A cada dois níveis, esse dano adicional aumenta em +1d6. Uma criatura imune a acertos críticos também é imune a ataques furtivos.',\n      nivel: 1,\n    },\n    {\n      name: 'Especialista',\n      text:\n        'Escolha um número de perícias treinadas igual ao seu bônus de Inteligência (mínimo 1). Ao fazer um teste de uma dessas perícias, você pode gastar 1 PM para dobrar seu bônus de treinamento. Você não pode usar esta habilidade em testes de ataque.',\n      nivel: 1,\n    },\n  ],\n  powers: [],\n  probDevoto: 0.3,\n  faithProbability: {\n    HYNINN: 1,\n    NIMB: 1,\n    SSZZAAS: 1,\n    TENEBRA: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.DESTREZA],\n};\n\nexport default LADINO;\n","import { ClassDescription } from '../../interfaces/Class';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst LUTADOR: ClassDescription = {\n  name: 'Lutador',\n  pv: 20,\n  addpv: 5,\n  pm: 3,\n  addpm: 3,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.LUTA, Skill.FORTITUDE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 4,\n    list: [\n      Skill.ACROBACIA,\n      Skill.ADESTRAMENTO,\n      Skill.ATLETISMO,\n      Skill.ENGANACAO,\n      Skill.FURTIVIDADE,\n      Skill.INICIATIVA,\n      Skill.INTIMIDACAO,\n      Skill.OFICIO,\n      Skill.PERCEPCAO,\n      Skill.PONTARIA,\n      Skill.REFLEXOS,\n    ],\n  },\n  proficiencias: [PROFICIENCIAS.LEVES, PROFICIENCIAS.SIMPLES],\n  abilities: [\n    {\n      name: 'Briga',\n      text:\n        'Seus ataques desarmados causam 1d6 pontos de dano e podem causar dano letal ou não letal (sem penalidades). A cada quatro níveis, seu dano desarmado aumenta, conforme a tabela. O dano na tabela é para criaturas Pequenas e Médias. Criaturas Minúsculas diminuem esse dano em um passo, Grandes e Enormes aumentam em um passo e Colossais aumentam em dois passos.',\n      nivel: 1,\n    },\n    {\n      name: 'Golpe Relâmpago',\n      text:\n        'Quando usa a ação atacar para fazer um ataque desarmado, você pode gastar 1 PM para realizar um ataque desarmado adicional.',\n      nivel: 1,\n    },\n  ],\n  powers: [],\n  probDevoto: 0.3,\n  faithProbability: {\n    ARSENAL: 1,\n    KALLYADRANOCH: 1,\n    MEGALOKK: 1,\n    THYATIS: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.FORCA, Atributo.CONSTITUICAO],\n};\n\nexport default LUTADOR;\n","import { ClassDescription } from '../../interfaces/Class';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst NOBRE: ClassDescription = {\n  name: 'Nobre',\n  pv: 16,\n  addpv: 4,\n  pm: 4,\n  addpm: 4,\n  periciasbasicas: [\n    {\n      type: 'or',\n      list: [Skill.DIPLOMACIA, Skill.INTIMIDACAO],\n    },\n    {\n      type: 'and',\n      list: [Skill.VONTADE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 4,\n    list: [\n      Skill.ADESTRAMENTO,\n      Skill.ATUACAO,\n      Skill.CAVALGAR,\n      Skill.CONHECIMENTO,\n      Skill.DIPLOMACIA,\n      Skill.ENGANACAO,\n      Skill.FORTITUDE,\n      Skill.GUERRA,\n      Skill.INICIATIVA,\n      Skill.INTIMIDACAO,\n      Skill.INTUICAO,\n      Skill.INVESTIGACAO,\n      Skill.JOGATINA,\n      Skill.LUTA,\n      Skill.NOBREZA,\n      Skill.OFICIO,\n      Skill.PERCEPCAO,\n      Skill.PONTARIA,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.MARCIAIS,\n    PROFICIENCIAS.PESADAS,\n    PROFICIENCIAS.ESCUDOS,\n    PROFICIENCIAS.SIMPLES,\n  ],\n  abilities: [\n    {\n      name: 'Autoconfiança',\n      text:\n        'Você pode somar seu bônus de Carisma em vez de Destreza na Defesa (mas continua não podendo somar um bônus de atributo na Defesa quando usa armadura pesada).',\n      nivel: 1,\n    },\n    {\n      name: 'Espólio',\n      text: 'Você recebe um item a sua escolha com preço de até T$ 2.000.',\n      nivel: 1,\n    },\n    {\n      name: 'Orgulho',\n      text:\n        'Quando faz um teste de perícia, você pode gastar uma quantidade de PM a sua escolha (limitado pelo seu modificador de Carisma). Para cada PM que gastar, recebe +2 no teste.',\n      nivel: 1,\n    },\n  ],\n  powers: [],\n  probDevoto: 0.3,\n  faithProbability: {\n    AZGHER: 1,\n    HYNINN: 1,\n    KALLYADRANOCH: 1,\n    KHALMYR: 1,\n    LENA: 1,\n    LINWU: 1,\n    MARAH: 1,\n    SSZZAAS: 1,\n    TANNATOH: 1,\n    VALKARIA: 1,\n  },\n  attrPriority: [Atributo.CARISMA],\n};\n\nexport default NOBRE;\n","import { ClassDescription } from '../../interfaces/Class';\nimport Skill from '../../interfaces/Skills';\nimport { Atributo } from '../atributos';\nimport PROFICIENCIAS from '../proficiencias';\n\nconst PALADINO: ClassDescription = {\n  name: 'Paladino',\n  pv: 20,\n  addpv: 5,\n  pm: 3,\n  addpm: 3,\n  periciasbasicas: [\n    {\n      type: 'and',\n      list: [Skill.LUTA, Skill.VONTADE],\n    },\n  ],\n  periciasrestantes: {\n    qtd: 2,\n    list: [\n      Skill.ADESTRAMENTO,\n      Skill.ATLETISMO,\n      Skill.CAVALGAR,\n      Skill.CURA,\n      Skill.DIPLOMACIA,\n      Skill.FORTITUDE,\n      Skill.GUERRA,\n      Skill.INICIATIVA,\n      Skill.INTUICAO,\n      Skill.NOBREZA,\n      Skill.PERCEPCAO,\n      Skill.RELIGIAO,\n    ],\n  },\n  proficiencias: [\n    PROFICIENCIAS.LEVES,\n    PROFICIENCIAS.MARCIAIS,\n    PROFICIENCIAS.PESADAS,\n    PROFICIENCIAS.ESCUDOS,\n    PROFICIENCIAS.SIMPLES,\n  ],\n  abilities: [\n    {\n      name: 'Abençoado',\n      text:\n        'Você soma seu bônus de Carisma no seu total de pontos de mana no 1º nível. Além disso, torna-se devoto de uma divindade disponível para paladinos (Azgher, Khalmyr, Lena, Lin-Wu, Marah, Tanna-Toh, Thyatis, Valkaria). Você deve obedecer às Obrigações & Restrições de seu deus, mas, em troca, ganha os Poderes Concedidos dele. Como alternativa, você pode ser um paladino do bem, lutando em prol da bondade e da justiça como um todo. Não recebe nenhum Poder Concedido, mas não precisa seguir nenhuma Obrigação & Restrição (além do Código do Herói, abaixo).',\n      nivel: 1,\n    },\n    {\n      name: 'Código de Héroi',\n      text:\n        'Você deve sempre manter sua palavra e nunca pode recusar um pedido de ajuda de alguém inocente. Além disso, nunca pode mentir, trapacear ou roubar. Se violar o código, você perde todos os seus PM e só pode recuperá-los a partir do próximo dia.',\n      nivel: 1,\n    },\n    {\n      name: 'Golpe Divino',\n      text:\n        'Quando faz um ataque corpo a corpo, você pode gastar 2 PM para desferir um golpe destruidor. Você soma seu bônus de Carisma no teste de ataque e +1d8 na rolagem de dano. A cada quatro níveis, pode gastar +1 PM para aumentar o dano em +1d8.',\n      nivel: 1,\n    },\n  ],\n  powers: [],\n  probDevoto: 0.8,\n  qtdPoderesConcedidos: 'all',\n  faithProbability: {\n    AZGHER: 1,\n    KHALMYR: 1,\n    LENA: 1,\n    LINWU: 1,\n    MARAH: 1,\n    TANNATOH: 1,\n    THYATIS: 1,\n    VALKARIA: 1,\n    AHARADAK: 0,\n    ALLIHANNA: 0,\n    ARSENAL: 0,\n    HYNINN: 0,\n    KALLYADRANOCH: 0,\n    MEGALOKK: 0,\n    NIMB: 0,\n    OCEANO: 0,\n    SSZZAAS: 0,\n    TENEBRA: 0,\n    THWOR: 0,\n    WYNNA: 0,\n  },\n  attrPriority: [Atributo.FORCA, Atributo.CONSTITUICAO, Atributo.CARISMA],\n};\n\nexport default PALADINO;\n","import React from 'react';\nimport '../assets/css/result.css';\n\ninterface AttributeProps {\n  id: string;\n  name: string;\n  value: number;\n  mod: number;\n  isDarkMode: boolean;\n}\n\nconst Attribute: React.FC<AttributeProps> = (props) => {\n  const { value, mod, name, id, isDarkMode } = props;\n  function getKey(elementId: string) {\n    return `${id}-${elementId}`;\n  }\n\n  return (\n    <div\n      key={getKey(name)}\n      className={`attributeItem ${isDarkMode ? 'dark' : ''}`}\n    >\n      <div>\n        <strong>{name.substring(0, 3).toUpperCase()}</strong>\n      </div>\n      <div className='value'>{value}</div>\n      <div className='mod'>\n        {mod > 0 ? '+' : ''}\n        {mod}\n      </div>\n    </div>\n  );\n};\n\nexport default Attribute;\n","import React from 'react';\nimport '../assets/css/result.css';\n\ninterface CharacterStatsProps {\n  name: string;\n  value: number;\n  isMovement?: boolean;\n  isDarkMode: boolean;\n}\n\nconst CharacterStats: React.FC<CharacterStatsProps> = (props) => {\n  const { value, name, isMovement, isDarkMode } = props;\n\n  return (\n    <span className={`characterStat ${isDarkMode ? 'dark' : ''}`}>\n      <div className={`name ${isMovement ? 'movement' : ''}`}>\n        {name.toUpperCase()}\n      </div>\n      <div className={`value ${isMovement ? 'movement' : ''}`}>{`${value}${\n        isMovement ? 'm' : ''\n      }`}</div>\n    </span>\n  );\n};\n\nexport default CharacterStats;\n","import React from 'react';\nimport '../assets/css/result.css';\n\ninterface DividerProp {\n  direction: string;\n  isDarkMode: boolean;\n}\n\nconst Divider: React.FC<DividerProp> = (props) => {\n  const { direction, isDarkMode } = props;\n  return (\n    <div\n      className={`divider div-transparent div-arrow-${direction} ${\n        isDarkMode ? 'dark' : ''\n      }`}\n    />\n  );\n};\n\nexport default Divider;\n","import React from 'react';\nimport Equipment from '../interfaces/Equipment';\n\ninterface WeaponProps {\n  equipment: Equipment;\n}\n\nconst Weapon: React.FC<WeaponProps> = (props) => {\n  const { equipment } = props;\n  const { nome, dano, critico, tipo, alcance, peso } = equipment;\n\n  return (\n    <tr>\n      <td>{nome}</td>\n      <td>{dano}</td>\n      <td>{critico}</td>\n      <td>{tipo}</td>\n      <td>{alcance || '-'}</td>\n      <td>{peso ? `${peso}kg` : '-'}</td>\n    </tr>\n  );\n};\n\nexport default Weapon;\n","import React from 'react';\nimport Equipment from '../interfaces/Equipment';\nimport Weapon from './Weapon';\n\ninterface WeaponsProps {\n  weapons: Equipment[];\n  getKey: (eId: string) => string;\n}\n\nconst Weapons: React.FC<WeaponsProps> = (props) => {\n  const { weapons, getKey } = props;\n  const weaponsDiv = weapons.map((equip) => (\n    <Weapon key={getKey(equip.nome)} equipment={equip} />\n  ));\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>Ataques</th>\n          <th>Dano</th>\n          <th>Crítico</th>\n          <th>Tipo</th>\n          <th>Alcance</th>\n          <th>Peso</th>\n        </tr>\n      </thead>\n      <tbody>{weaponsDiv}</tbody>\n    </table>\n  );\n};\n\nexport default Weapons;\n","import React from 'react';\nimport { DefenseEquipment } from '../interfaces/Equipment';\n\ninterface DefenseEquipmentProps {\n  equipment: DefenseEquipment;\n}\n\nconst DefenseItem: React.FC<DefenseEquipmentProps> = (props) => {\n  const { equipment } = props;\n  const { nome, defenseBonus, armorPenalty, peso } = equipment;\n\n  return (\n    <tr>\n      <td>{nome}</td>\n      <td>{defenseBonus}</td>\n      <td>{armorPenalty > 0 ? `-${armorPenalty}` : '-'}</td>\n      <td>{peso}kg</td>\n    </tr>\n  );\n};\n\nexport default DefenseItem;\n","import React from 'react';\nimport { DefenseEquipment } from '../interfaces/Equipment';\nimport DefenseItem from './DefenseItem';\n\ninterface DefenseEquipmentsProps {\n  defenseEquipments: DefenseEquipment[];\n  getKey: (eId: string) => string;\n}\n\nconst DefenseEquipments: React.FC<DefenseEquipmentsProps> = (props) => {\n  const { defenseEquipments, getKey } = props;\n  const DefenseEquipmentsDiv =\n    defenseEquipments.length > 0 ? (\n      defenseEquipments.map((equip) => (\n        <DefenseItem key={getKey(equip.nome)} equipment={equip} />\n      ))\n    ) : (\n      <tr>\n        <td className='textToCenter noDefensiveItem'>\n          Nenhum equipamento defensivo\n        </td>\n      </tr>\n    );\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>Armadura & Escudo</th>\n          <th>Bônus de Defesa</th>\n          <th>Penalidada de Armadura</th>\n          <th>Peso</th>\n        </tr>\n      </thead>\n      <tbody>{DefenseEquipmentsDiv}</tbody>\n    </table>\n  );\n};\n\nexport default DefenseEquipments;\n","import React from 'react';\nimport { manaExpenseByCircle } from '../data/magias/generalSpells';\nimport { Spell } from '../interfaces/Spells';\n\ninterface SpellProps {\n  spell: Spell;\n}\n\nconst SpellRow: React.FC<SpellProps> = (props) => {\n  const { spell } = props;\n\n  return (\n    <tbody>\n      <tr key={spell.nome}>\n        <td>\n          ({manaExpenseByCircle[spell.spellCircle]}) {spell.nome}{' '}\n          {spell.customKeyAttr && `(${spell.customKeyAttr})`}{' '}\n        </td>\n        <td>{spell.school}</td>\n        <td>{spell.execucao}</td>\n        <td>{spell.alcance}</td>\n        <td>{spell.alvo || spell.area || '-'}</td>\n        <td>{spell.duracao}</td>\n        <td>{spell.resistencia || '-'}</td>\n      </tr>\n      {spell.manaReduction && (\n        <tr style={{ lineHeight: '30px' }}>\n          <td colSpan={6}>\n            - Você tem {spell.manaReduction} de redução de mana para a pagia{' '}\n            {spell.nome}\n          </td>\n        </tr>\n      )}\n    </tbody>\n  );\n};\n\nexport default SpellRow;\n","import React from 'react';\nimport '../assets/css/result.css';\nimport { CharacterAttribute } from '../interfaces/Character';\nimport { SpellPath } from '../interfaces/Class';\nimport { Spell } from '../interfaces/Spells';\nimport SpellRow from './SpellRow';\n\ninterface SpellsProp {\n  spells: Spell[];\n  spellPath: SpellPath | undefined;\n  keyAttr: CharacterAttribute | null;\n  nivel: number;\n}\n\nconst Spells: React.FC<SpellsProp> = (props) => {\n  const { spells, spellPath, keyAttr, nivel } = props;\n\n  const mod = keyAttr ? keyAttr.mod : 0;\n  const resistence = 10 + Math.floor(nivel * 0.5) + mod;\n\n  return (\n    <div>\n      {spells.length > 0 && spellPath && (\n        <div className='speelsInfos'>\n          <span>\n            <strong>Atributo-Chave:</strong> {keyAttr?.name}\n          </span>\n          <span>\n            <strong>Modificador:</strong>{' '}\n            {`${mod > 0 ? '+' : ''}${keyAttr?.mod}`}\n          </span>\n          <span>\n            <strong>Teste de Resistência:</strong> {resistence}\n            <span className='spellCalc'>\n              {` (10 + ¹/₂ nível + mod. atributo-chave)`}\n            </span>\n          </span>\n        </div>\n      )}\n      {spells.length === 0 ? (\n        <span>Não Possui</span>\n      ) : (\n        <div>\n          <table>\n            <thead>\n              <tr>\n                <th>(Custo) Magia</th>\n                <th>Escola</th>\n                <th>Execução</th>\n                <th>Alcance</th>\n                <th>Alvo/Área</th>\n                <th>Duração</th>\n                <th>Resistência</th>\n              </tr>\n            </thead>\n            {spells.map((spell) => (\n              <SpellRow key={spell.nome} spell={spell} />\n            ))}\n          </table>\n\n          <div>\n            {spellPath?.schools && (\n              <div style={{ marginTop: '15px' }}>\n                <strong>{'Escolas: '}</strong>\n                {spellPath?.schools?.map((school) => (\n                  <span key={school}>{school}, </span>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Spells;\n","import React from 'react';\nimport '../assets/css/result.css';\nimport { manaExpenseByCircle } from '../data/magias/generalSpells';\nimport { CharacterAttribute } from '../interfaces/Character';\nimport { SpellPath } from '../interfaces/Class';\nimport { Spell } from '../interfaces/Spells';\n\ninterface SpellsProp {\n  spells: Spell[];\n  spellPath: SpellPath | undefined;\n  keyAttr: CharacterAttribute | null;\n  nivel: number;\n}\n\nconst SpellsMobile: React.FC<SpellsProp> = (props) => {\n  const { spells, spellPath, keyAttr, nivel } = props;\n\n  const mod = keyAttr ? keyAttr.mod : 0;\n  const resistence = 10 + Math.floor(nivel * 0.5) + mod;\n\n  return (\n    <div>\n      {spells.length > 0 && spellPath && (\n        <div className='speelsInfos'>\n          <span>\n            <strong>Atributo-Chave:</strong> {keyAttr?.name}\n          </span>\n          <span>\n            <strong>Modificador:</strong>{' '}\n            {`${mod > 0 ? '+' : ''}${keyAttr?.mod}`}\n          </span>\n          <span>\n            <strong>Teste de Resistência:</strong> {resistence}\n          </span>\n        </div>\n      )}\n      {spells.length === 0 ? (\n        <span>Não Possui</span>\n      ) : (\n        <div>\n          <div>\n            {spells.map((spell) => (\n              <div key={spell.nome} className='spellMobile'>\n                <div className='spellName'>\n                  ({manaExpenseByCircle[spell.spellCircle]}) {spell.nome}\n                </div>\n                <div>\n                  <strong>- Escola: </strong> {spell.school}\n                </div>\n                <div>\n                  <strong>- Execução: </strong> {spell.execucao}\n                </div>\n                <div>\n                  <strong>- Alcance: </strong> {spell.alcance}\n                </div>\n                <div>\n                  <strong>- Alvo/Área: </strong>{' '}\n                  {spell.alvo || spell.area || '-'}\n                </div>\n                <div>\n                  <strong>- Duração: </strong> {spell.duracao}\n                </div>\n                <div>\n                  <strong>- Resistência: </strong> {spell.resistencia || '-'}\n                </div>\n                {spell.manaReduction && (\n                  <div>\n                    - Você tem {spell.manaReduction} de redução de mana para a\n                    pagia {spell.nome}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n\n          <div>\n            {spellPath?.schools && (\n              <div style={{ marginTop: '15px' }}>\n                <strong>{'Escolas: '}</strong>\n                {spellPath?.schools?.map((school) => (\n                  <span key={school}>{school}, </span>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SpellsMobile;\n","import React, { useEffect } from 'react';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ReactToPrint from 'react-to-print';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport CharacterSheet from '../interfaces/CharacterSheet';\nimport Attribute from './Attribute';\nimport CharacterStat from './CharacterStat';\nimport Divider from './SheetDivider';\nimport Weapons from './Weapons';\nimport DefenseEquipments from './DefenseEquipments';\nimport Equipment from '../interfaces/Equipment';\n\nimport '../assets/css/result.css';\nimport Spells from './Spells';\nimport SpellsMobile from './SpellsMobile';\n\ninterface ResultProps {\n  sheet: CharacterSheet;\n  isDarkMode: boolean;\n}\n\nconst Result: React.FC<ResultProps> = (props) => {\n  const { sheet, isDarkMode } = props;\n\n  const {\n    nome,\n    sexo,\n    nivel,\n    atributos,\n    raca,\n    classe,\n    skills,\n    pv,\n    pm,\n    defesa,\n    bag,\n    id,\n    devoto,\n    origin,\n    spells,\n    displacement,\n    maxWeight,\n    generalPowers,\n    steps,\n    extraArmorPenalty = 0,\n  } = sheet;\n\n  function getKey(elementId: string) {\n    return `${id}-${elementId}`;\n  }\n\n  const [isRacePowersVisible, setisRacePowersVisible] = React.useState<boolean>(\n    true\n  );\n\n  const [isClassPowersVisible, setClassPowersVisible] = React.useState<boolean>(\n    true\n  );\n\n  const [\n    generalPowersVisible,\n    setGeneralPowersVisible,\n  ] = React.useState<boolean>(true);\n\n  const [showExportButton, setExportButton] = React.useState<boolean>();\n\n  const [\n    isOriginPowersVisible,\n    setOriginPowersVisible,\n  ] = React.useState<boolean>(true);\n\n  const [isGodPowersVisible, setGodPowersVisible] = React.useState<boolean>(\n    true\n  );\n\n  const atributosDiv = Object.values(atributos).map((atributo) => (\n    <Attribute\n      name={atributo.name}\n      mod={atributo.mod}\n      id={id}\n      value={atributo.value}\n      key={getKey(atributo.name)}\n      isDarkMode={isDarkMode}\n    />\n  ));\n\n  let className = `${classe.name}`;\n  if (classe.subname) className = `${className} (${classe.subname})`;\n\n  const periciasSorted = skills.sort();\n\n  const periciasDiv = periciasSorted.map((pericia) => (\n    <li key={getKey(pericia)}>{pericia}</li>\n  ));\n  const habilidadesRacaDiv = raca.abilities.map((hab) => (\n    <li key={getKey(hab.name)}>\n      <strong>{hab.name}</strong>: {hab.description}\n    </li>\n  ));\n\n  const habilidadesClasseDiv = classe.abilities.map((hab) => (\n    <li key={getKey(hab.name)}>\n      <strong>{hab.name}:</strong> {hab.text}\n    </li>\n  ));\n\n  const proficienciasDiv = classe.proficiencias.map((proe) => (\n    <li key={getKey(proe)}>{proe}</li>\n  ));\n\n  const bagEquipments = bag.getEquipments();\n\n  const equipsEntriesNoWeapons: Equipment[] = Object.entries(bagEquipments)\n    .filter(([key]) => key !== 'Arma' && key !== 'Armadura' && key !== 'Escudo')\n    .flatMap((value) => value[1]);\n\n  const equipamentosDiv = equipsEntriesNoWeapons.map((equip) => (\n    <li key={getKey(equip.nome)}>\n      {equip.nome} {equip.peso && `- ${equip.peso}kg`}\n    </li>\n  ));\n\n  const weaponsDiv = <Weapons getKey={getKey} weapons={bagEquipments.Arma} />;\n  const defenseEquipments = [\n    ...bagEquipments.Armadura,\n    ...bagEquipments.Escudo,\n  ];\n\n  const poderesConcedidos = devoto?.poderes.map((poder) => (\n    <li key={getKey(poder?.name)}>\n      <strong>{poder?.name}: </strong> {poder?.description}\n    </li>\n  ));\n\n  const originPowers = origin?.powers\n    ? origin?.powers.map((power) => (\n        <li key={getKey(power.name)}>\n          <strong>{power.name}:</strong> {power.description}\n        </li>\n      ))\n    : '';\n\n  const generalPowersDiv = generalPowers\n    ? generalPowers.map((power) => (\n        <li key={getKey(power.name)}>\n          <strong>{power.name}:</strong> {power.description}\n        </li>\n      ))\n    : '';\n\n  const resultRef = React.createRef<HTMLDivElement>();\n  useEffect(() => {\n    if (resultRef.current) {\n      setExportButton(true);\n    }\n  }, [resultRef]);\n\n  const preparePrint = async () => {\n    setisRacePowersVisible(true);\n    setClassPowersVisible(true);\n    setOriginPowersVisible(true);\n    setGodPowersVisible(true);\n    setGeneralPowersVisible(true);\n\n    return new Promise((resolve) => setTimeout(resolve, 10));\n  };\n\n  const handleExport = () => resultRef.current;\n\n  const keyAttr = classe.spellPath\n    ? atributos[classe.spellPath.keyAttribute]\n    : null;\n\n  const changesDiv = steps.map((step) => {\n    if (step.type === 'Atributos') {\n      return (\n        <li key={getKey(`${step.label}-${step.value}`)}>\n          <strong>{step.label}:</strong>\n          <ul className='stepAttrList'>\n            {step.value.map((attr) => (\n              <li key={getKey(`${attr.name}-${attr.value}`)}>{`${attr.name}${\n                attr.value ? ': ' : ''\n              }${attr.value}`}</li>\n            ))}\n          </ul>\n        </li>\n      );\n    }\n    if (\n      step.type === 'Perícias' ||\n      step.type === 'Magias' ||\n      step.type === 'Equipamentos'\n    ) {\n      return (\n        <li key={getKey(step.label)}>\n          <strong>{step.label}:</strong>\n          <ul className='stepAttrList'>\n            {step.value.map((attr) => (\n              <li key={getKey(`${attr.name}-${attr.value}`)}>{attr.value}</li>\n            ))}\n          </ul>\n        </li>\n      );\n    }\n    if (step.type === 'Poderes') {\n      return (\n        <li key={getKey(step.label)}>\n          <strong>{step.label}:</strong>\n          <ul>\n            {step.value.map((attr) => (\n              <li key={getKey(`${attr.name}-${attr.value}`)}>{`${attr.name}${\n                attr.value ? ': ' : ''\n              }${attr.value}`}</li>\n            ))}\n          </ul>\n        </li>\n      );\n    }\n    return (\n      <li\n        key={getKey(\n          `${step.label}-${step.value[0] ? `: ${step.value[0].value}` : ''}`\n        )}\n      >\n        <strong>{step.label}</strong>\n        {`${step.value[0] ? `: ${step.value[0].value}` : ''}`}\n      </li>\n    );\n  });\n\n  return (\n    <div className='resultContainer'>\n      <div className='resultLeft'>\n        <div\n          style={{\n            display: showExportButton ? 'flex' : 'none',\n            marginLeft: '30px',\n          }}\n        >\n          <ReactToPrint\n            trigger={() => (\n              <button className='exportBtn' type='button'>\n                Exportar ou imprimir essa ficha\n              </button>\n            )}\n            onBeforeGetContent={preparePrint}\n            content={handleExport}\n            documentTitle={`${nome} - ${classe.name} ${raca.name}`}\n          />\n        </div>\n\n        <div\n          className={`resultMainDiv ${isDarkMode ? 'dark' : ''}`}\n          ref={resultRef}\n        >\n          <div className='characterInfos'>\n            <div>\n              <div className='resultRow nameArea'>\n                <span className='resultItem name'>\n                  <strong>{nome}</strong>\n                </span>\n                {raca.name !== 'Golem' && (\n                  <span>({sexo === 'Mulher' ? 'F' : 'M'})</span>\n                )}\n              </div>\n              <div className='resultRow'>\n                <span className='resultItem raceName'>\n                  <strong>\n                    {raca.name} {raca.oldRace && `(${raca.oldRace.name})`}\n                  </strong>\n                  -\n                </span>\n                <span className='resultItem className'>{`${className}`}</span>\n                <span className='resultItem'>nível {nivel}</span>\n              </div>\n              <div className='resultRow'>\n                {origin && (\n                  <span className='resultItem originName'>{origin.name}</span>\n                )}\n                {devoto && (\n                  <span className='resultItem'>\n                    {`devoto de ${devoto.divindade.name}`}\n                  </span>\n                )}\n              </div>\n            </div>\n\n            <div className='stats'>\n              <CharacterStat isDarkMode={isDarkMode} name='PV' value={pv} />\n              <CharacterStat isDarkMode={isDarkMode} name='PM' value={pm} />\n              <CharacterStat\n                isDarkMode={isDarkMode}\n                name='Defesa'\n                value={defesa}\n              />\n              <CharacterStat\n                isDarkMode={isDarkMode}\n                name='Deslocamento'\n                value={displacement}\n                isMovement\n              />\n            </div>\n          </div>\n\n          <Divider isDarkMode={isDarkMode} direction='down' />\n\n          <div className='attributesRow'>{atributosDiv}</div>\n\n          <Divider isDarkMode={isDarkMode} direction='down' />\n\n          <div className='condense'>\n            <div className='resultRow'>\n              <div>\n                <strong>Proficiências</strong>\n                <div>{proficienciasDiv}</div>\n              </div>\n            </div>\n\n            <div className='resdivtRow'>\n              <div>\n                <strong>Perícias Treinadas:</strong>\n                <ul className='periciasDiv'>{periciasDiv}</ul>\n              </div>\n            </div>\n          </div>\n\n          <Divider isDarkMode={isDarkMode} direction='down' />\n\n          <div className='sectionTitle'>\n            <span>Equipamentos</span>\n          </div>\n\n          <div className='equipaments'>\n            <div className={`tableWrap ${isDarkMode ? 'dark' : ''}`}>\n              {weaponsDiv}\n            </div>\n            <div className={`tableWrap ${isDarkMode ? 'dark' : ''}`}>\n              <DefenseEquipments\n                getKey={getKey}\n                defenseEquipments={defenseEquipments}\n              />\n            </div>\n            <div className='textToRight equipmentsValues'>\n              <span>\n                <strong>Penalidade de Armadura:</strong>{' '}\n                {(bag.getArmorPenalty() + extraArmorPenalty) * -1}\n              </span>\n            </div>\n            <div className={`tableWrap ${isDarkMode ? 'dark' : ''}`}>\n              {equipamentosDiv}\n            </div>\n            <div className='textToRight equipmentsValues'>\n              <span>\n                <strong>Peso (atual/máximo):</strong> {bag.getWeight()}/\n                {maxWeight}kg\n              </span>\n            </div>\n          </div>\n\n          <div className='powersArea'>\n            <Divider isDarkMode={isDarkMode} direction='down' />\n\n            <div className='sectionTitle'>\n              <span>Habilidades e Poderes</span>\n            </div>\n\n            <div className='resultRow powers'>\n              <div\n                className='powersNameRow'\n                onClick={() => setisRacePowersVisible(!isRacePowersVisible)}\n                role='button'\n                tabIndex={0}\n                onKeyDown={() => setisRacePowersVisible(!isRacePowersVisible)}\n              >\n                <ChevronRightIcon\n                  className={`powerIcon ${\n                    isRacePowersVisible ? 'down' : 'normal'\n                  }`}\n                />\n                <strong>Habilidades de {raca.name}</strong>\n              </div>\n              <div\n                style={{ display: `${isRacePowersVisible ? 'block' : 'none'}` }}\n              >\n                <ul>{habilidadesRacaDiv}</ul>\n              </div>\n            </div>\n\n            <div className='resultRow powers'>\n              <div\n                className='powersNameRow'\n                onClick={() => setClassPowersVisible(!isClassPowersVisible)}\n                onKeyDown={() => setClassPowersVisible(!isClassPowersVisible)}\n                role='button'\n                tabIndex={0}\n              >\n                <ChevronRightIcon\n                  className={`powerIcon ${\n                    isClassPowersVisible ? 'down' : 'normal'\n                  }`}\n                />\n                <strong>Habilidades de {classe.name}</strong>\n              </div>\n              <div\n                style={{\n                  display: `${isClassPowersVisible ? 'block' : 'none'}`,\n                }}\n              >\n                <ul>{habilidadesClasseDiv}</ul>\n              </div>\n            </div>\n\n            {origin && origin.powers.length > 0 && (\n              <div className='resultRow powers'>\n                <div\n                  className='powersNameRow'\n                  onClick={() => setOriginPowersVisible(!isOriginPowersVisible)}\n                  onKeyDown={() =>\n                    setOriginPowersVisible(!isOriginPowersVisible)\n                  }\n                  role='button'\n                  tabIndex={0}\n                >\n                  <ChevronRightIcon\n                    className={`powerIcon ${\n                      isOriginPowersVisible ? 'down' : 'normal'\n                    }`}\n                  />\n                  <strong>Habilidades de {origin?.name}</strong>\n                </div>\n                <div\n                  style={{\n                    display: `${isOriginPowersVisible ? 'block' : 'none'}`,\n                  }}\n                >\n                  <ul>{originPowers}</ul>\n                </div>\n              </div>\n            )}\n\n            {generalPowers.length > 0 && (\n              <div className='resultRow powers'>\n                <div\n                  className='powersNameRow'\n                  onClick={() => setGeneralPowersVisible(!generalPowersVisible)}\n                  onKeyDown={() =>\n                    setGeneralPowersVisible(!generalPowersVisible)\n                  }\n                  role='button'\n                  tabIndex={0}\n                >\n                  <ChevronRightIcon\n                    className={`powerIcon ${\n                      generalPowersVisible ? 'down' : 'normal'\n                    }`}\n                  />\n                  <strong>Poderes Gerais</strong>\n                </div>\n                <div\n                  style={{\n                    display: `${generalPowersVisible ? 'block' : 'none'}`,\n                  }}\n                >\n                  <ul>{generalPowersDiv}</ul>\n                </div>\n              </div>\n            )}\n\n            {devoto && (\n              <div className='resultRow powers'>\n                <div\n                  className='powersNameRow'\n                  onClick={() => setGodPowersVisible(!isGodPowersVisible)}\n                  onKeyDown={() => setGodPowersVisible(!isGodPowersVisible)}\n                  role='button'\n                  tabIndex={0}\n                >\n                  <ChevronRightIcon\n                    className={`powerIcon ${\n                      isGodPowersVisible ? 'down' : 'normal'\n                    }`}\n                  />\n                  <strong>Habilidades de {devoto.divindade.name}</strong>\n                </div>\n                <div\n                  style={{\n                    display: `${isGodPowersVisible ? 'block' : 'none'}`,\n                  }}\n                >\n                  <ul>{poderesConcedidos}</ul>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div className='spellsArea'>\n            <Divider isDarkMode={isDarkMode} direction='down' />\n            <div className='sectionTitle'>\n              <span>Magias</span>\n            </div>\n\n            <div className={`tableWrap tableDesk ${isDarkMode ? 'dark' : ''}`}>\n              <Spells\n                spells={spells}\n                spellPath={classe.spellPath}\n                keyAttr={keyAttr}\n                nivel={nivel}\n              />\n            </div>\n\n            <div className='tableMobile'>\n              <SpellsMobile\n                spells={spells}\n                spellPath={classe.spellPath}\n                keyAttr={keyAttr}\n                nivel={nivel}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className='resultRight'>\n        <h1>Passo-a-Passo:</h1>\n        <ol>{changesDiv}</ol>\n        <p>\n          <small style={{ display: 'flex', alignItems: 'center' }}>\n            <span\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                marginRight: '5px',\n              }}\n            >\n              <BugReportIcon /> Encontrou algum problema nessa ficha?\n            </span>\n            <a\n              target='blank'\n              href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/discussions/categories/problemas'\n            >\n              Nos avise!\n            </a>\n          </small>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Result;\n","import _ from 'lodash';\nimport CharacterSheet from '../interfaces/CharacterSheet';\nimport Equipment, {\n  DefenseEquipment,\n  CombatItems,\n} from '../interfaces/Equipment';\n\nexport const Armas: Record<string, Equipment> = {\n  ADAGA: {\n    nome: 'Adaga',\n    dano: '1d4',\n    critico: '19',\n    peso: 0.5,\n    tipo: 'Perf.',\n    alcance: 'Curto',\n    group: 'Arma',\n  },\n  ESPADACURTA: {\n    nome: 'Espada Curta',\n    dano: '1d6',\n    critico: '19',\n    peso: 1,\n    tipo: 'Perf.',\n    alcance: '-',\n    group: 'Arma',\n  },\n  FOICE: {\n    nome: 'Foice',\n    dano: '1d6',\n    critico: '3x',\n    peso: 1,\n    tipo: 'Corte',\n    alcance: '-',\n    group: 'Arma',\n  },\n  MANOPLA: {\n    nome: 'Manopla',\n    dano: '-',\n    critico: '-',\n    peso: 1,\n    tipo: 'Impac.',\n    alcance: '-',\n    group: 'Arma',\n  },\n  CLAVA: {\n    nome: 'Clava',\n    dano: '1d6',\n    critico: '2x',\n    peso: 1.5,\n    tipo: 'Impac.',\n    alcance: '-',\n    group: 'Arma',\n  },\n  LANCA: {\n    nome: 'Lança',\n    dano: '1d6',\n    critico: '2x',\n    peso: 1.5,\n    tipo: 'Perf.',\n    alcance: 'Curto',\n    group: 'Arma',\n  },\n  MACA: {\n    nome: 'Maça',\n    dano: '1d8',\n    critico: '2x',\n    peso: 6,\n    tipo: 'Impac.',\n    alcance: '-',\n    group: 'Arma',\n  },\n  BORDAO: {\n    nome: 'Bordão',\n    dano: '1d6/1d6',\n    critico: '2x',\n    peso: 2,\n    tipo: 'Impac.',\n    alcance: '-',\n    group: 'Arma',\n  },\n  PIQUE: {\n    nome: 'Pique',\n    dano: '1d8',\n    critico: '2x',\n    peso: 5,\n    tipo: 'Perf.',\n    alcance: '-',\n    group: 'Arma',\n  },\n  TACAPE: {\n    nome: 'Tacape',\n    dano: '1d10',\n    critico: '2x',\n    peso: 4,\n    tipo: 'Impacto',\n    alcance: '-',\n    group: 'Arma',\n  },\n  ARCOCURTO: {\n    nome: 'Arco Curto',\n    dano: '1d6',\n    critico: '3x',\n    peso: 1,\n    tipo: 'Perf.',\n    alcance: 'Médio',\n    group: 'Arma',\n  },\n  BESTALEVE: {\n    nome: 'Besta Leve',\n    dano: '1d8',\n    critico: '19',\n    peso: 3,\n    tipo: 'Perf.',\n    alcance: 'Médio',\n    group: 'Arma',\n  },\n  AZAGAIA: {\n    nome: 'Azagaia',\n    dano: '1d6',\n    critico: '2x',\n    peso: 1,\n    tipo: 'Perf.',\n    alcance: 'Médio',\n    group: 'Arma',\n  },\n  FUNDA: {\n    nome: 'Funda',\n    dano: '1d4',\n    critico: '2x',\n    peso: 0.25,\n    tipo: 'Impac.',\n    alcance: 'Médio',\n    group: 'Arma',\n  },\n  MACHADINHA: {\n    nome: 'Machadinha',\n    dano: '1d6',\n    critico: '3x',\n    peso: 2,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  CIMITARRA: {\n    nome: 'Cimitarra',\n    dano: '1d6',\n    critico: '18',\n    peso: 2,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  FLORETE: {\n    nome: 'Florete',\n    dano: '1d6',\n    critico: '18',\n    peso: 1,\n    tipo: 'Perfuração',\n    group: 'Arma',\n  },\n  MACHADO_DE_BATALHA: {\n    nome: 'Machado de Batalha',\n    dano: '1d8',\n    critico: 'x3',\n    peso: 3,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  MANGUAL: {\n    nome: 'Mangual',\n    dano: '1d8',\n    critico: 'x2',\n    peso: 2.5,\n    tipo: 'Impacto',\n    group: 'Arma',\n  },\n  MARTELO_DE_GUERRA: {\n    nome: 'Martelo de Guerra',\n    dano: '1d8',\n    critico: 'x3',\n    peso: 2.5,\n    tipo: 'Impacto',\n    group: 'Arma',\n  },\n  PICARETA: {\n    nome: 'Picareta',\n    dano: '1d6',\n    critico: 'x4',\n    peso: 3,\n    tipo: 'Perfuração',\n    group: 'Arma',\n  },\n  TRIDENTE: {\n    nome: 'Tridente',\n    dano: '1d8',\n    critico: 'x2',\n    peso: 2,\n    tipo: 'Perfuração',\n    group: 'Arma',\n  },\n  ARCO_LONGO: {\n    nome: 'Arco Longo',\n    dano: '1d8',\n    critico: 'x3',\n    alcance: 'Médio',\n    peso: 1.5,\n    tipo: 'Perfuração',\n    group: 'Arma',\n  },\n  BESTA_PESADA: {\n    nome: 'Besta Pesada',\n    dano: '1d12',\n    critico: '19',\n    alcance: 'Médio',\n    peso: 4,\n    tipo: 'Perfuração',\n    group: 'Arma',\n  },\n  ALABARDA: {\n    nome: 'Alabarda',\n    dano: '1d10',\n    critico: 'x3',\n    peso: 6,\n    tipo: 'Corte/Perfuração',\n    group: 'Arma',\n  },\n  ALFANGE: {\n    nome: 'Alfange',\n    dano: '2d4',\n    critico: '18',\n    peso: 4,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  GADANHO: {\n    nome: 'Gadanho',\n    dano: '2d4',\n    critico: 'x4',\n    peso: 5,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  LANCA_MONTADA: {\n    nome: 'Lança Montada',\n    dano: '1d8',\n    critico: 'x3',\n    peso: 4,\n    tipo: 'Perfuração',\n    group: 'Arma',\n  },\n  MACHADO_DE_GUERRA: {\n    nome: 'Machado de Guerra',\n    dano: '1d12',\n    critico: 'x3',\n    peso: 6,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  MONTANTE: {\n    nome: 'Montante',\n    dano: '2d6',\n    critico: '19',\n    peso: 6,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  CHICOTE: {\n    nome: 'Chicote',\n    dano: '1d3',\n    critico: 'x2',\n    peso: 1,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  ESPADA_BASTARDA: {\n    nome: 'Espada Bastarda',\n    dano: '1d10/1d12',\n    critico: '19',\n    peso: 3,\n    tipo: 'Cirte',\n    group: 'Arma',\n  },\n  KATANA: {\n    nome: 'Katana',\n    dano: '1d8/1d10',\n    critico: '19',\n    peso: 2.5,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  MACHADO_ANAO: {\n    nome: 'Machado Anão',\n    dano: '1d10',\n    critico: 'x3',\n    peso: 4,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  CORRENTE_DE_ESPINHOS: {\n    nome: 'Corrente de Espinhos',\n    dano: '2d4/2d4',\n    critico: '19',\n    peso: 5,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  MACHADO_TAURICO: {\n    nome: 'Machado Táurico',\n    dano: '2d8',\n    critico: 'x3',\n    peso: 4,\n    tipo: 'Corte',\n    group: 'Arma',\n  },\n  REDE: {\n    nome: 'Rede',\n    alcance: 'Curto',\n    peso: 3,\n    group: 'Arma',\n  },\n  MOSQUETE: {\n    nome: 'Mosquete',\n    dano: '2d8',\n    critico: '19/x3',\n    alcance: 'Médio',\n    peso: 4,\n    tipo: 'Perfuração',\n    group: 'Arma',\n  },\n  PISTOLA: {\n    nome: 'Pistola',\n    dano: '2d6',\n    critico: '19/x3',\n    alcance: 'Curto',\n    peso: 1,\n    tipo: 'Perguração',\n    group: 'Arma',\n  },\n};\n\nexport const Armaduras: Record<string, DefenseEquipment> = {\n  ARMADURADECOURO: {\n    nome: 'Armadura de couro',\n    defenseBonus: 2,\n    armorPenalty: 0,\n    peso: 7,\n    group: 'Armadura',\n  },\n  COUROBATIDO: {\n    nome: 'Couro batido',\n    defenseBonus: 3,\n    armorPenalty: 1,\n    peso: 10,\n    group: 'Armadura',\n  },\n  GIBAODEPELES: {\n    nome: 'Gibão de peles',\n    defenseBonus: 4,\n    armorPenalty: 3,\n    peso: 12,\n    group: 'Armadura',\n  },\n  BRUNEA: {\n    nome: 'Brunea',\n    defenseBonus: 5,\n    armorPenalty: 2,\n    peso: 15,\n    group: 'Armadura',\n  },\n  COTA_DE_MALHA: {\n    nome: 'Cota de Malha',\n    defenseBonus: 6,\n    armorPenalty: 2,\n    peso: 20,\n    group: 'Armadura',\n  },\n  LORIGA_SEGMENTADA: {\n    nome: 'Loriga Segmentada',\n    defenseBonus: 7,\n    armorPenalty: 3,\n    peso: 17,\n    group: 'Armadura',\n  },\n  MEIA_ARMADURA: {\n    nome: 'Meia Armadura',\n    defenseBonus: 8,\n    armorPenalty: 4,\n    peso: 22,\n    group: 'Armadura',\n  },\n  ARMADURA_COMPLETA: {\n    nome: 'Armadura Completa',\n    defenseBonus: 10,\n    armorPenalty: 5,\n    peso: 25,\n    group: 'Armadura',\n  },\n};\n\nexport const Escudos: Record<string, DefenseEquipment> = {\n  ESCUDOLEVE: {\n    nome: 'Escudo Leve',\n    defenseBonus: 1,\n    armorPenalty: 1,\n    peso: 3,\n    group: 'Escudo',\n  },\n  ESCUDO_PESADO: {\n    nome: 'Escudo Pesado',\n    defenseBonus: 2,\n    armorPenalty: 2,\n    peso: 7,\n    group: 'Escudo',\n  },\n};\n\nconst EQUIPAMENTOS: CombatItems = {\n  armasSimples: [\n    Armas.ADAGA,\n    Armas.ARCOCURTO,\n    Armas.AZAGAIA,\n    Armas.BESTALEVE,\n    Armas.BORDAO,\n    Armas.CLAVA,\n    Armas.ESPADACURTA,\n    Armas.FOICE,\n    Armas.FUNDA,\n    Armas.LANCA,\n    Armas.MACA,\n    Armas.MANOPLA,\n    Armas.PIQUE,\n    Armas.TACAPE,\n  ],\n  armasMarciais: [\n    Armas.MACHADINHA,\n    Armas.CIMITARRA,\n    Armas.FLORETE,\n    Armas.MACHADO_DE_BATALHA,\n    Armas.MANGUAL,\n    Armas.MARTELO_DE_GUERRA,\n    Armas.PICARETA,\n    Armas.TRIDENTE,\n    Armas.ALABARDA,\n    Armas.ALFANGE,\n    Armas.GADANHO,\n    Armas.LANCA_MONTADA,\n    Armas.MACHADO_DE_GUERRA,\n    Armas.MONTANTE,\n  ],\n  armasExoticas: [\n    Armas.CHICOTE,\n    Armas.ESPADA_BASTARDA,\n    Armas.KATANA,\n    Armas.MACHADO_ANAO,\n    Armas.CORRENTE_DE_ESPINHOS,\n    Armas.MACHADO_TAURICO,\n    Armas.REDE,\n  ],\n  armadurasLeves: [\n    Armaduras.ARMADURADECOURO,\n    Armaduras.COUROBATIDO,\n    Armaduras.GIBAODEPELES,\n  ],\n  armaduraPesada: [\n    Armaduras.BRUNEA,\n    Armaduras.COTA_DE_MALHA,\n    Armaduras.LORIGA_SEGMENTADA,\n    Armaduras.MEIA_ARMADURA,\n    Armaduras.ARMADURA_COMPLETA,\n  ],\n  escudos: [Escudos.ESCUDOLEVE, Escudos.ESCUDO_PESADO],\n};\n\nexport default EQUIPAMENTOS;\n\nexport const bardInstruments: string[] = [\n  'Violão',\n  'Violino',\n  'Harpa',\n  'Bandolim',\n  'Alaúde',\n  'Cítara',\n  'Flauta Doce',\n  'Tambor',\n  'Charamela',\n  'Ukulele',\n  'Harmônica',\n  'Oboé',\n  'Ocarina',\n];\n\nfunction isDefenseEquip(\n  equip: Equipment | DefenseEquipment\n): equip is DefenseEquipment {\n  return (equip as DefenseEquipment).defenseBonus !== undefined;\n}\n\nexport function calcDefense(charSheet: CharacterSheet): CharacterSheet {\n  const equipped: Equipment[] = [];\n\n  const cloneSheet = _.cloneDeep(charSheet);\n\n  let updatedDefense = Object.values(cloneSheet.bag.getEquipments())\n    .flat()\n    .reduce((acc, equip) => {\n      if (isDefenseEquip(equip)) {\n        equipped.push(equip);\n\n        cloneSheet.steps.push({\n          label: 'Incrementou Defesa',\n          value: [\n            {\n              value: `Bonus de ${equip.nome} (${acc} + ${\n                equip.defenseBonus\n              } = ${acc + equip.defenseBonus})`,\n            },\n          ],\n        });\n\n        return acc + equip.defenseBonus;\n      }\n\n      return acc;\n    }, cloneSheet.defesa);\n\n  const heavyArmor = equipped.some((equip) =>\n    EQUIPAMENTOS.armaduraPesada.find((armadura) => armadura.nome === equip.nome)\n  );\n\n  // Se não tem armadura pesada\n  if (!heavyArmor) {\n    // Se for nobre\n    if (cloneSheet.classe.name === 'Nobre') {\n      cloneSheet.steps.push({\n        label: 'Incrementou Defesa (+CAR)',\n        value: [\n          {\n            value: `${updatedDefense} + ${cloneSheet.atributos.Carisma.mod} = ${\n              updatedDefense + cloneSheet.atributos.Carisma.mod\n            }`,\n          },\n        ],\n      });\n      updatedDefense += cloneSheet.atributos.Carisma.mod;\n    }\n    // Se não for Nobre\n    else {\n      cloneSheet.steps.push({\n        label: 'Incrementou Defesa (+DES)',\n        value: [\n          {\n            value: `${updatedDefense} + ${\n              cloneSheet.atributos.Destreza.mod\n            } = ${updatedDefense + cloneSheet.atributos.Destreza.mod}`,\n          },\n        ],\n      });\n      updatedDefense += cloneSheet.atributos.Destreza.mod;\n    }\n  }\n\n  return { ...cloneSheet, defesa: updatedDefense };\n}\n","import { getRandomItemFromArray } from '../functions/randomUtils';\nimport Race from '../interfaces/Race';\nimport RACAS from './racas';\n\nexport const nomes: {\n  [key: string]: Record<'Homem' | 'Mulher', string[]>;\n} = {\n  Humano: {\n    Homem: [\n      'Aldor',\n      'Aran',\n      'Beren',\n      'Cyriac',\n      'Darik',\n      'Dravor',\n      'Drystan',\n      'Eldred',\n      'Ghart',\n      'Gryffen',\n      'Evass',\n    ],\n    Mulher: [\n      'Alysia',\n      'Avelin',\n      'Catryn',\n      'Darna',\n      'Elenya',\n      'Emeria',\n      'Glenda',\n      'Gylda',\n      'Isolda',\n      'Noita',\n    ],\n  },\n  Anão: {\n    Homem: [\n      'Arduramm',\n      'Bartarinn',\n      'Doragramm',\n      'Dastoroc',\n      'Hardrumm',\n      'Guldaramm',\n      'Hortroc',\n      'Kradug',\n      'Khovarinn',\n      'Thardaramm',\n    ],\n    Mulher: [\n      'Atrudda',\n      'Burgala',\n      'Dorotha',\n      'Durdala',\n      'Gadrina',\n      'Ragardda',\n      'Thratilga',\n      'Thorkala',\n      'Thundrila',\n      'Undresia',\n    ],\n  },\n  Dahllan: {\n    Homem: [\n      'Asterius',\n      'Aulus',\n      'Caelus',\n      'Glabus',\n      'Jartus',\n      'Kargan',\n      'Orgun',\n      'Tiberius',\n      'Tyraxus',\n      'Vobius',\n    ],\n    Mulher: [\n      'Aster',\n      'Azalia',\n      'Celandine',\n      'Dhala',\n      'Galya',\n      'Lhyria',\n      'Lura',\n      'Tulipa',\n      'Tyka',\n      'Violeta',\n    ],\n  },\n  Elfo: {\n    Homem: [\n      'Avoldar',\n      'Ellandor',\n      'Felarin',\n      'Glorandal',\n      'Farandhil',\n      'Kirrion',\n      'Lurienthel',\n      'Myrthallar',\n      'Thassarion',\n      'Zharian',\n    ],\n    Mulher: [\n      'Allora',\n      'Auruel',\n      'Calaena',\n      'Eloen',\n      'Faunalyn',\n      'Kethryllia',\n      'Laurena',\n      'Merethy',\n      'Thassalya',\n      'Yathanallia',\n    ],\n  },\n  Goblin: {\n    Homem: [\n      'Ark',\n      'Barg',\n      'Buduc',\n      'Crag',\n      'Krig',\n      'Rasg',\n      'Tabo',\n      'Ulerc',\n      'Vrix',\n      'Vrug',\n    ],\n    Mulher: [\n      'Ashi',\n      'Floba',\n      'Grin',\n      'Iga',\n      'Mikhi',\n      'Prixa',\n      'Pylda',\n      'Shug',\n      'Sizz',\n      'Vruga',\n    ],\n  },\n  Minotauro: {\n    Homem: [\n      'Moufen',\n      'Faster',\n      'Moufen',\n      'Emsia',\n      'Erana',\n      'Iassia',\n      'Hirgiran',\n      'Tirmaruk',\n      'Brangajan',\n      'Zamfuran',\n      'Djundrin',\n    ],\n    Mulher: [\n      'Winafa',\n      'Hilaken',\n      'Viafen',\n      'Erazara',\n      'Oenkane',\n      'Muuvin',\n      'Seora',\n      'Laankane',\n      'Raasnas',\n      'Aneris',\n    ],\n  },\n  Qareen: {\n    Homem: [\n      'Ahad',\n      'Barakat',\n      'Dawud',\n      'Hossam',\n      'Jaffah',\n      'Kirud',\n      'Nizur',\n      'Sulid',\n      'Tariq',\n      'Wassim',\n    ],\n    Mulher: [\n      'Aliyah',\n      'Batuhla',\n      'Hanifa',\n      'Jahira',\n      'Lalyla',\n      'Mhyla',\n      'Nirad',\n      'Safirah',\n      'Sahla',\n      'Zakiya',\n    ],\n  },\n  Golem: {\n    Homem: [\n      'Bozgo',\n      'Gron',\n      'Dhogglac',\n      'Grann',\n      'Bhamm',\n      'Azahar',\n      'Yislior',\n      'Avi',\n      'Machem',\n      'Ayim',\n      'Rher',\n      'Grohn',\n      'Bomm',\n      'Vozlon',\n      'Gragna',\n      'Jalior',\n      'Hilnah',\n      'Zomar',\n      'Nachin',\n      'Levi',\n    ],\n    Mulher: [\n      'Rerbod',\n      'Drulahk',\n      'Kheflahn',\n      'Vor',\n      'Lihar',\n      'Olad',\n      'Agam',\n      'Amichem',\n      'Omi',\n      'Dhuc',\n      'Buc',\n      'Gerbahm',\n      'Bhulgramm',\n      'Ron',\n      'Pinlior',\n      'Gedam',\n      'Abradeon',\n      'Lelan',\n      'Shitai',\n    ],\n  },\n  Hynne: {\n    Homem: [\n      'Frodo',\n      'Arno',\n      'Flippo',\n      'Gleppin',\n      'Guido',\n      'Haldo',\n      'Meric',\n      'Pippo',\n      'Saruc',\n    ],\n    Mulher: [\n      'Arabella',\n      'Ghyla',\n      'Joly',\n      'Lili',\n      'Lobelia',\n      'Malva',\n      'Prinna',\n      'Nyra',\n    ],\n  },\n  Kliren: {\n    Homem: [\n      'Yosston',\n      'Gatix',\n      'Horpos',\n      'Jorzu',\n      'Kelhim',\n      'Ariryn',\n      'Xaltix',\n      'Briver',\n      'Wreryn',\n      'Corbar',\n    ],\n    Mulher: [\n      'Xyrolin',\n      'Banqaryn',\n      'Tafyx',\n      'Klotina',\n      'Doceli',\n      'Lorissa',\n      'Rosibys',\n      'Grenbi',\n      'Jelsany',\n      'Lilqys ',\n    ],\n  },\n  Medusa: {\n    Homem: [\n      'Chrenthanes',\n      'Phametus',\n      'Chivos',\n      'Koxetus',\n      'Kodaestus',\n      'Pheiariton',\n      'Zothoteus',\n      'Mistoeis',\n      'Ruses',\n      'Xulcon',\n    ],\n    Mulher: [\n      'Chrula',\n      'Thyada',\n      'Huro',\n      'Vokte',\n      'Nuspa',\n      'Kaerlixe',\n      'Vyscaezo',\n      'Xeulceno',\n      'Vadaeva',\n      'Chrumyldo',\n    ],\n  },\n  Sereia: {\n    Homem: [\n      'Alon',\n      'Dalax',\n      'Kairus',\n      'Malik',\n      'Nereus',\n      'Octopian',\n      'Orin',\n      'Tempestus',\n    ],\n    Mulher: [\n      'Alda',\n      'Darya',\n      'Layna',\n      'Meri',\n      'Murgen',\n      'Nerissa',\n      'Onna',\n      'Sedna',\n    ],\n  },\n  Sílfide: {\n    Homem: [\n      'Cecil',\n      'Burble',\n      'Flax',\n      'Ginko',\n      'Novus',\n      'Olmo',\n      'Pingo',\n      'Rolyn',\n    ],\n    Mulher: [\n      'Céu',\n      'Bedra',\n      'Flama',\n      'Gerânia',\n      'Liri',\n      'Luriel',\n      'Marly',\n      'Pétala',\n    ],\n  },\n  Trog: {\n    Homem: [\n      'Atszo',\n      'Bhaz',\n      'Crosk',\n      'Drurg',\n      'Glulg',\n      'Orzok',\n      'Qrux',\n      'Truusz',\n    ],\n    Mulher: [\n      'Arxsa',\n      'Bakzha',\n      'Chask',\n      'Darsza',\n      'Shuruh',\n      'Thuji',\n      'Urla',\n      'Jacha',\n    ],\n  },\n  'Suraggel (Aggelus)': {\n    Homem: [\n      'Qaspiel',\n      'Charoum',\n      'Ongkanon',\n      'Gagallim',\n      'Harahel',\n      'Aarin',\n      'Sarandiel',\n      'Onoel',\n      'Bariel',\n      'Hadraniel',\n    ],\n    Mulher: [\n      'Gadiel',\n      'Amnayel',\n      'Gadreel',\n      'Theliel',\n      'Mastema',\n      'Umabel',\n      'Mattia',\n      'Hael',\n      'Naomi',\n      'Felice',\n    ],\n  },\n  'Suraggel (Sulfure)': {\n    Homem: [\n      'Drongrorath',\n      'Barnezuun',\n      'Sugdreketh',\n      'Sugdreketh',\n      'Ellmen',\n      \"Jel'ginoth\",\n      'Gurkimog',\n      'Tristramoth',\n      'Rorzonoz',\n      'Thegmazag',\n      \"Rar'giloz\",\n      'Tholmorath',\n      'Ozgamak',\n      'Trarromar',\n      'Ogdruun',\n      'Tronedoz',\n      'Gikemod',\n      'Sannomor',\n      'Ired',\n      'Gogmemar',\n    ],\n    Mulher: [\n      'Drongrorath',\n      'Barnezuun',\n      'Sugdreketh',\n      'Sugdreketh',\n      'Ellmen',\n      \"Jel'ginoth\",\n      'Gurkimog',\n      'Tristramoth',\n      'Rorzonoz',\n      'Thegmazag',\n      \"Rar'giloz\",\n      'Tholmorath',\n      'Ozgamak',\n      'Trarromar',\n      'Ogdruun',\n      'Tronedoz',\n      'Gikemod',\n      'Sannomor',\n      'Ired',\n      'Gogmemar',\n    ],\n  },\n};\n\nconst lefouNames = [\n  'Alma',\n  'Eco',\n  'Estrela',\n  'Fulgor',\n  'Furacão',\n  'Sol',\n  'Tempestade',\n  'Tremor',\n  'Uivo',\n  'Zênite',\n];\n\nconst lefouSurnames: Record<'Homem' | 'Mulher', string[]> = {\n  Homem: [\n    'Afiado',\n    'Cadavérico',\n    'da Perdição',\n    'do Ocaso',\n    'Eterno',\n    'Herege',\n    'Imortal',\n    'Maldito',\n    'Rubro',\n    'Serrilhado',\n  ],\n  Mulher: [\n    'Afiada',\n    'Cadavérica',\n    'da Perdição',\n    'do Ocaso',\n    'Eterna',\n    'Herege',\n    'Imortal',\n    'Maldita',\n    'Rubra',\n    'Serrilhada',\n  ],\n};\n\nexport const lefou = {\n  names: lefouNames,\n  surnames: lefouSurnames,\n};\n\nexport const nameGenerators: Record<\n  string,\n  (race: Race, sex: 'Homem' | 'Mulher') => string\n> = {\n  Osteon: (race, sex) => {\n    if (race.oldRace) {\n      if (nameGenerators[race.oldRace.name]) {\n        return nameGenerators[race.oldRace.name](race.oldRace, sex);\n      }\n\n      return nameGenerators.default(race.oldRace, sex);\n    }\n\n    const allRaces = [...Object.keys(nomes), 'Lefou'];\n    const validRaces = allRaces.filter((element) => element !== 'Golem');\n    const randomRaceName = getRandomItemFromArray(validRaces);\n    const randomRace = RACAS.find(\n      (element) => element.name === randomRaceName\n    ) as Race;\n\n    if (nameGenerators[randomRaceName]) {\n      return nameGenerators[randomRaceName](randomRace, sex);\n    }\n\n    return nameGenerators.default(randomRace, sex);\n  },\n  Lefou: (race: Race, sex: 'Homem' | 'Mulher') => {\n    const firstName = getRandomItemFromArray(lefouNames);\n    const lastName = getRandomItemFromArray(lefouSurnames[sex]);\n\n    return `${firstName} ${lastName}`;\n  },\n  default: (race: Race, sex) => getRandomItemFromArray(nomes[race.name][sex]),\n};\n\nexport function generateRandomName(\n  race: Race,\n  sexo: 'Homem' | 'Mulher'\n): string {\n  if (nameGenerators[race.name]) {\n    return nameGenerators[race.name](race, sexo);\n  }\n\n  return nameGenerators.default(race, sexo);\n}\n","import { OriginPower } from '../../interfaces/Poderes';\n\nexport const ORIGIN_POWER_TYPE = 'ORIGEM';\n\nconst originPowers: Record<string, OriginPower> = {\n  MEMBRO_DA_IGREJA: {\n    name: 'Membro da Igreja',\n    description:\n      'Você consegue hospedagem e informação em qualquer templo de sua divindade, para você e seus aliados.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  AMIGO_ESPECIAL: {\n    name: 'Amigo Especial',\n    description:\n      'Você recebe +5 em testes de Adestramento com animais comuns. Além disso, possui um animal de estimação que o auxilia e o acompanha em suas aventuras. Em termos de jogo, é um aliado que fornece +2 em uma perícia a sua escolha (exceto Luta ou Pontaria e aprovada pelo mestre) e não conta em seu limite de aliados.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  LEMBRANCAS_GRADUAIS: {\n    name: 'Lembranças Graduais',\n    description:\n      'Durante suas aventuras, em determinados momentos a critério do mestre, você pode fazer um teste de Sabedoria (CD 10) para reconhecer pessoas, criaturas ou lugares que tenha encontrado antes de perder a memória.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  SANGUE_AZUL: {\n    name: 'Sangue Azul',\n    description:\n      'Você tem alguma influência política, suficiente para ser tratado com mais leniência pela guarda, conseguir uma audiência com o nobre local etc.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  FRUTOS_DO_TRABALHO: {\n    name: 'Frutos do Trabalho',\n    description:\n      'Quando passa em um teste de Ofício para sustento, você recebe o dobro do dinheiro.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  DOM_ARTISTICO: {\n    name: 'Dom artístico',\n    description:\n      'Quando usa a perícia Atuação para fazer uma apresentação e passa no teste, você ganha o dobro de tibares.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  ESSE_CHEIRO: {\n    name: 'Esse Cheiro...',\n    description:\n      'Você recebe +2 em Fortitude e passa automaticamente em testes de Ofício (alquimia) para identificar itens alquímicos.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  PROVA_DE_TUDO: {\n    name: 'À Prova de Tudo',\n    description:\n      'Você não sofre penalidade em deslocamento e Sobrevivência por clima ruim e por terreno difícil natural.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  CONFISSAO: {\n    name: 'Confissão',\n    description:\n      'Você pode usar Intimidação para obter informação sem custo (veja Investigação).',\n    type: ORIGIN_POWER_TYPE,\n  },\n  ALPINISTA_SOCIAL: {\n    name: 'Alpinista Social',\n    description:\n      'Você pode substituir testes de Diplomacia por testes de Enganação.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  TRUQUE_DE_MAGICA: {\n    name: 'Truque de Mágica',\n    description:\n      'Você pode lançar Explosão de Chamas, Hipnotismo e Transmutar Objetos, mas apenas com o aprimoramento Truque. Esta não é uma habilidade mágica — os efeitos provêm de truques e prestidigitação.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  PUNGUISTA: {\n    name: 'Punguista',\n    description:\n      'Você pode fazer testes de Ladinagem para sustento, como a perícia Ofício.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  MEDICO_DE_CAMPO: {\n    name: 'Médico de Campo',\n    description:\n      'Quando você faz primeiros socorros em um personagem com 0 ou menos PV, ele recupera 1d6 PV.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  BUSCA_INTERIOR: {\n    name: 'Busca Interior',\n    description:\n      'Quando você e seus companheiros estão diante de um mistério, incapazes de prosseguir, você pode gastar 1 PM para meditar sozinho durante algum tempo e receber uma dica do mestre.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  DESEJO_DE_LIBERDADE: {\n    name: 'Desejo de Liberdade',\n    description:\n      'Ninguém voltará a torná-lo um escravo! Você recebe +5 em testes contra efeitos que possam aprisioná-lo, como a manobra agarrar ou a magia Imobilizar.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  PALPITE_FUNDAMENTADO: {\n    name: 'Palpite Fundamentado',\n    description:\n      'Você pode gastar 2 PM para substituir um teste de qualquer perícia originalmente baseada em Inteligência ou Sabedoria por um teste de Conhecimento.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  AGUA_NO_FEIJAO: {\n    name: 'Água no Feijão',\n    description:\n      'Você gasta apenas metade da matéria-prima para testes de Ofício (cozinheiro).',\n    type: ORIGIN_POWER_TYPE,\n  },\n  CULTURA_EXOTICA: {\n    name: 'Cultura Exótica',\n    description:\n      'Por sua diferente visão de mundo, você encontra soluções inesperadas. Você pode gastar 1 PM para fazer um teste de perícia somente treinada, mesmo sem ser treinado na perícia.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  PAO_E_CIRCO: {\n    name: 'Pão e Circo',\n    description:\n      'Por seu treino em combates de exibição, você sabe “bater sem machucar”. Pode escolher causar dano não letal sem sofrer a penalidade de –5.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  DETETIVE: {\n    name: 'Detetive',\n    description:\n      'Você pode substituir testes de Percepção e Intuição por testes de Investigação.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  HERANCA: {\n    name: 'Herança',\n    description:\n      'Você herdou um item de preço de até T$ 1.000. Você pode escolher este poder duas vezes, para um item de até T$ 2.000.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  AMIGO_DOS_PLEBEUS: {\n    name: 'Amigo dos Plebeus',\n    description:\n      'Você consegue hospedagem gratuita, para você e seus aliados, em famílias ou comunidades plebeias.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  PASSAGEM_DE_NAVIO: {\n    name: 'Passagem de Navio',\n    description:\n      'Você consegue transporte marítimo para você e seus companheiros, sem custos, desde que todos paguem com trabalho (passar em pelo menos um teste de perícia adequado durante a viagem).',\n    type: ORIGIN_POWER_TYPE,\n  },\n  VENDEDOR_DE_CARCACAS: {\n    name: 'Vendedor de Carcaças',\n    description:\n      'Você pode fazer testes de Sobrevivência para sustento, como a perícia Ofício.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  REDE_DE_CONTATOS: {\n    name: 'Rede de Contatos',\n    description:\n      'Graças à influência de sua guilda, você pode usar Diplomacia para obter informação sem custo (veja Investigação).',\n    type: ORIGIN_POWER_TYPE,\n  },\n  NEGOCIACAO: {\n    name: 'Negociação',\n    description:\n      'Você pode vender itens 10% mais caro (não cumulativo com barganha).',\n    type: ORIGIN_POWER_TYPE,\n  },\n  ESCAVADOR: {\n    name: 'Escavador',\n    description:\n      'Você se torna proficiente em picareta e não sofre penalidade em deslocamento por terreno difícil em masmorras e subterrâneos.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  MOCHILEIRO: {\n    name: 'Mochileiro',\n    description:\n      'Você não sofre a penalidade de armadura e a redução de deslocamento por transportar carga pesada.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  QUEBRA_GALHO: {\n    name: 'Quebra-galho',\n    description:\n      'Em cidades ou metrópoles, você pode comprar qualquer item não superior ou mágico por metade do custo normal. Esses itens não podem ser vendidos (são velhos, sujos, furtados...).',\n    type: ORIGIN_POWER_TYPE,\n  },\n  ESTOICO: {\n    name: 'Estoico',\n    description:\n      'Sua recuperação de pontos de vida e pontos de mana com descanso aumenta em uma categoria: normal em condições ruins, confortável em condições normais e assim por diante. Veja as regras de recuperação na página 106.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  ANTIGO_MESTRE: {\n    name: 'Antigo Mestre',\n    description:\n      'Você ainda mantém contato com o herói que costumava servir. A critério do mestre, em uma emergência, você pode receber alguma ajuda — ou então uma bela bronca por esperar que heróis poderosos resolvam o seu problema!',\n    type: ORIGIN_POWER_TYPE,\n  },\n  VIDA_RUSTICA: {\n    name: 'Vida Rústica',\n    description:\n      'Você come coisas que fariam um avestruz vomitar e também consegue descansar nos lugares mais desconfortáveis (mesmo dormindo ao relento, sua recuperação de PV e PM nunca é inferior a seu próprio nível).',\n    type: ORIGIN_POWER_TYPE,\n  },\n  INFLUENCIA_MILITAR: {\n    name: 'Influência Militar',\n    description:\n      'Você fez amigos nas forças armadas. Onde houver acampamentos ou bases militares, você pode conseguir hospedagem e informações para você e seus aliados.',\n    type: ORIGIN_POWER_TYPE,\n  },\n  GOROROBA: {\n    name: 'Gororoba',\n    description:\n      'Você prepara comidas em uma categoria de tempo menor (uma hora para comidas de até T$ 10, um dia para comidas de até T$ 100 etc.). Você ainda pode sofrer uma penalidade de –5 no teste de Ofício para diminuir o tempo em mais uma categoria (uma hora baixa para dez minutos).',\n    type: ORIGIN_POWER_TYPE,\n  },\n  ESFORCADO: {\n    name: 'Esforçado',\n    description:\n      'Você não teme trabalho duro, nem prazos apertados. Você recebe um bônus de +2 em todos os testes de perícias estendidos.',\n    type: ORIGIN_POWER_TYPE,\n  },\n};\n\nexport default originPowers;\n","import _ from 'lodash';\nimport Origin, { Items, OriginBenefits } from '../interfaces/Origin';\nimport {\n  getNotRepeatedRandomSkill,\n  getNotUsedSkillsFromAllowed,\n} from './pericias';\nimport originPowers, { ORIGIN_POWER_TYPE } from './powers/originPowers';\nimport { DestinyPowers } from './powers/destinyPowers';\nimport {\n  getNotRepeatedRandom,\n  getRandomItemFromArray,\n  pickFromArray,\n} from '../functions/randomUtils';\nimport {\n  OriginPower,\n  GeneralPower,\n  GeneralPowerType,\n  PowerGetter,\n} from '../interfaces/Poderes';\nimport generalPowers, { getUnrestricedTormentaPowers } from './poderes';\nimport Skill from '../interfaces/Skills';\nimport EQUIPAMENTOS, { Armas } from './equipamentos';\nimport combatPowers from './powers/combatPowers';\nimport CharacterSheet, { SubStep } from '../interfaces/CharacterSheet';\nimport { isPowerAvailable } from '../functions/powers';\n\nexport type origins =\n  | 'Acólito'\n  | 'Amigo dos Animais'\n  | 'Amnésico'\n  | 'Aristocrata'\n  | 'Artesão'\n  | 'Artista'\n  | 'Assistente de Laboratório'\n  | 'Batedor'\n  | 'Capanga'\n  | 'Charlatão'\n  | 'Circense'\n  | 'Criminoso'\n  | 'Curandeiro'\n  | 'Eremita'\n  | 'Escravo'\n  | 'Estudioso'\n  | 'Fazendeiro'\n  | 'Forasteiro'\n  | 'Gladiador'\n  | 'Guarda'\n  | 'Herdeiro'\n  | 'Herói Camponês'\n  | 'Marujo'\n  | 'Mateiro'\n  | 'Membro de Guilda'\n  | 'Mercador'\n  | 'Minerador'\n  | 'Nômade'\n  | 'Pivete'\n  | 'Refugiado'\n  | 'Seguidor'\n  | 'Selvagem'\n  | 'Soldado'\n  | 'Taverneiro'\n  | 'Trabalhador';\n\nfunction removeOriginPowers(origin: Origin) {\n  return origin.poderes.filter((power) =>\n    Object.values(GeneralPowerType).includes(power.type as GeneralPowerType)\n  ) as GeneralPower[];\n}\n\nfunction makeOriginGeneralPowerGetter(\n  origin: Origin,\n  type?: GeneralPowerType\n): PowerGetter {\n  const originGeneralPowers = removeOriginPowers(origin);\n\n  return (sheet: CharacterSheet, subSteps: SubStep[]) => {\n    const originGeneralPowersbyOrigin =\n      origin.name === 'Amnésico'\n        ? Object.values(generalPowers).flat()\n        : originGeneralPowers;\n    const allowedByRequirement = originGeneralPowersbyOrigin.filter((power) => {\n      if (type && power.type !== type) {\n        return false;\n      }\n\n      return isPowerAvailable(sheet, power);\n    });\n\n    const randomPower = getNotRepeatedRandom(\n      sheet.generalPowers,\n      'power',\n      allowedByRequirement\n    );\n\n    if (randomPower) {\n      sheet.generalPowers.push(randomPower);\n      subSteps.push({\n        name: 'Poder Geral',\n        value: randomPower.name,\n      });\n      return;\n    }\n\n    const randomSkillFromOrigin = getNotRepeatedRandom(\n      sheet.skills,\n      'skill',\n      origin.pericias\n    );\n    if (randomSkillFromOrigin) {\n      sheet.skills.push(randomSkillFromOrigin);\n      subSteps.push({\n        name: 'Perícia',\n        value: randomSkillFromOrigin,\n      });\n      return;\n    }\n\n    const randomSkill = getNotRepeatedRandom(sheet.skills, 'skill');\n\n    sheet.skills.push(randomSkill);\n    subSteps.push({\n      name: 'Perícia*',\n      value: randomSkill,\n    });\n  };\n}\n\nconst benefitsStrategies = {\n  string: (benefit: string, benefits: OriginBenefits): OriginBenefits =>\n    _.merge(benefits, {\n      skills: [...benefits.skills, benefit],\n    }),\n  OriginPower: (\n    benefit: OriginPower,\n    benefits: OriginBenefits\n  ): OriginBenefits =>\n    _.merge(benefits, {\n      powers: {\n        origin: [...benefits.powers.origin, benefit],\n      },\n    }),\n  GeneralPower: (\n    benefit: GeneralPower,\n    benefits: OriginBenefits,\n    origin: Origin,\n    type?: GeneralPowerType\n  ): OriginBenefits =>\n    _.merge(benefits, {\n      powers: {\n        general: [\n          ...benefits.powers.general,\n          makeOriginGeneralPowerGetter(origin, type),\n        ],\n      },\n    }),\n};\n\nfunction getBenefits(\n  benefits: (string | OriginPower | GeneralPower)[],\n  origin: Origin,\n  type?: GeneralPowerType\n) {\n  return benefits.reduce<OriginBenefits>(\n    (acc, benefit) => {\n      if (typeof benefit === 'string') {\n        return benefitsStrategies.string(benefit, acc);\n      }\n\n      if (benefit.type === ORIGIN_POWER_TYPE) {\n        return benefitsStrategies.OriginPower(benefit, acc);\n      }\n\n      return benefitsStrategies.GeneralPower(\n        benefit as GeneralPower,\n        acc,\n        origin,\n        type\n      );\n    },\n    {\n      skills: [],\n      powers: {\n        origin: [],\n        general: [],\n      },\n    }\n  );\n}\n\nfunction sortDefaultBenefits(usedSkills: Skill[], origin: Origin) {\n  const notRepeatedSkills = getNotUsedSkillsFromAllowed(\n    usedSkills,\n    origin.pericias\n  );\n\n  const sortedBenefits = pickFromArray<Skill | OriginPower | GeneralPower>(\n    [...notRepeatedSkills, ...origin.poderes],\n    2\n  );\n\n  return getBenefits(sortedBenefits, origin);\n}\n\nexport function getOriginBenefits(\n  usedSkills: Skill[],\n  origin: Origin\n): OriginBenefits {\n  if (origin.getPowersAndSkills) {\n    return origin.getPowersAndSkills(usedSkills, origin);\n  }\n\n  return sortDefaultBenefits(usedSkills, origin);\n}\n\n// Amnésico recebe uma skill random e um poder geral random\nfunction sortAmnesicBenefits(\n  usedSkills: Skill[],\n  origin: Origin\n): OriginBenefits {\n  const newSkill = getNotRepeatedRandomSkill(usedSkills);\n\n  return {\n    skills: [newSkill],\n    powers: {\n      general: [makeOriginGeneralPowerGetter(origin)],\n      origin: [originPowers.LEMBRANCAS_GRADUAIS],\n    },\n  };\n}\n\n// Assitente de Laboratório recebe um poder da Tormenta\nfunction sortLabAssistentBenefits(\n  skills: Skill[],\n  origin: Origin\n): OriginBenefits {\n  const allowedTormentaPowers = getUnrestricedTormentaPowers();\n  const choosenTormentaPowers = allowedTormentaPowers.length\n    ? [getRandomItemFromArray(allowedTormentaPowers)]\n    : [];\n\n  const notRepeatedSkills = getNotUsedSkillsFromAllowed(\n    skills,\n    origin ? origin.pericias : []\n  );\n\n  const actualOriginPowers = origin ? origin.poderes : [];\n\n  const sortedBenefits = pickFromArray<Skill | OriginPower | GeneralPower>(\n    [...notRepeatedSkills, ...actualOriginPowers, ...choosenTormentaPowers],\n    2\n  );\n\n  return getBenefits(sortedBenefits, origin, GeneralPowerType.TORMENTA);\n}\n\n// Para origens que recebem um poder de combate aleatório\nfunction getBenefitsWithRandomCombatPower(\n  skills: Skill[],\n  origin: Origin\n): OriginBenefits {\n  const notRepeatedSkills = getNotUsedSkillsFromAllowed(\n    skills,\n    origin ? origin.pericias : []\n  );\n\n  const actualOriginPowers = origin ? origin.poderes : [];\n  const choosenCombatPower = getRandomItemFromArray(generalPowers.COMBATE);\n\n  const sortedBenefits = pickFromArray<Skill | OriginPower | GeneralPower>(\n    [...notRepeatedSkills, ...actualOriginPowers, choosenCombatPower],\n    2\n  );\n\n  return getBenefits(sortedBenefits, origin, GeneralPowerType.COMBATE);\n}\n\nexport const ORIGINS: Record<origins, Origin> = {\n  Acólito: {\n    name: 'Acólito',\n    pericias: [Skill.CURA, Skill.RELIGIAO, Skill.VONTADE],\n    poderes: [\n      originPowers.MEMBRO_DA_IGREJA,\n      DestinyPowers.MEDICINA,\n      DestinyPowers.VONTADE_DE_FERRO,\n    ],\n    getItems: (): Items[] => [\n      {\n        equipment: 'Símbolo sagrado',\n      },\n      {\n        equipment: 'Traje de Sacerdote',\n      },\n    ],\n  },\n  'Amigo dos Animais': {\n    name: 'Amigo dos Animais',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Cão de guarda, cavalo, pônei ou trobo (escolha um).',\n      },\n    ],\n    pericias: [Skill.ADESTRAMENTO, Skill.CAVALGAR],\n    poderes: [originPowers.AMIGO_ESPECIAL],\n  },\n  Amnésico: {\n    name: 'Amnésico',\n    getItems: (): Items[] => [\n      {\n        equipment:\n          'Um ou mais itens (somando até T$ 100), que podem ser uma pista misteriosa da sua vida antiga.',\n      },\n    ],\n    pericias: [],\n    poderes: [],\n    getPowersAndSkills: sortAmnesicBenefits,\n  },\n  Aristocrata: {\n    name: 'Aristocrata',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Joia de família no valor de T$ 100',\n      },\n      {\n        equipment: 'Traje da Corte',\n      },\n    ],\n    pericias: [Skill.DIPLOMACIA, Skill.ENGANACAO, Skill.NOBREZA],\n    poderes: [originPowers.SANGUE_AZUL, DestinyPowers.COMANDAR],\n  },\n  Artesão: {\n    name: 'Artesão',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Kit de Ofício (qualquer)',\n      },\n      {\n        equipment: 'Um item que você possa fabricar de até T$ 50',\n      },\n    ],\n    pericias: [Skill.OFICIO_ARTESANATO, Skill.VONTADE],\n    poderes: [originPowers.FRUTOS_DO_TRABALHO, DestinyPowers.SORTUDO],\n  },\n  Artista: {\n    name: 'Artista',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Kit de disfarces ou instrumento musical.',\n      },\n    ],\n    pericias: [Skill.ATUACAO, Skill.ENGANACAO],\n    poderes: [\n      DestinyPowers.ATRAENTE,\n      originPowers.DOM_ARTISTICO,\n      DestinyPowers.SORTUDO,\n      DestinyPowers.TORCIDA,\n    ],\n  },\n  'Assistente de Laboratório': {\n    name: 'Assistente de Laboratório',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Kit de Ofício (alquimia)',\n      },\n    ],\n    pericias: [Skill.OFICIO_ALQUIMIA, Skill.MISTICISMO],\n    poderes: [originPowers.ESSE_CHEIRO, DestinyPowers.VENEFICIO],\n    getPowersAndSkills: sortLabAssistentBenefits,\n  },\n  Batedor: {\n    name: 'Batedor',\n    getItems: (): Items[] => {\n      const allowedWapons = [\n        Armas.ARCOCURTO,\n        Armas.BESTALEVE,\n        Armas.AZAGAIA,\n        Armas.FUNDA,\n        Armas.ARCO_LONGO,\n        Armas.BESTA_PESADA,\n      ];\n\n      const selectedWeapon = getRandomItemFromArray(allowedWapons);\n\n      const originItems = [\n        {\n          equipment: selectedWeapon,\n        },\n        {\n          equipment: 'Barraca',\n        },\n      ];\n\n      return originItems;\n    },\n    pericias: [Skill.FURTIVIDADE, Skill.PERCEPCAO, Skill.SOBREVIVENCIA],\n    poderes: [\n      originPowers.PROVA_DE_TUDO,\n      combatPowers.ESTILO_DE_DISPARO,\n      DestinyPowers.SENTIDOS_AGUCADOS,\n    ],\n  },\n  Capanga: {\n    name: 'Capanga',\n    getItems: (): Items[] => {\n      const allowedWapons = [Armas.ADAGA, Armas.ESPADACURTA, Armas.FOICE];\n\n      const selectedWeapon = getRandomItemFromArray(allowedWapons);\n\n      const originItems = [\n        {\n          equipment: selectedWeapon,\n        },\n        {\n          equipment:\n            'Tatuagem ou outro adereço de sua gangue aprimorado (+2 em Intimidação)',\n        },\n      ];\n\n      return originItems;\n    },\n    pericias: [Skill.LUTA, Skill.INTIMIDACAO],\n    poderes: [originPowers.CONFISSAO],\n    getPowersAndSkills: getBenefitsWithRandomCombatPower,\n  },\n  Charlatão: {\n    name: 'Charlatão',\n    getItems: (): Items[] => [\n      {\n        equipment:\n          'Joia Falsificada (valor aparente de T$ 100, sem valor real),',\n      },\n      {\n        equipment: 'Kit de Disfarces',\n      },\n    ],\n    pericias: [Skill.ENGANACAO, Skill.JOGATINA],\n    poderes: [\n      originPowers.ALPINISTA_SOCIAL,\n      DestinyPowers.APARENCIA_INOFENSIVA,\n      DestinyPowers.SORTUDO,\n    ],\n  },\n  Circense: {\n    name: 'Circense',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Traje de Artista',\n      },\n      {\n        equipment: 'Bola Colorida',\n        qtd: 3,\n      },\n      {\n        equipment: 'Baralho',\n      },\n    ],\n    pericias: [Skill.ACROBACIA, Skill.ATUACAO, Skill.REFLEXOS],\n    poderes: [DestinyPowers.ACROBATICO, originPowers.TRUQUE_DE_MAGICA],\n  },\n  Criminoso: {\n    name: 'Criminoso',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Kit de Ladrão',\n      },\n    ],\n    pericias: [Skill.ENGANACAO, Skill.FURTIVIDADE, Skill.LADINAGEM],\n    poderes: [originPowers.PUNGUISTA, DestinyPowers.VENEFICIO],\n  },\n  Curandeiro: {\n    name: 'Curandeiro',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Bálsamo restaurador',\n      },\n      {\n        equipment: 'Kit de Medicamentos',\n      },\n    ],\n    pericias: [Skill.CURA, Skill.VONTADE],\n    poderes: [\n      originPowers.MEDICO_DE_CAMPO,\n      DestinyPowers.MEDICINA,\n      DestinyPowers.VENEFICIO,\n    ],\n  },\n  Eremita: {\n    name: 'Eremita',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Barraca',\n      },\n      {\n        equipment: 'Kit de Medicamentos',\n      },\n    ],\n    pericias: [Skill.MISTICISMO, Skill.RELIGIAO, Skill.SOBREVIVENCIA],\n    poderes: [originPowers.BUSCA_INTERIOR, DestinyPowers.LOBO_SOLITARIO],\n  },\n  Escravo: {\n    name: 'Escravo',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Algemas',\n      },\n      {\n        equipment: 'Ferramenta Pesada (mesma estatística que maça)',\n      },\n    ],\n    pericias: [Skill.ATLETISMO, Skill.FORTITUDE, Skill.FURTIVIDADE],\n    poderes: [originPowers.DESEJO_DE_LIBERDADE, combatPowers.VITALIDADE],\n  },\n  Estudioso: {\n    name: 'Estudioso',\n    getItems: (): Items[] => [\n      {\n        equipment:\n          'Livro aprimorado (+2 em Conhecimento, Guerra ou Misticismo)',\n      },\n      {\n        equipment: 'Livro Comum',\n        qtd: 3,\n      },\n    ],\n    pericias: [Skill.CONHECIMENTO, Skill.GUERRA, Skill.MISTICISMO],\n    poderes: [\n      originPowers.PALPITE_FUNDAMENTADO,\n      DestinyPowers.APARENCIA_INOFENSIVA,\n    ],\n  },\n  Fazendeiro: {\n    name: 'Fazendeiro',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Ferramenta agrícola (mesmas estatísticas de uma lança)',\n      },\n      {\n        equipment: 'Ração de Viagem',\n        qtd: 10,\n      },\n      {\n        equipment: 'Animal não combativo (como uma galinha, porco ou ovelha)',\n      },\n    ],\n    pericias: [Skill.ADESTRAMENTO, Skill.CAVALGAR, Skill.OFICIO_FAZENDEIRO],\n    poderes: [originPowers.AGUA_NO_FEIJAO, combatPowers.GINETE],\n  },\n  Forasteiro: {\n    name: 'Forasteiro',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Diário de Viagens',\n      },\n      {\n        equipment: 'Traje de Viagem Estrangeiro',\n      },\n      {\n        equipment: 'Instrumento Músical Exótico',\n      },\n    ],\n    pericias: [Skill.CAVALGAR, Skill.PILOTAGEM, Skill.SOBREVIVENCIA],\n    poderes: [originPowers.CULTURA_EXOTICA, DestinyPowers.LOBO_SOLITARIO],\n  },\n  Gladiador: {\n    name: 'Gladiador',\n    getItems: (): Items[] => {\n      const allowedWapons = [\n        ...EQUIPAMENTOS.armasMarciais,\n        ...EQUIPAMENTOS.armasExoticas,\n      ];\n\n      const selectedWeapon = getRandomItemFromArray(allowedWapons);\n\n      const originItems = [\n        {\n          equipment: selectedWeapon,\n        },\n        {\n          equipment: 'Item sem valor recebido de um admirador',\n        },\n      ];\n\n      return originItems;\n    },\n    pericias: [Skill.ATUACAO, Skill.LUTA],\n    poderes: [\n      originPowers.PAO_E_CIRCO,\n      DestinyPowers.ATRAENTE,\n      DestinyPowers.TORCIDA,\n    ],\n    getPowersAndSkills: getBenefitsWithRandomCombatPower,\n  },\n  Guarda: {\n    name: 'Guarda',\n    getItems: (): Items[] => {\n      const allowedWapons = [...EQUIPAMENTOS.armasMarciais];\n\n      const selectedWeapon = getRandomItemFromArray(allowedWapons);\n\n      const originItems = [\n        {\n          equipment: 'Insígnia da Milícia',\n        },\n        {\n          equipment: 'Apito',\n        },\n        {\n          equipment: selectedWeapon,\n        },\n      ];\n\n      return originItems;\n    },\n    pericias: [Skill.INVESTIGACAO, Skill.LUTA, Skill.PERCEPCAO],\n    poderes: [originPowers.DETETIVE, DestinyPowers.INVESTIGADOR],\n    getPowersAndSkills: getBenefitsWithRandomCombatPower,\n  },\n  Herdeiro: {\n    name: 'Herdeiro',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Símbolo de Herança',\n      },\n    ],\n    pericias: [Skill.MISTICISMO, Skill.NOBREZA, Skill.OFICIO],\n    poderes: [\n      originPowers.HERANCA,\n      originPowers.HERANCA,\n      DestinyPowers.COMANDAR,\n    ],\n  },\n  'Herói Camponês': {\n    name: 'Herói Camponês',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Kit de Ofício',\n      },\n      {\n        equipment: 'Traje de Plebeu',\n      },\n    ],\n    pericias: [Skill.ADESTRAMENTO, Skill.OFICIO],\n    poderes: [\n      originPowers.AMIGO_DOS_PLEBEUS,\n      DestinyPowers.SORTUDO,\n      DestinyPowers.SURTO_HEROICO,\n      DestinyPowers.TORCIDA,\n    ],\n  },\n  Marujo: {\n    name: 'Marujo',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Corda',\n      },\n    ],\n    pericias: [Skill.ATLETISMO, Skill.JOGATINA, Skill.PILOTAGEM],\n    poderes: [originPowers.PASSAGEM_DE_NAVIO, DestinyPowers.ACROBATICO],\n  },\n  Mateiro: {\n    name: 'Mateiro',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Barraca',\n      },\n      {\n        equipment: Armas.ARCOCURTO,\n      },\n    ],\n    pericias: [Skill.ATLETISMO, Skill.FURTIVIDADE, Skill.SOBREVIVENCIA],\n    poderes: [\n      originPowers.VENDEDOR_DE_CARCACAS,\n      DestinyPowers.LOBO_SOLITARIO,\n      DestinyPowers.SENTIDOS_AGUCADOS,\n    ],\n  },\n  'Membro de Guilda': {\n    name: 'Membro de Guilda',\n    getItems: (): Items[] => {\n      const allowedEquipments = [\n        { equipment: 'Kit de Ladrão' },\n        { equipment: 'Kit de Ofício' },\n      ];\n\n      const selectedItem = getRandomItemFromArray(allowedEquipments);\n\n      return [selectedItem];\n    },\n    pericias: [\n      Skill.DIPLOMACIA,\n      Skill.ENGANACAO,\n      Skill.MISTICISMO,\n      Skill.OFICIO,\n    ],\n    poderes: [originPowers.REDE_DE_CONTATOS, DestinyPowers.FOCO_EM_PERICIA],\n  },\n  Mercador: {\n    name: 'Mercador',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Carroça',\n      },\n      {\n        equipment: 'Trobo',\n      },\n      {\n        equipment: 'Mercadoria no valor de T$ 100',\n      },\n    ],\n    pericias: [Skill.DIPLOMACIA, Skill.INTUICAO, Skill.OFICIO],\n    poderes: [\n      originPowers.NEGOCIACAO,\n      combatPowers.PROFICIENCIA,\n      DestinyPowers.SORTUDO,\n    ],\n  },\n  Minerador: {\n    name: 'Minerador',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Gemas preciosas no valor de T$ 100',\n      },\n      {\n        equipment: Armas.PICARETA,\n      },\n    ],\n    pericias: [Skill.ATLETISMO, Skill.FORTITUDE, Skill.OFICIO_MINERADOR],\n    poderes: [\n      originPowers.ESCAVADOR,\n      combatPowers.ATAQUE_PODEROSO,\n      DestinyPowers.SENTIDOS_AGUCADOS,\n    ],\n  },\n  Nômade: {\n    name: 'Nômade',\n    getItems: (): Items[] => [\n      {\n        equipment: Armas.BORDAO,\n      },\n      {\n        equipment: 'Bussola',\n      },\n    ],\n    pericias: [Skill.CAVALGAR, Skill.PILOTAGEM, Skill.SOBREVIVENCIA],\n    poderes: [originPowers.MOCHILEIRO, DestinyPowers.SENTIDOS_AGUCADOS],\n  },\n  Pivete: {\n    name: 'Pivete',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Kit de Ladrão',\n      },\n      {\n        equipment: 'Traje de Plebeu',\n      },\n      {\n        equipment: 'Animal urbano (como um cão, gato, rato ou pombo)',\n      },\n    ],\n    pericias: [Skill.FURTIVIDADE, Skill.INICIATIVA, Skill.LADINAGEM],\n    poderes: [\n      originPowers.QUEBRA_GALHO,\n      DestinyPowers.APARENCIA_INOFENSIVA,\n      DestinyPowers.ACROBATICO,\n    ],\n  },\n  Refugiado: {\n    name: 'Refugiado',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Um item estrangeiro de até T$ 100.',\n      },\n    ],\n    pericias: [Skill.FORTITUDE, Skill.REFLEXOS, Skill.VONTADE],\n    poderes: [originPowers.ESTOICO, DestinyPowers.VONTADE_DE_FERRO],\n  },\n  Seguidor: {\n    name: 'Seguidor',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Um item recebido de seu mestre de até T$ 100.',\n      },\n    ],\n    pericias: [Skill.ADESTRAMENTO, Skill.OFICIO],\n    poderes: [\n      originPowers.ANTIGO_MESTRE,\n      combatPowers.PROFICIENCIA,\n      DestinyPowers.SURTO_HEROICO,\n    ],\n  },\n  Selvagem: {\n    name: 'Selvagem',\n    getItems: (): Items[] => {\n      const allowedWapons = [...EQUIPAMENTOS.armasSimples];\n\n      const selectedWeapon = getRandomItemFromArray(allowedWapons);\n\n      const originItems = [\n        {\n          equipment: 'Pequeno animal de estimação como um pássaro ou esquilo',\n        },\n        {\n          equipment: selectedWeapon,\n        },\n      ];\n\n      return originItems;\n    },\n    pericias: [Skill.PERCEPCAO, Skill.REFLEXOS, Skill.SOBREVIVENCIA],\n    poderes: [\n      originPowers.VIDA_RUSTICA,\n      DestinyPowers.LOBO_SOLITARIO,\n      combatPowers.VITALIDADE,\n    ],\n  },\n  Soldado: {\n    name: 'Soldado',\n    getItems: (): Items[] => [\n      {\n        equipment: 'Uniforme Militar',\n      },\n      {\n        equipment: 'Insígnia de seu exército',\n      },\n    ],\n    pericias: [Skill.FORTITUDE, Skill.GUERRA, Skill.LUTA, Skill.PONTARIA],\n    poderes: [originPowers.INFLUENCIA_MILITAR],\n    getPowersAndSkills: getBenefitsWithRandomCombatPower,\n  },\n  Taverneiro: {\n    name: 'Taverneiro',\n    getItems: (): Items[] => [\n      {\n        equipment:\n          'Rolo de macarrão ou martelo de carne (mesmas estatísticas de uma clava)',\n      },\n      {\n        equipment: 'Panela',\n      },\n      {\n        equipment: 'Avental',\n      },\n      {\n        equipment: 'Caneca',\n      },\n      {\n        equipment: 'Pano Sujo',\n      },\n    ],\n    pericias: [Skill.DIPLOMACIA, Skill.JOGATINA, Skill.OFICIO_CULINARIA],\n    poderes: [\n      originPowers.GOROROBA,\n      combatPowers.PROFICIENCIA,\n      combatPowers.VITALIDADE,\n    ],\n  },\n  Trabalhador: {\n    name: 'Trabalhador',\n    getItems: (): Items[] => [\n      {\n        equipment:\n          'Uma ferramenta pesada (mesmas estatísticas de uma maça ou lança, a sua escolha).',\n      },\n    ],\n    pericias: [Skill.ATLETISMO, Skill.FORTITUDE],\n    poderes: [originPowers.ESFORCADO, DestinyPowers.ATLETICO],\n  },\n};\n\nexport default ORIGINS;\n","import { spellsCircle1 as c1 } from './generalSpells';\nimport { SpellCircle, Spell } from '../../interfaces/Spells';\n\nexport const arcaneSpellsCircle1: SpellCircle = {\n  Abjur: [\n    c1.alarme,\n    c1.armaduraArcana,\n    c1.resistenciaAEnergia,\n    c1.trancaArcana,\n  ],\n  Adiv: [c1.aviso, c1.compreensao, c1.concentracaoDeCombate, c1.visaoMistica],\n  Conv: [c1.areaEscorregadia, c1.conjurarMonstro, c1.nevoa, c1.teia],\n  Encan: [c1.adagaMental, c1.enfeiticar, c1.hipnotismo, c1.sono],\n  Evoc: [\n    c1.explosaoDeChamas,\n    c1.luz,\n    c1.setaInfalivelDeTalude,\n    c1.toqueChocante,\n  ],\n  Ilusão: [\n    c1.criarIlusao,\n    c1.disfarceIlusorio,\n    c1.imagemEspelhada,\n    c1.lequeCromatico,\n  ],\n  Necro: [\n    c1.amedrontar,\n    c1.escuridao,\n    c1.raioDoEnfraquecimento,\n    c1.vitalidadeFantasma,\n  ],\n  Trans: [\n    c1.armaMagica,\n    c1.primorAtletico,\n    c1.quedaSuave,\n    c1.transmutarObjetos,\n  ],\n};\n\nexport const allArcaneSpellsCircle1: Spell[] = Object.values(\n  arcaneSpellsCircle1\n).reduce((acc, current) => [...acc, ...current]);\n","import { spellsCircle1 as c1 } from './generalSpells';\nimport { SpellCircle, Spell } from '../../interfaces/Spells';\n\nexport const divineSpellsCircle1: SpellCircle = {\n  Abjur: [\n    c1.escudoDaFe,\n    c1.protecaoDivina,\n    c1.resistenciaAEnergia,\n    c1.santuario,\n    c1.suporteAmbiental,\n  ],\n  Adiv: [\n    c1.aviso,\n    c1.compreensao,\n    c1.detectarAmeacas,\n    c1.orientacao,\n    c1.visaoMistica,\n  ],\n  Conv: [c1.armaEspiritual, c1.caminhosDaNatureza, c1.criarElementos, c1.nevoa],\n  Encan: [c1.acalmarAnimal, c1.bencao, c1.comando, c1.tranquilidade],\n  Evoc: [c1.consagrar, c1.curarFerimentos, c1.despedacar, c1.luz],\n  Ilusão: [],\n  Necro: [c1.escuridao, c1.infligirFerimentos, c1.perdicao, c1.profanar],\n  Trans: [\n    c1.abencoarAlimentos,\n    c1.armaMagica,\n    c1.armamentoDaNatureza,\n    c1.controlarPlantas,\n  ],\n};\n\nexport const allDivineSpellsCircle1: Spell[] = Object.values(\n  divineSpellsCircle1\n).reduce((acc, current) => [...acc, ...current]);\n","import { cloneDeep, differenceBy, isArray, merge, mergeWith } from 'lodash';\nimport Equipment, { BagEquipments } from './Equipment';\n\nconst defaultEquipments: BagEquipments = {\n  'Item Geral': [\n    {\n      nome: 'Mochila',\n      group: 'Item Geral',\n      peso: 1,\n    },\n    {\n      nome: 'Saco de dormir',\n      group: 'Item Geral',\n      peso: 2.5,\n    },\n    {\n      nome: 'Traje de viajante',\n      group: 'Item Geral',\n      peso: 2,\n    },\n  ],\n  Alimentação: [],\n  Alquimía: [],\n  Animal: [],\n  Arma: [],\n  Armadura: [],\n  Escudo: [],\n  Hospedagem: [],\n  Serviço: [],\n  Vestuário: [],\n  Veículo: [],\n};\n\nfunction calcBagWeight(bagEquipments: BagEquipments): number {\n  const equipments = Object.values(bagEquipments).flat();\n\n  let weight = 0;\n\n  equipments.forEach((equipment: Equipment) => {\n    const equipmentWeight = equipment.peso || 0;\n    weight += equipmentWeight;\n  });\n\n  return weight;\n}\n\nfunction calcArmorPenalty(equipments: BagEquipments): number {\n  const armorPenalty = equipments.Armadura.reduce(\n    (acc, armor) => acc + armor.armorPenalty,\n    0\n  );\n\n  const shieldPenalty = equipments.Escudo.reduce(\n    (acc, armor) => acc + armor.armorPenalty,\n    0\n  );\n\n  return armorPenalty + shieldPenalty;\n}\n\nexport default class Bag {\n  private equipments: BagEquipments;\n\n  private weight: number;\n\n  private armorPenalty: number;\n\n  constructor(equipments = {}) {\n    this.equipments = merge(equipments, cloneDeep(defaultEquipments));\n\n    this.weight = calcBagWeight(this.equipments);\n    this.armorPenalty = calcArmorPenalty(this.equipments);\n  }\n\n  public setEquipments(equipments: BagEquipments): void {\n    this.equipments = equipments;\n    this.weight = calcBagWeight(this.equipments);\n    this.armorPenalty = calcArmorPenalty(this.equipments);\n  }\n\n  public getEquipments(): BagEquipments {\n    return this.equipments;\n  }\n\n  public getWeight(): number {\n    return this.weight;\n  }\n\n  public getArmorPenalty(): number {\n    return this.armorPenalty;\n  }\n\n  public addEquipment(equipments: Partial<BagEquipments>): void {\n    const newEquipments = mergeWith(\n      this.equipments,\n      equipments,\n      (oldEquips: Equipment[], newEquips: Equipment[]) => {\n        if (isArray(oldEquips))\n          return newEquips.concat(differenceBy(oldEquips, newEquips, 'nome'));\n\n        return undefined;\n      }\n    );\n\n    this.setEquipments(newEquipments);\n  }\n}\n","import { v4 as uuid } from 'uuid';\nimport _, { cloneDeep } from 'lodash';\nimport { Atributo } from '../data/atributos';\nimport RACAS, { getRaceByName } from '../data/racas';\nimport CLASSES from '../data/classes';\nimport {\n  getClassBaseSkills,\n  getNotRepeatedSkillsByQtd,\n  getRemainingSkills,\n} from '../data/pericias';\nimport EQUIPAMENTOS, {\n  calcDefense,\n  Armaduras,\n  Escudos,\n  bardInstruments,\n} from '../data/equipamentos';\nimport { standardFaithProbability, DivindadeEnum } from '../data/divindades';\nimport { generateRandomName } from '../data/nomes';\nimport {\n  CharacterAttribute,\n  CharacterAttributes,\n  CharacterReligion,\n} from '../interfaces/Character';\nimport Race, { RaceAttributeAbility } from '../interfaces/Race';\nimport { ClassDescription } from '../interfaces/Class';\nimport SelectedOptions from '../interfaces/SelectedOptions';\nimport {\n  getRandomItemFromArray,\n  mergeFaithProbabilities,\n  pickFaith,\n  pickFromArray,\n  rollDice,\n} from './randomUtils';\nimport todasProficiencias from '../data/proficiencias';\nimport { getOriginBenefits, ORIGINS } from '../data/origins';\nimport Equipment, { BagEquipments } from '../interfaces/Equipment';\nimport Divindade from '../interfaces/Divindade';\nimport GRANTED_POWERS from '../data/powers/grantedPowers';\nimport {\n  allArcaneSpellsCircle1,\n  arcaneSpellsCircle1,\n} from '../data/magias/arcane';\nimport {\n  allDivineSpellsCircle1,\n  divineSpellsCircle1,\n} from '../data/magias/divine';\nimport { Spell } from '../interfaces/Spells';\nimport {\n  getRaceDisplacement,\n  getRaceSize,\n} from '../data/races/functions/functions';\nimport Origin from '../interfaces/Origin';\nimport {\n  GeneralPowerType,\n  OriginPower,\n  PowerGetter,\n  PowersGetters,\n} from '../interfaces/Poderes';\nimport CharacterSheet, { Step, SubStep } from '../interfaces/CharacterSheet';\nimport Skill from '../interfaces/Skills';\nimport Bag from '../interfaces/Bag';\n\nexport function getModValue(attr: number): number {\n  return Math.floor(attr / 2) - 5;\n}\n\n// function getRandomPer() {\n//   const keys = Object.keys(PERICIAS);\n//   return getRandomItemFromArray(keys);\n// }\n\nfunction rollAttributeValues(): number[] {\n  const rolledValues = Object.values(Atributo).map(() => rollDice(4, 6, 1));\n\n  // eslint-disable-next-line\n  while (true) {\n    const modifiers = rolledValues.map((value) => getModValue(value));\n    const modSum = modifiers.reduce((acc, curr) => acc + curr);\n    if (modSum >= 6) break;\n    rolledValues.sort((a, b) => a - b);\n    rolledValues.shift();\n    rolledValues.push(rollDice(4, 6, 1));\n  }\n\n  return rolledValues;\n}\n\nfunction selectAttributeToChange(\n  atributosModificados: string[],\n  atributo: RaceAttributeAbility,\n  priorityAttrs: Atributo[]\n) {\n  if (atributo.attr === 'any') {\n    const atributosPermitidos = Object.values(Atributo).filter(\n      (attr) => !atributosModificados.includes(attr)\n    );\n\n    const atributosPreferidos = priorityAttrs.filter((attr) =>\n      atributosPermitidos.includes(attr)\n    );\n\n    return getRandomItemFromArray<Atributo>(\n      atributosPreferidos.length > 0 ? atributosPreferidos : atributosPermitidos\n    );\n  }\n\n  return atributo.attr;\n}\n\nfunction getModifiedAttribute(\n  selectedAttrName: Atributo,\n  atributosModificados: CharacterAttributes,\n  attrDaRaca: RaceAttributeAbility\n): CharacterAttribute {\n  const newValue =\n    atributosModificados[selectedAttrName].value + attrDaRaca.mod;\n\n  return {\n    ...atributosModificados[selectedAttrName],\n    value: newValue,\n    mod: getModValue(newValue),\n  };\n}\n\ninterface ReduceAttributesParams {\n  atributos: CharacterAttributes;\n  nomesDosAtributosModificados: string[];\n}\n\nexport function modifyAttributesBasedOnRace(\n  raca: Race,\n  atributosRolados: CharacterAttributes,\n  priorityAttrs: Atributo[],\n  steps: Step[]\n): CharacterAttributes {\n  const values: { name: string; value: string | number }[] = [];\n  const reducedAttrs = raca.attributes.attrs.reduce<ReduceAttributesParams>(\n    ({ atributos, nomesDosAtributosModificados }, attrDaRaca) => {\n      // Definir que atributo muda (se for any é um random)\n      const selectedAttrName = selectAttributeToChange(\n        nomesDosAtributosModificados,\n        attrDaRaca,\n        priorityAttrs\n      );\n\n      const atributoModificado = getModifiedAttribute(\n        selectedAttrName,\n        atributos,\n        attrDaRaca\n      );\n\n      values.push({\n        name: selectedAttrName,\n        value: `${attrDaRaca.mod > 0 ? `+` : ''}${attrDaRaca.mod}`,\n      });\n\n      return {\n        atributos: {\n          ...atributos,\n          [selectedAttrName]: atributoModificado,\n        },\n        nomesDosAtributosModificados: [\n          ...nomesDosAtributosModificados,\n          selectedAttrName,\n        ],\n      };\n    },\n    {\n      atributos: atributosRolados,\n      nomesDosAtributosModificados: [],\n    }\n  );\n\n  steps.push({\n    type: 'Atributos',\n    label: 'Atributos Modificados (raça)',\n    value: values,\n  });\n\n  return reducedAttrs.atributos;\n}\n\nfunction generateFinalAttributes(\n  classe: ClassDescription,\n  race: Race,\n  steps: Step[]\n) {\n  const atributosNumericos = rollAttributeValues();\n  let freeAttrs = Object.values(Atributo);\n\n  const priorityAttrs = _.shuffle(classe.attrPriority);\n  const priorityGeneratedAttrs = {} as CharacterAttributes;\n\n  priorityAttrs.forEach((attr) => {\n    const maxAttr = Math.max(...atributosNumericos);\n    priorityGeneratedAttrs[attr] = {\n      name: attr,\n      value: maxAttr,\n      mod: getModValue(maxAttr),\n    };\n\n    atributosNumericos.splice(atributosNumericos.indexOf(maxAttr), 1);\n\n    freeAttrs = freeAttrs.filter((freeAttr) => freeAttr !== attr);\n  });\n\n  const charAttributes = freeAttrs.reduce((acc, attr, index) => {\n    const mod = getModValue(atributosNumericos[index]);\n    return {\n      ...acc,\n      [attr]: { name: attr, value: atributosNumericos[index], mod },\n    };\n  }, priorityGeneratedAttrs) as CharacterAttributes;\n\n  const sortedAttributes = Object.values(Atributo).reduce(\n    (acc, attr) => ({\n      ...acc,\n      [attr]: charAttributes[attr],\n    }),\n    {} as CharacterAttributes\n  );\n\n  steps.push({\n    label: 'Atributos iniciais',\n    type: 'Atributos',\n    value: Object.values(sortedAttributes).map((attr) => ({\n      name: attr.name,\n      value: attr.value,\n    })),\n  });\n\n  return modifyAttributesBasedOnRace(\n    race,\n    sortedAttributes,\n    classe.attrPriority,\n    steps\n  );\n}\n\nexport function selectRace(selectedOptions: SelectedOptions): Race {\n  if (selectedOptions.raca) {\n    return getRaceByName(selectedOptions.raca);\n  }\n\n  return getRaceByName(getRandomItemFromArray(RACAS).name);\n}\n\nfunction getRaceAndName(\n  selectedOptions: SelectedOptions,\n  sex: 'Homem' | 'Mulher'\n) {\n  // Passo 2.2: Escolher raça\n  const race = selectRace(selectedOptions);\n  // Passo 2.3: Definir nome\n  const nome = generateRandomName(race, sex);\n\n  return { nome, race };\n}\n\nexport function selectClass(\n  selectedOptions: SelectedOptions\n): ClassDescription {\n  let selectedClass: ClassDescription | undefined;\n  if (selectedOptions.classe) {\n    selectedClass = CLASSES.find(\n      (currentClasse) => currentClasse.name === selectedOptions.classe\n    );\n  }\n\n  if (!selectedClass) selectedClass = getRandomItemFromArray(CLASSES);\n  selectedClass = _.cloneDeep(selectedClass);\n  if (selectedClass.setup) return selectedClass.setup(selectedClass);\n  return selectedClass;\n}\n\nexport function getAttributesSkills(\n  attributes: CharacterAttributes,\n  usedSkills: Skill[]\n): Skill[] {\n  if (attributes.Inteligência.mod > 0) {\n    return getNotRepeatedSkillsByQtd(usedSkills, attributes.Inteligência.mod);\n  }\n\n  return [];\n}\n\nexport function getSkillsAndPowersByClassAndOrigin(\n  classe: ClassDescription,\n  origin: Origin | undefined,\n  attributes: CharacterAttributes,\n  steps: Step[]\n): {\n  skills: Skill[];\n  powers: { origin: OriginPower[]; general: PowersGetters };\n} {\n  let powers: {\n    origin: OriginPower[];\n    general: PowerGetter[];\n  } = {\n    origin: [],\n    general: [],\n  };\n\n  const usedSkills: Skill[] = [];\n  const classBaseSkills = getClassBaseSkills(classe);\n  usedSkills.push(...classBaseSkills);\n\n  if (origin) {\n    const { skills: originSkills, powers: originPowers } = getOriginBenefits(\n      usedSkills,\n      origin\n    );\n\n    const originSubSteps: SubStep[] = [];\n\n    if (originSkills.length) {\n      originSubSteps.push(\n        ...originSkills.map((skill) => ({\n          name: 'Perícia',\n          value: `${skill}`,\n        }))\n      );\n    }\n\n    if (originPowers.origin.length) {\n      originSubSteps.push(\n        ...originPowers.origin.map((power) => ({\n          name: 'Poder Geral',\n          value: ` ${power.name}`,\n        }))\n      );\n    }\n\n    if (originSubSteps.length) {\n      steps.push({\n        label: `Benefícios da orígem (${origin.name})`,\n        type: 'Poderes',\n        value: originSubSteps.map((substep) => ({\n          name: substep.name,\n          value: `${substep.value}`,\n        })),\n      });\n    }\n\n    powers = originPowers;\n    usedSkills.push(...originSkills);\n  }\n\n  const remainingSkills = getRemainingSkills(usedSkills, classe);\n  usedSkills.push(...remainingSkills);\n\n  const classSkills = [...classBaseSkills, ...remainingSkills];\n  steps.push({\n    label: 'Perícias da classe',\n    type: 'Perícias',\n    value: classSkills.map((skill) => ({ value: `${skill}` })),\n  });\n\n  const attributesSkills = getAttributesSkills(attributes, usedSkills);\n\n  if (attributesSkills.length) {\n    steps.push({\n      label: 'Perícias (+INT)',\n      type: 'Perícias',\n      value: attributesSkills.map((skill) => ({ value: `${skill}` })),\n    });\n  }\n\n  usedSkills.push(...attributesSkills);\n  return {\n    skills: usedSkills,\n    powers: {\n      ...powers,\n      general: {\n        Origem: powers.general,\n      },\n    },\n  };\n}\nfunction getWeapons(classe: ClassDescription) {\n  const weapons = [];\n\n  weapons.push(getRandomItemFromArray(EQUIPAMENTOS.armasSimples));\n\n  if (classe.proficiencias.includes(todasProficiencias.MARCIAIS)) {\n    weapons.push(getRandomItemFromArray(EQUIPAMENTOS.armasMarciais));\n  }\n\n  return weapons;\n}\n\nfunction getShields(classe: ClassDescription) {\n  const shields = [];\n  if (classe.proficiencias.includes(todasProficiencias.ESCUDOS)) {\n    shields.push(Escudos.ESCUDOLEVE);\n  }\n\n  return shields;\n}\n\nfunction getArmors(classe: ClassDescription) {\n  const armors = [];\n  if (classe.proficiencias.includes(todasProficiencias.PESADAS)) {\n    armors.push(Armaduras.BRUNEA);\n  } else if (classe.name !== 'Arcanista') {\n    armors.push(getRandomItemFromArray(EQUIPAMENTOS.armadurasLeves));\n  }\n\n  return armors;\n}\n\nfunction getClassEquipments(\n  classe: ClassDescription\n): Pick<BagEquipments, 'Arma' | 'Escudo' | 'Armadura' | 'Item Geral'> {\n  const weapons = getWeapons(classe);\n  const shields = getShields(classe);\n  const armors = getArmors(classe);\n\n  const instruments: Equipment[] = [];\n  if (classe.name === 'Bardo') {\n    const instrumentName = getRandomItemFromArray(bardInstruments);\n    instruments.push({\n      nome: instrumentName,\n      group: 'Item Geral',\n    });\n  }\n\n  return {\n    Arma: weapons,\n    Escudo: shields,\n    Armadura: armors,\n    'Item Geral': instruments,\n  };\n}\n\nfunction getInitialBag(origin: Origin | undefined): Bag {\n  // 6.1 A depender da classe os itens podem variar\n  const initialMoney = rollDice(4, 6, 0);\n  const equipments: Partial<BagEquipments> = {\n    'Item Geral': [\n      {\n        nome: `T$ ${initialMoney}`,\n        group: 'Item Geral',\n      },\n    ],\n  };\n\n  const originItems = origin?.getItems();\n\n  originItems?.forEach((equip) => {\n    if (typeof equip.equipment === 'string') {\n      const newEquip: Equipment = {\n        nome: `${equip.qtd ? `${equip.qtd}x ` : ''}${equip.equipment}`,\n        group: 'Item Geral',\n      };\n      equipments['Item Geral']?.push(newEquip);\n    } else {\n      // É uma arma\n      equipments.Arma?.push(equip.equipment);\n    }\n  });\n\n  return new Bag(equipments);\n}\n\nfunction getThyatisPowers(classe: ClassDescription) {\n  const unrestrictedPowers = DivindadeEnum.THYATIS.poderes.filter(\n    (poder) =>\n      poder.name !== GRANTED_POWERS.DOM_DA_IMORTALIDADE.name &&\n      poder.name !== GRANTED_POWERS.DOM_DA_RESSUREICAO.name\n  );\n\n  if (classe.name === 'Paladino')\n    return [...unrestrictedPowers, GRANTED_POWERS.DOM_DA_IMORTALIDADE];\n\n  if (classe.name === 'Clérigo')\n    return [...unrestrictedPowers, GRANTED_POWERS.DOM_DA_RESSUREICAO];\n\n  return [...unrestrictedPowers];\n}\n\n// Retorna a lista de poderes concedidos de uma divindade\nfunction getPoderesConcedidos(\n  divindade: Divindade,\n  todosPoderes: boolean,\n  classe: ClassDescription\n) {\n  if (todosPoderes) {\n    if (divindade.name === DivindadeEnum.THYATIS.name) {\n      return getThyatisPowers(classe);\n    }\n\n    return [...divindade.poderes];\n  }\n\n  return [getRandomItemFromArray(divindade.poderes)];\n}\n\n// Retorna se é devoto e qual a divindade\nfunction getReligiosidade(\n  classe: ClassDescription,\n  race: Race\n): CharacterReligion | undefined {\n  const isDevoto = Math.random() <= classe.probDevoto;\n  if (!isDevoto) {\n    return undefined;\n  }\n\n  const classFaithProbability =\n    classe.faithProbability || standardFaithProbability;\n  const raceFaithProbability =\n    race.faithProbability || standardFaithProbability;\n\n  const faithProbability = mergeFaithProbabilities(\n    classFaithProbability,\n    raceFaithProbability\n  );\n\n  const divindadeName = pickFaith(faithProbability);\n  const divindade = DivindadeEnum[divindadeName];\n\n  const todosPoderes = classe.qtdPoderesConcedidos === 'all';\n  const poderes = getPoderesConcedidos(divindade, todosPoderes, classe);\n\n  return { divindade, poderes };\n}\n\nfunction getNewSpells(classe: ClassDescription, usedSpells: Spell[]): Spell[] {\n  const { spellPath } = classe;\n  if (!spellPath) return [];\n\n  // TODO: enable picking spells from other circles besides c1 for higher levels\n  const { initialSpells, schools, spellType } = spellPath;\n  let spellList =\n    spellType === 'Arcane' ? allArcaneSpellsCircle1 : allDivineSpellsCircle1;\n\n  if (schools) {\n    if (spellType === 'Arcane') {\n      spellList = schools.flatMap((school) => arcaneSpellsCircle1[school]);\n    } else {\n      spellList = schools.flatMap((school) => divineSpellsCircle1[school]);\n    }\n  }\n\n  const filteredSpellList = spellList.filter(\n    (spell) => !usedSpells.find((usedSpell) => usedSpell.nome === spell.nome)\n  );\n\n  const selectedSpells = pickFromArray(filteredSpellList, initialSpells);\n  return selectedSpells;\n}\n\nfunction calcDisplacement(\n  bag: Bag,\n  raceDisplacement: number,\n  atributos: CharacterAttributes,\n  baseDisplacement: number\n): number {\n  const maxWeight = atributos.Força.value * 3;\n\n  if (bag.getWeight() > maxWeight) {\n    return raceDisplacement - 3;\n  }\n\n  return raceDisplacement + baseDisplacement;\n}\n\nexport function applyRaceAbilities(sheet: CharacterSheet): CharacterSheet {\n  let sheetClone = _.cloneDeep(sheet);\n  const subSteps: { name: string; value: string }[] = [];\n\n  sheetClone = (sheetClone.raca.abilities || []).reduce(\n    (acc, ability) => (ability.action ? ability.action(acc, subSteps) : acc),\n    sheetClone\n  );\n\n  if (subSteps.length) {\n    sheetClone.steps.push({\n      type: 'Poderes',\n      label: 'Habilidades de Raça',\n      value: subSteps,\n    });\n  }\n\n  return sheetClone;\n}\n\nfunction applyDivinePowers(sheet: CharacterSheet): CharacterSheet {\n  let sheetClone = _.cloneDeep(sheet);\n  const subSteps: { name: string; value: string }[] = [];\n\n  sheetClone = (sheetClone.devoto?.poderes || []).reduce(\n    (acc, power) => (power.action ? power.action(acc, subSteps) : acc),\n    sheetClone\n  );\n  if (subSteps.length) {\n    sheetClone.steps.push({\n      type: 'Poderes',\n      label: 'Poderes Concedidos',\n      value: subSteps,\n    });\n  }\n\n  return sheetClone;\n}\n\nfunction applyClassAbilities(sheet: CharacterSheet): CharacterSheet {\n  let sheetClone = _.cloneDeep(sheet);\n  const subSteps: { name: string; value: string }[] = [];\n\n  sheetClone = (sheetClone.classe.abilities || []).reduce(\n    (acc, ability) => (ability.action ? ability.action(acc, subSteps) : acc),\n    sheetClone\n  );\n  if (subSteps.length) {\n    sheetClone.steps.push({\n      type: 'Poderes',\n      label: 'Habilidades de Classe',\n      value: subSteps,\n    });\n  }\n\n  return sheetClone;\n}\n\nfunction applyGeneralPowers(sheet: CharacterSheet): CharacterSheet {\n  let sheetClone = _.cloneDeep(sheet);\n  const subSteps: { name: string; value: string }[] = [];\n\n  sheetClone = (sheetClone.generalPowers || []).reduce((acc, power) => {\n    // Se for Poder da Tormenta, remover 2 de Carisma\n    if (power.type === GeneralPowerType.TORMENTA) {\n      sheetClone.atributos.Carisma.value -= 1;\n      subSteps.push({\n        name: power.name,\n        value: 'Perdeu 1 de Carisma',\n      });\n    }\n    return power.action ? power.action(acc, subSteps) : acc;\n  }, sheetClone);\n\n  // Recalcular mod de carisma\n  sheetClone.atributos.Carisma.mod = getModValue(\n    sheetClone.atributos.Carisma.value\n  );\n\n  if (subSteps.length) {\n    sheetClone.steps.push({\n      type: 'Poderes',\n      label: 'Poderes Gerais',\n      value: subSteps,\n    });\n  }\n\n  return sheetClone;\n}\nfunction applyPowerGetters(\n  sheet: CharacterSheet,\n  powersGetters: PowersGetters\n): CharacterSheet {\n  const sheetClone = cloneDeep(sheet);\n\n  const subSteps: SubStep[] = [];\n\n  powersGetters.Origem.forEach((addPower) => {\n    addPower(sheetClone, subSteps);\n  });\n\n  if (subSteps.length && sheet.origin) {\n    sheetClone.steps.push({\n      type: 'Poderes',\n      label: `Benefícios da Origem (${sheet.origin.name})`,\n      value: subSteps,\n    });\n  }\n  return sheetClone;\n}\nfunction getAndApplyPowers(\n  sheet: CharacterSheet,\n  powersGetters: PowersGetters\n): CharacterSheet {\n  let updatedSheet = sheet;\n\n  updatedSheet = applyPowerGetters(updatedSheet, powersGetters);\n  // Aplicar poderes de divindade\n  updatedSheet = applyDivinePowers(updatedSheet);\n\n  // Aplicar habilidades da raça\n  updatedSheet = applyRaceAbilities(updatedSheet);\n\n  // Aplicar habilidades da classe\n  updatedSheet = applyClassAbilities(updatedSheet);\n\n  // Aplicar poderes gerais da origem\n  updatedSheet = applyGeneralPowers(updatedSheet);\n\n  return updatedSheet;\n}\n\nexport default function generateRandomSheet(\n  selectedOptions: SelectedOptions\n): CharacterSheet {\n  const level = 1;\n  let powersGetters: PowersGetters = {\n    Origem: [],\n  };\n\n  // Lista do passo-a-passo que deve ser populada\n  const steps: Step[] = [];\n\n  // Passo 1: Definir sexo\n  const sexos = ['Homem', 'Mulher'] as ('Homem' | 'Mulher')[];\n  const sexo = getRandomItemFromArray<'Homem' | 'Mulher'>(sexos);\n\n  // Passo 2: Definir raça\n  const { race, nome } = getRaceAndName(selectedOptions, sexo);\n\n  if (race.name !== 'Golem') {\n    steps.push({\n      label: 'Gênero',\n      value: [{ value: `${sexo === 'Homem' ? 'Masculino' : 'Feminino'}` }],\n    });\n  }\n\n  steps.push(\n    {\n      label: 'Raça',\n      value: [{ value: race.name }],\n    },\n    {\n      label: 'Nome',\n      value: [{ value: nome }],\n    }\n  );\n\n  // Passo 3: Definir a classe\n  const classe = selectClass(selectedOptions);\n\n  steps.push({\n    label: 'Classe',\n    value: [{ value: classe.name }],\n  });\n\n  // Passo 4: Definir origem (se houver)\n  let origin: Origin | undefined;\n  if (race.name !== 'Golem') {\n    origin = getRandomItemFromArray(Object.values(ORIGINS));\n  }\n\n  if (origin) {\n    steps.push({\n      label: 'Origem',\n      value: [{ value: origin?.name }],\n    });\n  }\n\n  // Passo 5: itens, feitiços, e valores iniciais\n  const initialBag = getInitialBag(origin);\n  const initialSpells: Spell[] = [];\n  const initialPV = classe.pv;\n  const initialPM = classe.pm;\n  const initialDefense = 10;\n\n  steps.push(\n    {\n      label: 'PV Inicial',\n      value: [{ value: initialPV }],\n    },\n    {\n      label: 'PM Inicial',\n      value: [{ value: initialPM }],\n    },\n    {\n      label: 'Defesa Inicial',\n      value: [{ value: initialDefense }],\n    },\n    {\n      label: 'Equipamentos Inciais e de Origem',\n      value: [],\n    }\n  );\n\n  // Passo 6: Gerar atributos finais\n  const atributos = generateFinalAttributes(classe, race, steps);\n\n  // Passo 6.1: Gerar valores dependentes de atributos\n  const maxWeight = atributos.Força.value * 3;\n  const summedPV = initialPV + atributos.Constituição.mod;\n\n  steps.push({\n    label: 'Vida máxima (+CON)',\n    value: [{ value: summedPV }],\n  });\n\n  // Passo 7: Escolher se vai ser devoto, e se for o caso puxar uma divindade\n  const devote = getReligiosidade(classe, race);\n\n  if (devote) {\n    steps.push({\n      label: `Devoto de ${devote.divindade.name}`,\n      value: [],\n    });\n  } else {\n    steps.push({\n      label: 'Não será devoto',\n      value: [],\n    });\n  }\n\n  // Passo 8: Gerar pericias treinadas\n  const {\n    powers: { general: generalGetters, origin: originPowers },\n    skills,\n  } = getSkillsAndPowersByClassAndOrigin(classe, origin, atributos, steps);\n\n  powersGetters = generalGetters;\n\n  let sheetOrigin;\n  if (origin) {\n    sheetOrigin = {\n      name: origin.name,\n      powers: originPowers,\n    };\n  }\n\n  let charSheet: CharacterSheet = {\n    id: uuid(),\n    nome,\n    sexo,\n    nivel: level,\n    atributos,\n    maxWeight,\n    raca: race,\n    classe,\n    pv: summedPV,\n    pm: initialPM,\n    defesa: initialDefense,\n    bag: initialBag,\n    devoto: devote,\n    origin: sheetOrigin,\n    displacement: 0,\n    size: getRaceSize(race),\n    generalPowers: [],\n    steps,\n    skills,\n    spells: initialSpells,\n  };\n\n  // Passo 9:\n  // Gerar poderes restantes, e aplicar habilidades, e poderes\n  charSheet = getAndApplyPowers(charSheet, powersGetters);\n\n  // Passo 10:\n  // Gerar equipamento\n  const classEquipments = getClassEquipments(classe);\n  charSheet.bag.addEquipment(classEquipments);\n\n  charSheet.steps.push({\n    type: 'Equipamentos',\n    label: 'Equipamentos da classe',\n    value: [...Object.values(classEquipments).flat()].map((equip) => ({\n      value: equip.nome,\n    })),\n  });\n\n  // Passo 11:\n  // Recalcular defesa\n  charSheet = calcDefense(charSheet);\n\n  // Passo 12: Gerar magias se possível\n  const newSpells = getNewSpells(charSheet.classe, charSheet.spells);\n  charSheet.spells.push(...newSpells);\n\n  if (newSpells.length) {\n    charSheet.steps.push({\n      label: 'Magias (1º círculo)',\n      type: 'Magias',\n      value: newSpells.map((spell) => ({ value: spell.nome })),\n    });\n  }\n\n  const displacement = calcDisplacement(\n    charSheet.bag,\n    getRaceDisplacement(charSheet.raca),\n    charSheet.atributos,\n    charSheet.displacement\n  );\n  charSheet.displacement = displacement;\n\n  // (enquanto nível atual < nivel desejado) {\n  //   Aumentar PV e PM\n  //   Seguir spell path\n  //   Pra cada poder em poderes:\n  //       sheet, poder -> sheet // atualiza a ficha pra o nível atual pelos poderes que modificam ao upar\n  //   nivel, classe, poderesgerais -> escolher poder novo aleatorio\n  //   sheet, poder novo -> sheet\n  // }\n\n  return charSheet;\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\nconst SELECT_THEMES = {\n  dark: {\n    primary: '#BDBDBD',\n    primary25: '#c9c9c9',\n    primary50: '#d4d4d4',\n    primary75: '#d4d4d4',\n    danger: '#de350b',\n    dangerLight: '#ffbdad',\n    neutral0: '#3D3D3D',\n    neutral15: '#363636',\n    neutral20: '#171717',\n    neutral30: '#181818',\n    neutral40: '#191919',\n    neutral50: '#FAFAFA',\n    neutral60: '#212121',\n    neutral80: '#FFF',\n  },\n  default: {\n    primary: '#2684ff',\n    primary75: '#4c9aff',\n    primary50: '#b2d4ff',\n    primary25: '#deebff',\n    danger: '#de350b',\n    dangerLight: '#ffbdad',\n    neutral0: '#ffffff',\n    neutral5: '#f2f2f2',\n    neutral10: '#e6e6e6',\n    neutral20: '#cccccc',\n    neutral30: '#b3b3b3',\n    neutral40: '#999999',\n    neutral50: '#808080',\n    neutral60: '#666666',\n    neutral70: '#4d4d4d',\n    neutral80: '#333333',\n    neutral90: '#1a1a1a',\n  },\n};\n\nconst getSelectTheme = (theme: string) => {\n  if (theme === 'dark') {\n    return SELECT_THEMES.dark;\n  }\n\n  return SELECT_THEMES.default;\n};\n\nexport default getSelectTheme;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Select from 'react-select';\nimport Fade from '@material-ui/core/Fade';\nimport { Link } from 'react-router-dom';\nimport RACAS from '../data/racas';\nimport CLASSES from '../data/classes';\nimport SelectOptions from '../interfaces/SelectedOptions';\nimport Result from './Result';\n\nimport generateRandomSheet from '../functions/general';\nimport CharacterSheet from '../interfaces/CharacterSheet';\n\nimport '../assets/css/mainScreen.css';\nimport getSelectTheme from '../functions/style';\n\nconst useStyles = makeStyles(() => ({\n  button: {\n    background: 'rgb(209, 50, 53);',\n    color: '#FAFAFA',\n    marginBottom: '10px',\n  },\n}));\n\ntype SelectedOption = { value: string; label: string };\n\ntype MainScreenProps = {\n  isDarkMode: boolean;\n};\n\nconst MainScreen: React.FC<MainScreenProps> = ({ isDarkMode }) => {\n  const classes = useStyles();\n\n  const [selectedOptions, setSelectedOptions] = React.useState<SelectOptions>({\n    nivel: 1,\n    classe: '',\n    raca: '',\n  });\n\n  const [randomSheet, setRandomSheet] = React.useState<CharacterSheet>();\n  const [showPresentation, setShowPresentation] = React.useState(true);\n\n  const onClickGenerate = () => {\n    const presentation = document.getElementById('presentation');\n    if (presentation) {\n      setInterval(() => {\n        presentation.style.opacity = '0';\n        presentation.style.display = 'none';\n      }, 200);\n    }\n    setShowPresentation(false);\n    const anotherRandomSheet = generateRandomSheet(selectedOptions);\n    setRandomSheet(anotherRandomSheet);\n  };\n\n  const onSelectRaca = (raca: SelectedOption | null) => {\n    setSelectedOptions({ ...selectedOptions, raca: raca?.value ?? '' });\n  };\n\n  const onSelectClasse = (classe: SelectedOption | null) => {\n    setSelectedOptions({ ...selectedOptions, classe: classe?.value ?? '' });\n  };\n\n  const racas = RACAS.map((raca) => ({ value: raca.name, label: raca.name }));\n  const classesopt = CLASSES.map((classe) => ({\n    value: classe.name,\n    label: classe.name,\n  }));\n  const niveis = [{ value: 1, label: 'Nível 1' }];\n\n  const formThemeColors = isDarkMode\n    ? getSelectTheme('dark')\n    : getSelectTheme('default');\n\n  return (\n    <div id='main-screen'>\n      <div className='filterArea'>\n        <Select\n          className='filterSelect'\n          options={[{ value: '', label: 'Todas as raças' }, ...racas]}\n          placeholder='Todas as raças'\n          onChange={onSelectRaca}\n          style={{ background: 'blue' }}\n          theme={(theme) => ({\n            ...theme,\n            colors: {\n              ...formThemeColors,\n            },\n          })}\n        />\n\n        <Select\n          className='filterSelect'\n          options={[{ value: '', label: 'Todas as classes' }, ...classesopt]}\n          placeholder='Todas as classes'\n          onChange={onSelectClasse}\n          theme={(theme) => ({\n            ...theme,\n            colors: {\n              ...formThemeColors,\n            },\n          })}\n        />\n\n        <Select\n          className='filterSelect'\n          options={niveis}\n          isSearchable={false}\n          value={niveis.filter((option) => option.value === 1)}\n          theme={(theme) => ({\n            ...theme,\n            colors: {\n              ...formThemeColors,\n            },\n          })}\n        />\n\n        <Button\n          variant='contained'\n          onClick={onClickGenerate}\n          className={classes.button}\n        >\n          Gerar Ficha\n        </Button>\n      </div>\n\n      <Fade in={showPresentation}>\n        <div id='presentation'>\n          <p>\n            <u>“Khalmyr tem o tabuleiro, mas quem move as peças é Nimb”</u>.\n            Deixe que Nimb decida o seu personagem.\n          </p>\n          <p>\n            <strong>Fichas de Nimb</strong> é um gerador de fichas aleátorias\n            para o sistema Tormenta 20. Com ele, é possível gerar fichas de\n            raças e classes aleatórias, e ter sua ficha montada\n            instanteneamente. Todos as características de uma ficha de Tormenta\n            20 serão gerados: atributos, perícias, origem, divindades, magias,\n            etc. Tudo respeitando as regras oficiais do jogo.\n          </p>\n          <p>\n            Esse gerador é uma ótima pedida para jogadores que queiram\n            experimentar um pouco de aleatoriedade ou não gastar muito tempo\n            criando a ficha, e principalmente para mestres que queriam gerar\n            seus NPCs de forma rápida e prática.\n          </p>\n          <p>\n            Para isso, adicionamos também a opção de filtro de raça, classe e\n            nivel, para que o mestre possa gerar NPCs conforme a narrativa\n            requisite.\n          </p>\n          <p>\n            Você pode ver as últimas alterações e o que planejamos para o futuro\n            no <Link to='/changelog'>changelog</Link>.\n          </p>\n\n          <p>\n            Se você encontrou algum problema, tem alguma sugestão ou quer\n            discutir e entender como é o funcionamento do Fichas de Nimb,{' '}\n            <a\n              href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/discussions'\n              target='blank'\n            >\n              clique aqui.\n            </a>\n          </p>\n\n          <p>\n            Se você é um desenvolvedor que queira contribuir com o projeto,\n            utilize o nosso{' '}\n            <a\n              href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/discussions'\n              target='blank'\n            >\n              GitHub\n            </a>\n            .\n          </p>\n        </div>\n      </Fade>\n\n      {randomSheet && <Result sheet={randomSheet} isDarkMode={isDarkMode} />}\n    </div>\n  );\n};\n\nexport default MainScreen;\n","export default __webpack_public_path__ + \"static/media/roadmap.ad2ceaa1.png\";","import React from 'react';\n\nimport roadmap from '../assets/images/roadmap.png';\n\nconst Changelog: React.FC = () => (\n  <div style={{ padding: '0 30px' }}>\n    <h1>Changelog</h1>\n    <p>\n      Segue a lista de mudanças no projeto. Última atualização em 09/04/2021.\n    </p>\n\n    <p>\n      Lembrando que se você <strong>encontrar algum problema</strong>, tiver\n      alguma <strong>ideia</strong> ou quiser perguntar alguma coisa, você pode\n      fazer isso na página de discussões do GitHub{' '}\n      <a\n        href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/discussions'\n        target='blank'\n      >\n        clicando aqui\n      </a>\n      .\n    </p>\n\n    <h3>Versão 1.0.3</h3>\n    <ul>\n      <li>\n        Corrigimos os poderes de Lena, que estavam definidos como os poderes de\n        Megalokk (obrigado{' '}\n        <a href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/discussions/277'>\n          @vnmontanhavn\n        </a>\n        ).\n      </li>\n    </ul>\n\n    <h3>Versão 1.0.2</h3>\n    <ul>\n      <li>\n        Modificadores do atributo base não estavam sendo aplicados na PM inicial\n        na ficha. Isso foi corrigido (obrigado{' '}\n        <a href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/discussions/224'>\n          @malkavfelipe\n        </a>\n        ):\n        <ul>\n          <li>Modificador de Carisma na PM inicial do Arcanista.</li>\n          <li>Modificador de Carisma na PM inicial do Bardo.</li>\n          <li>Modificador de Sabedoria na PM inicial do Clérigo.</li>\n          <li>Modificador de Sabedoria na PM inicial do Druída.</li>\n        </ul>\n      </li>\n      <li>\n        Corrigimos um problema que estava possibilitando que devotos de Thyatis\n        recebessem Dom da Imortalidade ou Dom da Resurreição sem poderem. Existe\n        uma restrição de classe para esses dois poderes:\n        <ul>\n          <li>Dom da Imortalidade só pode ser utilizado por Paladinos.</li>\n          <li>Dom da Ressureição só pode ser utilizado por Clérigos.</li>\n        </ul>\n      </li>\n      <li>Agora todas as magias estão mostrando a escola correspondente.</li>\n      <li>Os poderes na ficha agora estão expandidos por padrão.</li>\n      <li>\n        Bardo agora virá com um instrumento aleatório na lista de equipamentos\n        (sinta-se a vontade para sugerir novos instrumentos).\n      </li>\n    </ul>\n\n    <h3>Versão 1.0.1</h3>\n    <ul>\n      <li>\n        Trocamos o termo &quot;sexo&quot; por &quot;gênero&quot; no\n        passo-a-passo (até para melhor refletir o livro).\n      </li>\n      <li>\n        Na versão mobile, algumas magias não estavam com o custo de PM\n        aparecendo (é o valor entre paranteses antes do nome da magia). Isso foi\n        corrigido.\n      </li>\n      <li>\n        As magias <strong>Trasmissão da Loucura</strong> e{' '}\n        <strong>Augúrio</strong> são de segundo círculo, mas existem poderes\n        divinos que dão elas logo no primeiro nível. Antes, estava um texto\n        temporário no passo-a-passo e as magias não apareciam na lista. Agora,\n        elas aparecem e também está devidamente indicado no passo-a-passo.\n      </li>\n      <li>\n        O Druida estava sendo devoto de Allihanna, Aharadak ou Oceano, mas o\n        correto seria Megalokk ao invés de Aharadak. A troca foi realizada\n        (obrigado{' '}\n        <a href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/issues/212'>\n          @RuanOniiKun\n        </a>\n        )\n      </li>\n      <li>\n        Todos os personagens estavam sendo sempre devotos. Essa não é a ideia do\n        Fichas de Nimb, portanto corrigimos o problema. Existe uma chance do\n        personagem ser devoto, e isso é baseado na raça e na classe, como\n        indicamos no changelog da primeira versão.\n      </li>\n      <li>\n        O Minotauro estava com textos de Golem no passo-a-passo. Apesar disso,\n        as habilidades estavam sendo selecionadas corretamente e os efeitos bem\n        aplicados. A informação foi corrigida no passo-a-passo (obrigado{' '}\n        <a href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/issues/214'>\n          @dcatein\n        </a>\n        ).\n      </li>\n      <li>\n        As habilidades de Trog que modificavam a ficha não estavam aparecendo no\n        passo-a-passo, e adicionamos lá agora (obrigado{' '}\n        <a href='https://github.com/YuriAlessandro/gerador-ficha-tormenta20/issues/214#issuecomment-801424801'>\n          @dcatein\n        </a>\n        ).\n      </li>\n    </ul>\n\n    <h3>Versão 1.0</h3>\n    <ul>\n      <li>Suporte a todas as raças.</li>\n      <li>Suporte a todas as classes.</li>\n      <li>\n        Geração aleatório de atributos, considerando os modificadores\n        corretamente.\n      </li>\n      <li>\n        Habilidades de raça e classe que garantam modificações de atributo e/ou\n        novas perícias já são automaticamente consideradas.\n      </li>\n      <li>\n        Geração das magias inicias para Arcanista, Druida, Clérigo e Bardo.\n      </li>\n      <li>\n        Os nomes dos personagens são gerados aleatoriamente com base na raça.\n        Nome de Osteon é baseado em uma raça &quot;anterior&quot; - ou seja, a\n        raça do personagem antes dele morrer.\n      </li>\n      <li>\n        Filtros de geração permitem que você escolha qual raça/classe deseja\n        gerar.\n      </li>\n      <li>\n        Gerando aleatoriamente se um personagem é devoto ou não. Caso ele seja,\n        é escolhido aleatoriamente o Deus e os poderes concedidos.\n      </li>\n      <li>\n        Gerando origem aleatória. Os poderes de origem são escolhidos\n        aleatoriamente junto com as perícias, seguindos as regras determinadas\n        pelo sistema.\n      </li>\n      <li>\n        Equipamento inicial, com todo os itens oriundos da origem, dinheiro\n        inicial, e as armas aleatórias com base nas proficiências do personagem\n        gerado.\n      </li>\n    </ul>\n\n    <p>\n      Leve sempre em consideração que esse é um projeto sem fins lucrativos e de\n      código aberto, portanto alterações nele são feitas por voluntários que\n      trabalham em seu tempo livre.\n    </p>\n\n    <p>Segue abaixo o que ainda esperamos implementar nesse projeto.</p>\n    <img src={roadmap} alt='roadmap' />\n  </div>\n);\n\nexport default Changelog;\n","import React, { useEffect } from 'react';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { BrowserRouter as HashRouter, Switch, Route } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\nimport Sidebar from './components/Sidebar';\nimport MainScreen from './components/MainScreen';\nimport Changelog from './components/Changelog';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: '0 30px',\n  },\n  appbar: {\n    background: 'rgb(209, 50, 53)',\n  },\n  title: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  input: {\n    color: 'rgb(209, 50, 53)',\n  },\n  formControl: {\n    display: 'flex',\n    margin: theme.spacing(1),\n  },\n  menuButton: {},\n  bottom: {\n    bottom: 0,\n  },\n}));\n\nconst lightTheme = {\n  backgroundColor: '#f3f2f1',\n};\n\nconst darkTheme = {\n  backgroundColor: '#212121',\n  color: '#FFF',\n};\n\nfunction App(): JSX.Element {\n  const classes = useStyles();\n\n  const [sidebarVisibility, setSidebarVisibility] = React.useState(false);\n  const [isDarkTheme, setIsDarkTheme] = React.useState(false);\n  const [cookies, setCookie, removeCookie] = useCookies();\n\n  const onClickMenu = () => {\n    setSidebarVisibility(true);\n  };\n\n  const onCloseSidebar = () => {\n    setSidebarVisibility(false);\n  };\n\n  const onChangeTheme = () => {\n    if (isDarkTheme) {\n      removeCookie('dkmFdn');\n    } else {\n      setCookie('dkmFdn', !isDarkTheme);\n    }\n\n    setIsDarkTheme(!isDarkTheme);\n  };\n\n  useEffect(() => {\n    const darkMod = cookies.dkmFdn;\n    setIsDarkTheme(darkMod);\n  }, []);\n\n  return (\n    <div\n      className='App'\n      data-testid='app-component'\n      style={isDarkTheme ? darkTheme : lightTheme}\n    >\n      <HashRouter basename='/gerador-ficha-tormenta20/#'>\n        <div className='mainApp'>\n          <header className='App-header'>\n            <Sidebar\n              visible={sidebarVisibility}\n              onCloseSidebar={onCloseSidebar}\n              isDarkTheme={isDarkTheme}\n              onChangeTheme={onChangeTheme}\n            />\n            <AppBar position='static' className={classes.appbar}>\n              <Toolbar>\n                <IconButton\n                  onClick={onClickMenu}\n                  edge='start'\n                  className={classes.menuButton}\n                  color='inherit'\n                  aria-label='menu'\n                >\n                  <MenuIcon />\n                </IconButton>\n                <Typography variant='h6' className={classes.title}>\n                  Fichas de Nimb\n                </Typography>\n              </Toolbar>\n            </AppBar>\n          </header>\n          <div className='mainArea'>\n            <Switch>\n              <Route path='/changelog'>\n                <Changelog />\n              </Route>\n              <Route>\n                <MainScreen isDarkMode={isDarkTheme} />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </HashRouter>\n      <footer id='bottom'>\n        <div>\n          <p>\n            Tormenta 20 é um produto da Jambô Editora e seus respectivos\n            criadores, todos os direitos reservados.\n          </p>\n          <p>\n            <a href='https://jamboeditora.com.br/' target='blank'>\n              https://jamboeditora.com.br/\n            </a>\n          </p>\n          <p>Este é um projeto de fãs e não possui fins lucrativos</p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","/* eslint-disable */ \n\nconst reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const Keys = {\n  TRACKING_ID: 'UA-12341234-1'\n}\n\nexport default Keys;","import ReactGA from 'react-ga';\nimport Keys from './.config/keys';\n\nexport function setup(testMode = false): void {\n  ReactGA.initialize(Keys.TRACKING_ID, { testMode });\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as ReactGAConfig from './reactGA.config';\n\nReactGAConfig.setup();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}